var SF=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mye=SF((Ai,Ci)=>{function wF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W4={exports:{}},Ov={},j4={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Symbol.for("react.element"),bF=Symbol.for("react.portal"),MF=Symbol.for("react.fragment"),EF=Symbol.for("react.strict_mode"),TF=Symbol.for("react.profiler"),AF=Symbol.for("react.provider"),CF=Symbol.for("react.context"),PF=Symbol.for("react.forward_ref"),RF=Symbol.for("react.suspense"),LF=Symbol.for("react.memo"),DF=Symbol.for("react.lazy"),CT=Symbol.iterator;function IF(t){return t===null||typeof t!="object"?null:(t=CT&&t[CT]||t["@@iterator"],typeof t=="function"?t:null)}var $4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X4=Object.assign,Y4={};function Rf(t,e,n){this.props=t,this.context=e,this.refs=Y4,this.updater=n||$4}Rf.prototype.isReactComponent={};Rf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q4(){}q4.prototype=Rf.prototype;function YS(t,e,n){this.props=t,this.context=e,this.refs=Y4,this.updater=n||$4}var qS=YS.prototype=new q4;qS.constructor=YS;X4(qS,Rf.prototype);qS.isPureReactComponent=!0;var PT=Array.isArray,K4=Object.prototype.hasOwnProperty,KS={current:null},Z4={key:!0,ref:!0,__self:!0,__source:!0};function J4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)K4.call(e,r)&&!Z4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yp,type:t,key:s,ref:o,props:i,_owner:KS.current}}function OF(t,e){return{$$typeof:yp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ZS(t){return typeof t=="object"&&t!==null&&t.$$typeof===yp}function UF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RT=/\/+/g;function U1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UF(""+t.key):e.toString(36)}function h0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yp:case bF:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+U1(o,0):r,PT(i)?(n="",t!=null&&(n=t.replace(RT,"$&/")+"/"),h0(i,e,n,"",function(u){return u})):i!=null&&(ZS(i)&&(i=OF(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(RT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",PT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+U1(s,a);o+=h0(s,e,n,l,i)}else if(l=IF(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+U1(s,a++),o+=h0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $m(t,e,n){if(t==null)return t;var r=[],i=0;return h0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function NF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jr={current:null},d0={transition:null},kF={ReactCurrentDispatcher:jr,ReactCurrentBatchConfig:d0,ReactCurrentOwner:KS};kt.Children={map:$m,forEach:function(t,e,n){$m(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $m(t,function(){e++}),e},toArray:function(t){return $m(t,function(e){return e})||[]},only:function(t){if(!ZS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kt.Component=Rf;kt.Fragment=MF;kt.Profiler=TF;kt.PureComponent=YS;kt.StrictMode=EF;kt.Suspense=RF;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kF;kt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=KS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)K4.call(e,l)&&!Z4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yp,type:t.type,key:i,ref:s,props:r,_owner:o}};kt.createContext=function(t){return t={$$typeof:CF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AF,_context:t},t.Consumer=t};kt.createElement=J4;kt.createFactory=function(t){var e=J4.bind(null,t);return e.type=t,e};kt.createRef=function(){return{current:null}};kt.forwardRef=function(t){return{$$typeof:PF,render:t}};kt.isValidElement=ZS;kt.lazy=function(t){return{$$typeof:DF,_payload:{_status:-1,_result:t},_init:NF}};kt.memo=function(t,e){return{$$typeof:LF,type:t,compare:e===void 0?null:e}};kt.startTransition=function(t){var e=d0.transition;d0.transition={};try{t()}finally{d0.transition=e}};kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};kt.useCallback=function(t,e){return jr.current.useCallback(t,e)};kt.useContext=function(t){return jr.current.useContext(t)};kt.useDebugValue=function(){};kt.useDeferredValue=function(t){return jr.current.useDeferredValue(t)};kt.useEffect=function(t,e){return jr.current.useEffect(t,e)};kt.useId=function(){return jr.current.useId()};kt.useImperativeHandle=function(t,e,n){return jr.current.useImperativeHandle(t,e,n)};kt.useInsertionEffect=function(t,e){return jr.current.useInsertionEffect(t,e)};kt.useLayoutEffect=function(t,e){return jr.current.useLayoutEffect(t,e)};kt.useMemo=function(t,e){return jr.current.useMemo(t,e)};kt.useReducer=function(t,e,n){return jr.current.useReducer(t,e,n)};kt.useRef=function(t){return jr.current.useRef(t)};kt.useState=function(t){return jr.current.useState(t)};kt.useSyncExternalStore=function(t,e,n){return jr.current.useSyncExternalStore(t,e,n)};kt.useTransition=function(){return jr.current.useTransition()};kt.version="18.2.0";j4.exports=kt;var re=j4.exports;const X=vp(re),FF=wF({__proto__:null,default:X},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BF=re,zF=Symbol.for("react.element"),VF=Symbol.for("react.fragment"),HF=Object.prototype.hasOwnProperty,GF=BF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WF={key:!0,ref:!0,__self:!0,__source:!0};function Q4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HF.call(e,r)&&!WF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zF,type:t,key:s,ref:o,props:i,_owner:GF.current}}Ov.Fragment=VF;Ov.jsx=Q4;Ov.jsxs=Q4;W4.exports=Ov;var le=W4.exports,T_={},eL={exports:{}},Ui={},tL={exports:{}},nL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,z){var k=U.length;U.push(z);e:for(;0<k;){var N=k-1>>>1,I=U[N];if(0<i(I,z))U[N]=z,U[k]=I,k=N;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],k=U.pop();if(k!==z){U[0]=k;e:for(var N=0,I=U.length,J=I>>>1;N<J;){var Z=2*(N+1)-1,te=U[Z],ie=Z+1,se=U[ie];if(0>i(te,k))ie<I&&0>i(se,te)?(U[N]=se,U[ie]=k,N=ie):(U[N]=te,U[Z]=k,N=Z);else if(ie<I&&0>i(se,k))U[N]=se,U[ie]=k,N=ie;else break e}}return z}function i(U,z){var k=U.sortIndex-z.sortIndex;return k!==0?k:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=U)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function M(U){if(_=!1,w(U),!g)if(n(l)!==null)g=!0,ee(T);else{var z=n(u);z!==null&&ne(M,z.startTime-U)}}function T(U,z){g=!1,_&&(_=!1,v(L),L=-1),m=!0;var k=p;try{for(w(z),d=n(l);d!==null&&(!(d.expirationTime>z)||U&&!F());){var N=d.callback;if(typeof N=="function"){d.callback=null,p=d.priorityLevel;var I=N(d.expirationTime<=z);z=t.unstable_now(),typeof I=="function"?d.callback=I:d===n(l)&&r(l),w(z)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var Z=n(u);Z!==null&&ne(M,Z.startTime-z),J=!1}return J}finally{d=null,p=k,m=!1}}var A=!1,R=null,L=-1,C=5,P=-1;function F(){return!(t.unstable_now()-P<C)}function B(){if(R!==null){var U=t.unstable_now();P=U;var z=!0;try{z=R(!0,U)}finally{z?W():(A=!1,R=null)}}else A=!1}var W;if(typeof S=="function")W=function(){S(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=B,W=function(){q.postMessage(null)}}else W=function(){x(B,0)};function ee(U){R=U,A||(A=!0,W())}function ne(U,z){L=x(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,ee(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var k=p;p=z;try{return U()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var k=p;p=U;try{return z()}finally{p=k}},t.unstable_scheduleCallback=function(U,z,k){var N=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?N+k:N):k=N,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=k+I,U={id:c++,callback:z,priorityLevel:U,startTime:k,expirationTime:I,sortIndex:-1},k>N?(U.sortIndex=k,e(u,U),n(l)===null&&U===n(u)&&(_?(v(L),L=-1):_=!0,ne(M,k-N))):(U.sortIndex=I,e(l,U),g||m||(g=!0,ee(T))),U},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(U){var z=p;return function(){var k=p;p=z;try{return U.apply(this,arguments)}finally{p=k}}}})(nL);tL.exports=nL;var jF=tL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rL=re,Li=jF;function $e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iL=new Set,Cd={};function hu(t,e){gf(t,e),gf(t+"Capture",e)}function gf(t,e){for(Cd[t]=e,t=0;t<e.length;t++)iL.add(e[t])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A_=Object.prototype.hasOwnProperty,$F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LT={},DT={};function XF(t){return A_.call(DT,t)?!0:A_.call(LT,t)?!1:$F.test(t)?DT[t]=!0:(LT[t]=!0,!1)}function YF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qF(t,e,n,r){if(e===null||typeof e>"u"||YF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $r(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mr[t]=new $r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mr[e]=new $r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mr[t]=new $r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mr[t]=new $r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mr[t]=new $r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mr[t]=new $r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mr[t]=new $r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mr[t]=new $r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mr[t]=new $r(t,5,!1,t.toLowerCase(),null,!1,!1)});var JS=/[\-:]([a-z])/g;function QS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JS,QS);mr[e]=new $r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JS,QS);mr[e]=new $r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JS,QS);mr[e]=new $r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mr[t]=new $r(t,1,!1,t.toLowerCase(),null,!1,!1)});mr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mr[t]=new $r(t,1,!1,t.toLowerCase(),null,!0,!0)});function ew(t,e,n,r){var i=mr.hasOwnProperty(e)?mr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qF(e,n,i,r)&&(n=null),r||i===null?XF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bo=rL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xm=Symbol.for("react.element"),Fc=Symbol.for("react.portal"),Bc=Symbol.for("react.fragment"),tw=Symbol.for("react.strict_mode"),C_=Symbol.for("react.profiler"),sL=Symbol.for("react.provider"),oL=Symbol.for("react.context"),nw=Symbol.for("react.forward_ref"),P_=Symbol.for("react.suspense"),R_=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),fa=Symbol.for("react.lazy"),aL=Symbol.for("react.offscreen"),IT=Symbol.iterator;function wh(t){return t===null||typeof t!="object"?null:(t=IT&&t[IT]||t["@@iterator"],typeof t=="function"?t:null)}var Tn=Object.assign,N1;function Kh(t){if(N1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);N1=e&&e[1]||""}return`
`+N1+t}var k1=!1;function F1(t,e){if(!t||k1)return"";k1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{k1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kh(t):""}function KF(t){switch(t.tag){case 5:return Kh(t.type);case 16:return Kh("Lazy");case 13:return Kh("Suspense");case 19:return Kh("SuspenseList");case 0:case 2:case 15:return t=F1(t.type,!1),t;case 11:return t=F1(t.type.render,!1),t;case 1:return t=F1(t.type,!0),t;default:return""}}function L_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bc:return"Fragment";case Fc:return"Portal";case C_:return"Profiler";case tw:return"StrictMode";case P_:return"Suspense";case R_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oL:return(t.displayName||"Context")+".Consumer";case sL:return(t._context.displayName||"Context")+".Provider";case nw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rw:return e=t.displayName||null,e!==null?e:L_(t.type)||"Memo";case fa:e=t._payload,t=t._init;try{return L_(t(e))}catch{}}return null}function ZF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L_(e);case 8:return e===tw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ka(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JF(t){var e=lL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ym(t){t._valueTracker||(t._valueTracker=JF(t))}function uL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function F0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function D_(t,e){var n=e.checked;return Tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function OT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ka(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cL(t,e){e=e.checked,e!=null&&ew(t,"checked",e,!1)}function I_(t,e){cL(t,e);var n=ka(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?O_(t,e.type,n):e.hasOwnProperty("defaultValue")&&O_(t,e.type,ka(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function O_(t,e,n){(e!=="number"||F0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zh=Array.isArray;function of(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ka(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function U_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($e(91));return Tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($e(92));if(Zh(n)){if(1<n.length)throw Error($e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ka(n)}}function fL(t,e){var n=ka(e.value),r=ka(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qm,dL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qm=qm||document.createElement("div"),qm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QF=["Webkit","ms","Moz","O"];Object.keys(od).forEach(function(t){QF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),od[e]=od[t]})});function pL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||od.hasOwnProperty(t)&&od[t]?(""+e).trim():e+"px"}function mL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e6=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k_(t,e){if(e){if(e6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($e(61))}if(e.style!=null&&typeof e.style!="object")throw Error($e(62))}}function F_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B_=null;function iw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var z_=null,af=null,lf=null;function FT(t){if(t=Sp(t)){if(typeof z_!="function")throw Error($e(280));var e=t.stateNode;e&&(e=Bv(e),z_(t.stateNode,t.type,e))}}function gL(t){af?lf?lf.push(t):lf=[t]:af=t}function vL(){if(af){var t=af,e=lf;if(lf=af=null,FT(t),e)for(t=0;t<e.length;t++)FT(e[t])}}function yL(t,e){return t(e)}function xL(){}var B1=!1;function _L(t,e,n){if(B1)return t(e,n);B1=!0;try{return yL(t,e,n)}finally{B1=!1,(af!==null||lf!==null)&&(xL(),vL())}}function Rd(t,e){var n=t.stateNode;if(n===null)return null;var r=Bv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($e(231,e,typeof n));return n}var V_=!1;if(Do)try{var bh={};Object.defineProperty(bh,"passive",{get:function(){V_=!0}}),window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{V_=!1}function t6(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ad=!1,B0=null,z0=!1,H_=null,n6={onError:function(t){ad=!0,B0=t}};function r6(t,e,n,r,i,s,o,a,l){ad=!1,B0=null,t6.apply(n6,arguments)}function i6(t,e,n,r,i,s,o,a,l){if(r6.apply(this,arguments),ad){if(ad){var u=B0;ad=!1,B0=null}else throw Error($e(198));z0||(z0=!0,H_=u)}}function du(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BT(t){if(du(t)!==t)throw Error($e(188))}function s6(t){var e=t.alternate;if(!e){if(e=du(t),e===null)throw Error($e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return BT(i),t;if(s===r)return BT(i),e;s=s.sibling}throw Error($e(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?t:e}function wL(t){return t=s6(t),t!==null?bL(t):null}function bL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bL(t);if(e!==null)return e;t=t.sibling}return null}var ML=Li.unstable_scheduleCallback,zT=Li.unstable_cancelCallback,o6=Li.unstable_shouldYield,a6=Li.unstable_requestPaint,Fn=Li.unstable_now,l6=Li.unstable_getCurrentPriorityLevel,sw=Li.unstable_ImmediatePriority,EL=Li.unstable_UserBlockingPriority,V0=Li.unstable_NormalPriority,u6=Li.unstable_LowPriority,TL=Li.unstable_IdlePriority,Uv=null,js=null;function c6(t){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(Uv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:d6,f6=Math.log,h6=Math.LN2;function d6(t){return t>>>=0,t===0?32:31-(f6(t)/h6|0)|0}var Km=64,Zm=4194304;function Jh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function H0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jh(a):(s&=o,s!==0&&(r=Jh(s)))}else o=n&~i,o!==0?r=Jh(o):s!==0&&(r=Jh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ss(e),i=1<<n,r|=t[n],e&=~i;return r}function p6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ss(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=p6(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function G_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AL(){var t=Km;return Km<<=1,!(Km&4194240)&&(Km=64),t}function z1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ss(e),t[e]=n}function g6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ss(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ow(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ss(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Zt=0;function CL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PL,aw,RL,LL,DL,W_=!1,Jm=[],_a=null,Sa=null,wa=null,Ld=new Map,Dd=new Map,ma=[],v6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VT(t,e){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(e.pointerId)}}function Mh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sp(e),e!==null&&aw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function y6(t,e,n,r,i){switch(e){case"focusin":return _a=Mh(_a,t,e,n,r,i),!0;case"dragenter":return Sa=Mh(Sa,t,e,n,r,i),!0;case"mouseover":return wa=Mh(wa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ld.set(s,Mh(Ld.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dd.set(s,Mh(Dd.get(s)||null,t,e,n,r,i)),!0}return!1}function IL(t){var e=zl(t.target);if(e!==null){var n=du(e);if(n!==null){if(e=n.tag,e===13){if(e=SL(n),e!==null){t.blockedOn=e,DL(t.priority,function(){RL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function p0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=j_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B_=r,n.target.dispatchEvent(r),B_=null}else return e=Sp(n),e!==null&&aw(e),t.blockedOn=n,!1;e.shift()}return!0}function HT(t,e,n){p0(t)&&n.delete(e)}function x6(){W_=!1,_a!==null&&p0(_a)&&(_a=null),Sa!==null&&p0(Sa)&&(Sa=null),wa!==null&&p0(wa)&&(wa=null),Ld.forEach(HT),Dd.forEach(HT)}function Eh(t,e){t.blockedOn===e&&(t.blockedOn=null,W_||(W_=!0,Li.unstable_scheduleCallback(Li.unstable_NormalPriority,x6)))}function Id(t){function e(i){return Eh(i,t)}if(0<Jm.length){Eh(Jm[0],t);for(var n=1;n<Jm.length;n++){var r=Jm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_a!==null&&Eh(_a,t),Sa!==null&&Eh(Sa,t),wa!==null&&Eh(wa,t),Ld.forEach(e),Dd.forEach(e),n=0;n<ma.length;n++)r=ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)IL(n),n.blockedOn===null&&ma.shift()}var uf=Bo.ReactCurrentBatchConfig,G0=!0;function _6(t,e,n,r){var i=Zt,s=uf.transition;uf.transition=null;try{Zt=1,lw(t,e,n,r)}finally{Zt=i,uf.transition=s}}function S6(t,e,n,r){var i=Zt,s=uf.transition;uf.transition=null;try{Zt=4,lw(t,e,n,r)}finally{Zt=i,uf.transition=s}}function lw(t,e,n,r){if(G0){var i=j_(t,e,n,r);if(i===null)K1(t,e,r,W0,n),VT(t,r);else if(y6(i,t,e,n,r))r.stopPropagation();else if(VT(t,r),e&4&&-1<v6.indexOf(t)){for(;i!==null;){var s=Sp(i);if(s!==null&&PL(s),s=j_(t,e,n,r),s===null&&K1(t,e,r,W0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else K1(t,e,r,null,n)}}var W0=null;function j_(t,e,n,r){if(W0=null,t=iw(r),t=zl(t),t!==null)if(e=du(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return W0=t,null}function OL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l6()){case sw:return 1;case EL:return 4;case V0:case u6:return 16;case TL:return 536870912;default:return 16}default:return 16}}var va=null,uw=null,m0=null;function UL(){if(m0)return m0;var t,e=uw,n=e.length,r,i="value"in va?va.value:va.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return m0=i.slice(t,1<r?1-r:void 0)}function g0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qm(){return!0}function GT(){return!1}function Ni(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qm:GT,this.isPropagationStopped=GT,this}return Tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qm)},persist:function(){},isPersistent:Qm}),e}var Lf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cw=Ni(Lf),_p=Tn({},Lf,{view:0,detail:0}),w6=Ni(_p),V1,H1,Th,Nv=Tn({},_p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Th&&(Th&&t.type==="mousemove"?(V1=t.screenX-Th.screenX,H1=t.screenY-Th.screenY):H1=V1=0,Th=t),V1)},movementY:function(t){return"movementY"in t?t.movementY:H1}}),WT=Ni(Nv),b6=Tn({},Nv,{dataTransfer:0}),M6=Ni(b6),E6=Tn({},_p,{relatedTarget:0}),G1=Ni(E6),T6=Tn({},Lf,{animationName:0,elapsedTime:0,pseudoElement:0}),A6=Ni(T6),C6=Tn({},Lf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P6=Ni(C6),R6=Tn({},Lf,{data:0}),jT=Ni(R6),L6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I6[t])?!!e[t]:!1}function fw(){return O6}var U6=Tn({},_p,{key:function(t){if(t.key){var e=L6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=g0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fw,charCode:function(t){return t.type==="keypress"?g0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?g0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N6=Ni(U6),k6=Tn({},Nv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$T=Ni(k6),F6=Tn({},_p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fw}),B6=Ni(F6),z6=Tn({},Lf,{propertyName:0,elapsedTime:0,pseudoElement:0}),V6=Ni(z6),H6=Tn({},Nv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G6=Ni(H6),W6=[9,13,27,32],hw=Do&&"CompositionEvent"in window,ld=null;Do&&"documentMode"in document&&(ld=document.documentMode);var j6=Do&&"TextEvent"in window&&!ld,NL=Do&&(!hw||ld&&8<ld&&11>=ld),XT=String.fromCharCode(32),YT=!1;function kL(t,e){switch(t){case"keyup":return W6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zc=!1;function $6(t,e){switch(t){case"compositionend":return FL(e);case"keypress":return e.which!==32?null:(YT=!0,XT);case"textInput":return t=e.data,t===XT&&YT?null:t;default:return null}}function X6(t,e){if(zc)return t==="compositionend"||!hw&&kL(t,e)?(t=UL(),m0=uw=va=null,zc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NL&&e.locale!=="ko"?null:e.data;default:return null}}var Y6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y6[t.type]:e==="textarea"}function BL(t,e,n,r){gL(r),e=j0(e,"onChange"),0<e.length&&(n=new cw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ud=null,Od=null;function q6(t){KL(t,0)}function kv(t){var e=Gc(t);if(uL(e))return t}function K6(t,e){if(t==="change")return e}var zL=!1;if(Do){var W1;if(Do){var j1="oninput"in document;if(!j1){var KT=document.createElement("div");KT.setAttribute("oninput","return;"),j1=typeof KT.oninput=="function"}W1=j1}else W1=!1;zL=W1&&(!document.documentMode||9<document.documentMode)}function ZT(){ud&&(ud.detachEvent("onpropertychange",VL),Od=ud=null)}function VL(t){if(t.propertyName==="value"&&kv(Od)){var e=[];BL(e,Od,t,iw(t)),_L(q6,e)}}function Z6(t,e,n){t==="focusin"?(ZT(),ud=e,Od=n,ud.attachEvent("onpropertychange",VL)):t==="focusout"&&ZT()}function J6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kv(Od)}function Q6(t,e){if(t==="click")return kv(e)}function eB(t,e){if(t==="input"||t==="change")return kv(e)}function tB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ms=typeof Object.is=="function"?Object.is:tB;function Ud(t,e){if(Ms(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!A_.call(e,i)||!Ms(t[i],e[i]))return!1}return!0}function JT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function QT(t,e){var n=JT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JT(n)}}function HL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GL(){for(var t=window,e=F0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=F0(t.document)}return e}function dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nB(t){var e=GL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HL(n.ownerDocument.documentElement,n)){if(r!==null&&dw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=QT(n,s);var o=QT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rB=Do&&"documentMode"in document&&11>=document.documentMode,Vc=null,$_=null,cd=null,X_=!1;function e3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;X_||Vc==null||Vc!==F0(r)||(r=Vc,"selectionStart"in r&&dw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cd&&Ud(cd,r)||(cd=r,r=j0($_,"onSelect"),0<r.length&&(e=new cw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vc)))}function eg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hc={animationend:eg("Animation","AnimationEnd"),animationiteration:eg("Animation","AnimationIteration"),animationstart:eg("Animation","AnimationStart"),transitionend:eg("Transition","TransitionEnd")},$1={},WL={};Do&&(WL=document.createElement("div").style,"AnimationEvent"in window||(delete Hc.animationend.animation,delete Hc.animationiteration.animation,delete Hc.animationstart.animation),"TransitionEvent"in window||delete Hc.transitionend.transition);function Fv(t){if($1[t])return $1[t];if(!Hc[t])return t;var e=Hc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WL)return $1[t]=e[n];return t}var jL=Fv("animationend"),$L=Fv("animationiteration"),XL=Fv("animationstart"),YL=Fv("transitionend"),qL=new Map,t3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(t,e){qL.set(t,e),hu(e,[t])}for(var X1=0;X1<t3.length;X1++){var Y1=t3[X1],iB=Y1.toLowerCase(),sB=Y1[0].toUpperCase()+Y1.slice(1);Xa(iB,"on"+sB)}Xa(jL,"onAnimationEnd");Xa($L,"onAnimationIteration");Xa(XL,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(YL,"onTransitionEnd");gf("onMouseEnter",["mouseout","mouseover"]);gf("onMouseLeave",["mouseout","mouseover"]);gf("onPointerEnter",["pointerout","pointerover"]);gf("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qh));function n3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i6(r,e,void 0,t),t.currentTarget=null}function KL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;n3(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;n3(i,a,u),s=l}}}if(z0)throw t=H_,z0=!1,H_=null,t}function on(t,e){var n=e[J_];n===void 0&&(n=e[J_]=new Set);var r=t+"__bubble";n.has(r)||(ZL(e,t,2,!1),n.add(r))}function q1(t,e,n){var r=0;e&&(r|=4),ZL(n,t,r,e)}var tg="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[tg]){t[tg]=!0,iL.forEach(function(n){n!=="selectionchange"&&(oB.has(n)||q1(n,!1,t),q1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tg]||(e[tg]=!0,q1("selectionchange",!1,e))}}function ZL(t,e,n,r){switch(OL(e)){case 1:var i=_6;break;case 4:i=S6;break;default:i=lw}n=i.bind(null,e,n,t),i=void 0,!V_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function K1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_L(function(){var u=s,c=iw(n),d=[];e:{var p=qL.get(t);if(p!==void 0){var m=cw,g=t;switch(t){case"keypress":if(g0(n)===0)break e;case"keydown":case"keyup":m=N6;break;case"focusin":g="focus",m=G1;break;case"focusout":g="blur",m=G1;break;case"beforeblur":case"afterblur":m=G1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=WT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=M6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=B6;break;case jL:case $L:case XL:m=A6;break;case YL:m=V6;break;case"scroll":m=w6;break;case"wheel":m=G6;break;case"copy":case"cut":case"paste":m=P6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$T}var _=(e&4)!==0,x=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var S=u,w;S!==null;){w=S;var M=w.stateNode;if(w.tag===5&&M!==null&&(w=M,v!==null&&(M=Rd(S,v),M!=null&&_.push(kd(S,M,w)))),x)break;S=S.return}0<_.length&&(p=new m(p,g,null,n,c),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==B_&&(g=n.relatedTarget||n.fromElement)&&(zl(g)||g[Io]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?zl(g):null,g!==null&&(x=du(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=WT,M="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(_=$T,M="onPointerLeave",v="onPointerEnter",S="pointer"),x=m==null?p:Gc(m),w=g==null?p:Gc(g),p=new _(M,S+"leave",m,n,c),p.target=x,p.relatedTarget=w,M=null,zl(c)===u&&(_=new _(v,S+"enter",g,n,c),_.target=w,_.relatedTarget=x,M=_),x=M,m&&g)t:{for(_=m,v=g,S=0,w=_;w;w=ju(w))S++;for(w=0,M=v;M;M=ju(M))w++;for(;0<S-w;)_=ju(_),S--;for(;0<w-S;)v=ju(v),w--;for(;S--;){if(_===v||v!==null&&_===v.alternate)break t;_=ju(_),v=ju(v)}_=null}else _=null;m!==null&&r3(d,p,m,_,!1),g!==null&&x!==null&&r3(d,x,g,_,!0)}}e:{if(p=u?Gc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=K6;else if(qT(p))if(zL)T=eB;else{T=J6;var A=Z6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=Q6);if(T&&(T=T(t,u))){BL(d,T,n,c);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&O_(p,"number",p.value)}switch(A=u?Gc(u):window,t){case"focusin":(qT(A)||A.contentEditable==="true")&&(Vc=A,$_=u,cd=null);break;case"focusout":cd=$_=Vc=null;break;case"mousedown":X_=!0;break;case"contextmenu":case"mouseup":case"dragend":X_=!1,e3(d,n,c);break;case"selectionchange":if(rB)break;case"keydown":case"keyup":e3(d,n,c)}var R;if(hw)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else zc?kL(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(NL&&n.locale!=="ko"&&(zc||L!=="onCompositionStart"?L==="onCompositionEnd"&&zc&&(R=UL()):(va=c,uw="value"in va?va.value:va.textContent,zc=!0)),A=j0(u,L),0<A.length&&(L=new jT(L,t,null,n,c),d.push({event:L,listeners:A}),R?L.data=R:(R=FL(n),R!==null&&(L.data=R)))),(R=j6?$6(t,n):X6(t,n))&&(u=j0(u,"onBeforeInput"),0<u.length&&(c=new jT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}KL(d,e)})}function kd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function j0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rd(t,n),s!=null&&r.unshift(kd(t,s,i)),s=Rd(t,e),s!=null&&r.push(kd(t,s,i))),t=t.return}return r}function ju(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r3(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Rd(n,s),l!=null&&o.unshift(kd(n,l,a))):i||(l=Rd(n,s),l!=null&&o.push(kd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aB=/\r\n?/g,lB=/\u0000|\uFFFD/g;function i3(t){return(typeof t=="string"?t:""+t).replace(aB,`
`).replace(lB,"")}function ng(t,e,n){if(e=i3(e),i3(t)!==e&&n)throw Error($e(425))}function $0(){}var Y_=null,q_=null;function K_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Z_=typeof setTimeout=="function"?setTimeout:void 0,uB=typeof clearTimeout=="function"?clearTimeout:void 0,s3=typeof Promise=="function"?Promise:void 0,cB=typeof queueMicrotask=="function"?queueMicrotask:typeof s3<"u"?function(t){return s3.resolve(null).then(t).catch(fB)}:Z_;function fB(t){setTimeout(function(){throw t})}function Z1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Id(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Id(e)}function ba(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Df=Math.random().toString(36).slice(2),Hs="__reactFiber$"+Df,Fd="__reactProps$"+Df,Io="__reactContainer$"+Df,J_="__reactEvents$"+Df,hB="__reactListeners$"+Df,dB="__reactHandles$"+Df;function zl(t){var e=t[Hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Io]||n[Hs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o3(t);t!==null;){if(n=t[Hs])return n;t=o3(t)}return e}t=n,n=t.parentNode}return null}function Sp(t){return t=t[Hs]||t[Io],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($e(33))}function Bv(t){return t[Fd]||null}var Q_=[],Wc=-1;function Ya(t){return{current:t}}function un(t){0>Wc||(t.current=Q_[Wc],Q_[Wc]=null,Wc--)}function sn(t,e){Wc++,Q_[Wc]=t.current,t.current=e}var Fa={},Lr=Ya(Fa),si=Ya(!1),tu=Fa;function vf(t,e){var n=t.type.contextTypes;if(!n)return Fa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function oi(t){return t=t.childContextTypes,t!=null}function X0(){un(si),un(Lr)}function a3(t,e,n){if(Lr.current!==Fa)throw Error($e(168));sn(Lr,e),sn(si,n)}function JL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($e(108,ZF(t)||"Unknown",i));return Tn({},n,r)}function Y0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fa,tu=Lr.current,sn(Lr,t),sn(si,si.current),!0}function l3(t,e,n){var r=t.stateNode;if(!r)throw Error($e(169));n?(t=JL(t,e,tu),r.__reactInternalMemoizedMergedChildContext=t,un(si),un(Lr),sn(Lr,t)):un(si),sn(si,n)}var So=null,zv=!1,J1=!1;function QL(t){So===null?So=[t]:So.push(t)}function pB(t){zv=!0,QL(t)}function qa(){if(!J1&&So!==null){J1=!0;var t=0,e=Zt;try{var n=So;for(Zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}So=null,zv=!1}catch(i){throw So!==null&&(So=So.slice(t+1)),ML(sw,qa),i}finally{Zt=e,J1=!1}}return null}var jc=[],$c=0,q0=null,K0=0,Ki=[],Zi=0,nu=null,Mo=1,Eo="";function Pl(t,e){jc[$c++]=K0,jc[$c++]=q0,q0=t,K0=e}function e5(t,e,n){Ki[Zi++]=Mo,Ki[Zi++]=Eo,Ki[Zi++]=nu,nu=t;var r=Mo;t=Eo;var i=32-Ss(r)-1;r&=~(1<<i),n+=1;var s=32-Ss(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mo=1<<32-Ss(e)+i|n<<i|r,Eo=s+t}else Mo=1<<s|n<<i|r,Eo=t}function pw(t){t.return!==null&&(Pl(t,1),e5(t,1,0))}function mw(t){for(;t===q0;)q0=jc[--$c],jc[$c]=null,K0=jc[--$c],jc[$c]=null;for(;t===nu;)nu=Ki[--Zi],Ki[Zi]=null,Eo=Ki[--Zi],Ki[Zi]=null,Mo=Ki[--Zi],Ki[Zi]=null}var Pi=null,Ei=null,mn=!1,vs=null;function t5(t,e){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function u3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pi=t,Ei=ba(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pi=t,Ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nu!==null?{id:Mo,overflow:Eo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pi=t,Ei=null,!0):!1;default:return!1}}function e2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t2(t){if(mn){var e=Ei;if(e){var n=e;if(!u3(t,e)){if(e2(t))throw Error($e(418));e=ba(n.nextSibling);var r=Pi;e&&u3(t,e)?t5(r,n):(t.flags=t.flags&-4097|2,mn=!1,Pi=t)}}else{if(e2(t))throw Error($e(418));t.flags=t.flags&-4097|2,mn=!1,Pi=t}}}function c3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pi=t}function rg(t){if(t!==Pi)return!1;if(!mn)return c3(t),mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K_(t.type,t.memoizedProps)),e&&(e=Ei)){if(e2(t))throw n5(),Error($e(418));for(;e;)t5(t,e),e=ba(e.nextSibling)}if(c3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ei=ba(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ei=null}}else Ei=Pi?ba(t.stateNode.nextSibling):null;return!0}function n5(){for(var t=Ei;t;)t=ba(t.nextSibling)}function yf(){Ei=Pi=null,mn=!1}function gw(t){vs===null?vs=[t]:vs.push(t)}var mB=Bo.ReactCurrentBatchConfig;function ps(t,e){if(t&&t.defaultProps){e=Tn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Z0=Ya(null),J0=null,Xc=null,vw=null;function yw(){vw=Xc=J0=null}function xw(t){var e=Z0.current;un(Z0),t._currentValue=e}function n2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cf(t,e){J0=t,vw=Xc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ii=!0),t.firstContext=null)}function ts(t){var e=t._currentValue;if(vw!==t)if(t={context:t,memoizedValue:e,next:null},Xc===null){if(J0===null)throw Error($e(308));Xc=t,J0.dependencies={lanes:0,firstContext:t}}else Xc=Xc.next=t;return e}var Vl=null;function _w(t){Vl===null?Vl=[t]:Vl.push(t)}function r5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_w(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oo(t,r)}function Oo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ha=!1;function Sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oo(t,n)}return i=r.interleaved,i===null?(e.next=e,_w(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oo(t,n)}function v0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ow(t,n)}}function f3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Q0(t,e,n,r){var i=t.updateQueue;ha=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(p=e,m=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=Tn({},d,p);break e;case 2:ha=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);iu|=o,t.lanes=o,t.memoizedState=d}}function h3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var s5=new rL.Component().refs;function r2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vv={isMounted:function(t){return(t=t._reactInternals)?du(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gr(),i=Ta(t),s=Co(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ma(t,s,i),e!==null&&(ws(e,t,i,r),v0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gr(),i=Ta(t),s=Co(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ma(t,s,i),e!==null&&(ws(e,t,i,r),v0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gr(),r=Ta(t),i=Co(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ma(t,i,r),e!==null&&(ws(e,t,r,n),v0(e,t,r))}};function d3(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ud(n,r)||!Ud(i,s):!0}function o5(t,e,n){var r=!1,i=Fa,s=e.contextType;return typeof s=="object"&&s!==null?s=ts(s):(i=oi(e)?tu:Lr.current,r=e.contextTypes,s=(r=r!=null)?vf(t,i):Fa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function p3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vv.enqueueReplaceState(e,e.state,null)}function i2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=s5,Sw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ts(s):(s=oi(e)?tu:Lr.current,i.context=vf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vv.enqueueReplaceState(i,i.state,null),Q0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ah(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===s5&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,t))}return t}function ig(t,e){throw t=Object.prototype.toString.call(e),Error($e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m3(t){var e=t._init;return e(t._payload)}function a5(t){function e(v,S){if(t){var w=v.deletions;w===null?(v.deletions=[S],v.flags|=16):w.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function i(v,S){return v=Aa(v,S),v.index=0,v.sibling=null,v}function s(v,S,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<S?(v.flags|=2,S):w):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,S,w,M){return S===null||S.tag!==6?(S=sx(w,v.mode,M),S.return=v,S):(S=i(S,w),S.return=v,S)}function l(v,S,w,M){var T=w.type;return T===Bc?c(v,S,w.props.children,M,w.key):S!==null&&(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fa&&m3(T)===S.type)?(M=i(S,w.props),M.ref=Ah(v,S,w),M.return=v,M):(M=b0(w.type,w.key,w.props,null,v.mode,M),M.ref=Ah(v,S,w),M.return=v,M)}function u(v,S,w,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=ox(w,v.mode,M),S.return=v,S):(S=i(S,w.children||[]),S.return=v,S)}function c(v,S,w,M,T){return S===null||S.tag!==7?(S=ql(w,v.mode,M,T),S.return=v,S):(S=i(S,w),S.return=v,S)}function d(v,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=sx(""+S,v.mode,w),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xm:return w=b0(S.type,S.key,S.props,null,v.mode,w),w.ref=Ah(v,null,S),w.return=v,w;case Fc:return S=ox(S,v.mode,w),S.return=v,S;case fa:var M=S._init;return d(v,M(S._payload),w)}if(Zh(S)||wh(S))return S=ql(S,v.mode,w,null),S.return=v,S;ig(v,S)}return null}function p(v,S,w,M){var T=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(v,S,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xm:return w.key===T?l(v,S,w,M):null;case Fc:return w.key===T?u(v,S,w,M):null;case fa:return T=w._init,p(v,S,T(w._payload),M)}if(Zh(w)||wh(w))return T!==null?null:c(v,S,w,M,null);ig(v,w)}return null}function m(v,S,w,M,T){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(w)||null,a(S,v,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Xm:return v=v.get(M.key===null?w:M.key)||null,l(S,v,M,T);case Fc:return v=v.get(M.key===null?w:M.key)||null,u(S,v,M,T);case fa:var A=M._init;return m(v,S,w,A(M._payload),T)}if(Zh(M)||wh(M))return v=v.get(w)||null,c(S,v,M,T,null);ig(S,M)}return null}function g(v,S,w,M){for(var T=null,A=null,R=S,L=S=0,C=null;R!==null&&L<w.length;L++){R.index>L?(C=R,R=null):C=R.sibling;var P=p(v,R,w[L],M);if(P===null){R===null&&(R=C);break}t&&R&&P.alternate===null&&e(v,R),S=s(P,S,L),A===null?T=P:A.sibling=P,A=P,R=C}if(L===w.length)return n(v,R),mn&&Pl(v,L),T;if(R===null){for(;L<w.length;L++)R=d(v,w[L],M),R!==null&&(S=s(R,S,L),A===null?T=R:A.sibling=R,A=R);return mn&&Pl(v,L),T}for(R=r(v,R);L<w.length;L++)C=m(R,v,L,w[L],M),C!==null&&(t&&C.alternate!==null&&R.delete(C.key===null?L:C.key),S=s(C,S,L),A===null?T=C:A.sibling=C,A=C);return t&&R.forEach(function(F){return e(v,F)}),mn&&Pl(v,L),T}function _(v,S,w,M){var T=wh(w);if(typeof T!="function")throw Error($e(150));if(w=T.call(w),w==null)throw Error($e(151));for(var A=T=null,R=S,L=S=0,C=null,P=w.next();R!==null&&!P.done;L++,P=w.next()){R.index>L?(C=R,R=null):C=R.sibling;var F=p(v,R,P.value,M);if(F===null){R===null&&(R=C);break}t&&R&&F.alternate===null&&e(v,R),S=s(F,S,L),A===null?T=F:A.sibling=F,A=F,R=C}if(P.done)return n(v,R),mn&&Pl(v,L),T;if(R===null){for(;!P.done;L++,P=w.next())P=d(v,P.value,M),P!==null&&(S=s(P,S,L),A===null?T=P:A.sibling=P,A=P);return mn&&Pl(v,L),T}for(R=r(v,R);!P.done;L++,P=w.next())P=m(R,v,L,P.value,M),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?L:P.key),S=s(P,S,L),A===null?T=P:A.sibling=P,A=P);return t&&R.forEach(function(B){return e(v,B)}),mn&&Pl(v,L),T}function x(v,S,w,M){if(typeof w=="object"&&w!==null&&w.type===Bc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xm:e:{for(var T=w.key,A=S;A!==null;){if(A.key===T){if(T=w.type,T===Bc){if(A.tag===7){n(v,A.sibling),S=i(A,w.props.children),S.return=v,v=S;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fa&&m3(T)===A.type){n(v,A.sibling),S=i(A,w.props),S.ref=Ah(v,A,w),S.return=v,v=S;break e}n(v,A);break}else e(v,A);A=A.sibling}w.type===Bc?(S=ql(w.props.children,v.mode,M,w.key),S.return=v,v=S):(M=b0(w.type,w.key,w.props,null,v.mode,M),M.ref=Ah(v,S,w),M.return=v,v=M)}return o(v);case Fc:e:{for(A=w.key;S!==null;){if(S.key===A)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(v,S.sibling),S=i(S,w.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=ox(w,v.mode,M),S.return=v,v=S}return o(v);case fa:return A=w._init,x(v,S,A(w._payload),M)}if(Zh(w))return g(v,S,w,M);if(wh(w))return _(v,S,w,M);ig(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(v,S.sibling),S=i(S,w),S.return=v,v=S):(n(v,S),S=sx(w,v.mode,M),S.return=v,v=S),o(v)):n(v,S)}return x}var xf=a5(!0),l5=a5(!1),wp={},$s=Ya(wp),Bd=Ya(wp),zd=Ya(wp);function Hl(t){if(t===wp)throw Error($e(174));return t}function ww(t,e){switch(sn(zd,e),sn(Bd,t),sn($s,wp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N_(e,t)}un($s),sn($s,e)}function _f(){un($s),un(Bd),un(zd)}function u5(t){Hl(zd.current);var e=Hl($s.current),n=N_(e,t.type);e!==n&&(sn(Bd,t),sn($s,n))}function bw(t){Bd.current===t&&(un($s),un(Bd))}var xn=Ya(0);function ev(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Q1=[];function Mw(){for(var t=0;t<Q1.length;t++)Q1[t]._workInProgressVersionPrimary=null;Q1.length=0}var y0=Bo.ReactCurrentDispatcher,ex=Bo.ReactCurrentBatchConfig,ru=0,Mn=null,Kn=null,ur=null,tv=!1,fd=!1,Vd=0,gB=0;function Mr(){throw Error($e(321))}function Ew(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ms(t[n],e[n]))return!1;return!0}function Tw(t,e,n,r,i,s){if(ru=s,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,y0.current=t===null||t.memoizedState===null?_B:SB,t=n(r,i),fd){s=0;do{if(fd=!1,Vd=0,25<=s)throw Error($e(301));s+=1,ur=Kn=null,e.updateQueue=null,y0.current=wB,t=n(r,i)}while(fd)}if(y0.current=nv,e=Kn!==null&&Kn.next!==null,ru=0,ur=Kn=Mn=null,tv=!1,e)throw Error($e(300));return t}function Aw(){var t=Vd!==0;return Vd=0,t}function zs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Mn.memoizedState=ur=t:ur=ur.next=t,ur}function ns(){if(Kn===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=ur===null?Mn.memoizedState:ur.next;if(e!==null)ur=e,Kn=t;else{if(t===null)throw Error($e(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},ur===null?Mn.memoizedState=ur=t:ur=ur.next=t}return ur}function Hd(t,e){return typeof e=="function"?e(t):e}function tx(t){var e=ns(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=Kn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ru&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Mn.lanes|=c,iu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ms(r,e.memoizedState)||(ii=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Mn.lanes|=s,iu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nx(t){var e=ns(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ms(s,e.memoizedState)||(ii=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function c5(){}function f5(t,e){var n=Mn,r=ns(),i=e(),s=!Ms(r.memoizedState,i);if(s&&(r.memoizedState=i,ii=!0),r=r.queue,Cw(p5.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ur!==null&&ur.memoizedState.tag&1){if(n.flags|=2048,Gd(9,d5.bind(null,n,r,i,e),void 0,null),cr===null)throw Error($e(349));ru&30||h5(n,e,i)}return i}function h5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d5(t,e,n,r){e.value=n,e.getSnapshot=r,m5(e)&&g5(t)}function p5(t,e,n){return n(function(){m5(e)&&g5(t)})}function m5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ms(t,n)}catch{return!0}}function g5(t){var e=Oo(t,1);e!==null&&ws(e,t,1,-1)}function g3(t){var e=zs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:t},e.queue=t,t=t.dispatch=xB.bind(null,Mn,t),[e.memoizedState,t]}function Gd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v5(){return ns().memoizedState}function x0(t,e,n,r){var i=zs();Mn.flags|=t,i.memoizedState=Gd(1|e,n,void 0,r===void 0?null:r)}function Hv(t,e,n,r){var i=ns();r=r===void 0?null:r;var s=void 0;if(Kn!==null){var o=Kn.memoizedState;if(s=o.destroy,r!==null&&Ew(r,o.deps)){i.memoizedState=Gd(e,n,s,r);return}}Mn.flags|=t,i.memoizedState=Gd(1|e,n,s,r)}function v3(t,e){return x0(8390656,8,t,e)}function Cw(t,e){return Hv(2048,8,t,e)}function y5(t,e){return Hv(4,2,t,e)}function x5(t,e){return Hv(4,4,t,e)}function _5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S5(t,e,n){return n=n!=null?n.concat([t]):null,Hv(4,4,_5.bind(null,e,t),n)}function Pw(){}function w5(t,e){var n=ns();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ew(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b5(t,e){var n=ns();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ew(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M5(t,e,n){return ru&21?(Ms(n,e)||(n=AL(),Mn.lanes|=n,iu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ii=!0),t.memoizedState=n)}function vB(t,e){var n=Zt;Zt=n!==0&&4>n?n:4,t(!0);var r=ex.transition;ex.transition={};try{t(!1),e()}finally{Zt=n,ex.transition=r}}function E5(){return ns().memoizedState}function yB(t,e,n){var r=Ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T5(t))A5(e,n);else if(n=r5(t,e,n,r),n!==null){var i=Gr();ws(n,t,r,i),C5(n,e,r)}}function xB(t,e,n){var r=Ta(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T5(t))A5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ms(a,o)){var l=e.interleaved;l===null?(i.next=i,_w(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=r5(t,e,i,r),n!==null&&(i=Gr(),ws(n,t,r,i),C5(n,e,r))}}function T5(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function A5(t,e){fd=tv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ow(t,n)}}var nv={readContext:ts,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},_B={readContext:ts,useCallback:function(t,e){return zs().memoizedState=[t,e===void 0?null:e],t},useContext:ts,useEffect:v3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,x0(4194308,4,_5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return x0(4194308,4,t,e)},useInsertionEffect:function(t,e){return x0(4,2,t,e)},useMemo:function(t,e){var n=zs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yB.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=zs();return t={current:t},e.memoizedState=t},useState:g3,useDebugValue:Pw,useDeferredValue:function(t){return zs().memoizedState=t},useTransition:function(){var t=g3(!1),e=t[0];return t=vB.bind(null,t[1]),zs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,i=zs();if(mn){if(n===void 0)throw Error($e(407));n=n()}else{if(n=e(),cr===null)throw Error($e(349));ru&30||h5(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,v3(p5.bind(null,r,s,t),[t]),r.flags|=2048,Gd(9,d5.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zs(),e=cr.identifierPrefix;if(mn){var n=Eo,r=Mo;n=(r&~(1<<32-Ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SB={readContext:ts,useCallback:w5,useContext:ts,useEffect:Cw,useImperativeHandle:S5,useInsertionEffect:y5,useLayoutEffect:x5,useMemo:b5,useReducer:tx,useRef:v5,useState:function(){return tx(Hd)},useDebugValue:Pw,useDeferredValue:function(t){var e=ns();return M5(e,Kn.memoizedState,t)},useTransition:function(){var t=tx(Hd)[0],e=ns().memoizedState;return[t,e]},useMutableSource:c5,useSyncExternalStore:f5,useId:E5,unstable_isNewReconciler:!1},wB={readContext:ts,useCallback:w5,useContext:ts,useEffect:Cw,useImperativeHandle:S5,useInsertionEffect:y5,useLayoutEffect:x5,useMemo:b5,useReducer:nx,useRef:v5,useState:function(){return nx(Hd)},useDebugValue:Pw,useDeferredValue:function(t){var e=ns();return Kn===null?e.memoizedState=t:M5(e,Kn.memoizedState,t)},useTransition:function(){var t=nx(Hd)[0],e=ns().memoizedState;return[t,e]},useMutableSource:c5,useSyncExternalStore:f5,useId:E5,unstable_isNewReconciler:!1};function Sf(t,e){try{var n="",r=e;do n+=KF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bB=typeof WeakMap=="function"?WeakMap:Map;function P5(t,e,n){n=Co(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){iv||(iv=!0,m2=r),s2(t,e)},n}function R5(t,e,n){n=Co(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){s2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){s2(t,e),typeof r!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function y3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kB.bind(null,t,e,n),e.then(t,t))}function x3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Co(-1,1),e.tag=2,Ma(n,e,1))),n.lanes|=1),t)}var MB=Bo.ReactCurrentOwner,ii=!1;function Hr(t,e,n,r){e.child=t===null?l5(e,null,n,r):xf(e,t.child,n,r)}function S3(t,e,n,r,i){n=n.render;var s=e.ref;return cf(e,i),r=Tw(t,e,n,r,s,i),n=Aw(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uo(t,e,i)):(mn&&n&&pw(e),e.flags|=1,Hr(t,e,r,i),e.child)}function w3(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,L5(t,e,s,r,i)):(t=b0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ud,n(o,r)&&t.ref===e.ref)return Uo(t,e,i)}return e.flags|=1,t=Aa(s,r),t.ref=e.ref,t.return=e,e.child=t}function L5(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ud(s,r)&&t.ref===e.ref)if(ii=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ii=!0);else return e.lanes=t.lanes,Uo(t,e,i)}return o2(t,e,n,r,i)}function D5(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(qc,Mi),Mi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sn(qc,Mi),Mi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,sn(qc,Mi),Mi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,sn(qc,Mi),Mi|=r;return Hr(t,e,i,n),e.child}function I5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function o2(t,e,n,r,i){var s=oi(n)?tu:Lr.current;return s=vf(e,s),cf(e,i),n=Tw(t,e,n,r,s,i),r=Aw(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uo(t,e,i)):(mn&&r&&pw(e),e.flags|=1,Hr(t,e,n,i),e.child)}function b3(t,e,n,r,i){if(oi(n)){var s=!0;Y0(e)}else s=!1;if(cf(e,i),e.stateNode===null)_0(t,e),o5(e,n,r),i2(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ts(u):(u=oi(n)?tu:Lr.current,u=vf(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&p3(e,o,r,u),ha=!1;var p=e.memoizedState;o.state=p,Q0(e,r,o,i),l=e.memoizedState,a!==r||p!==l||si.current||ha?(typeof c=="function"&&(r2(e,n,c,r),l=e.memoizedState),(a=ha||d3(e,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,i5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ps(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ts(l):(l=oi(n)?tu:Lr.current,l=vf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&p3(e,o,r,l),ha=!1,p=e.memoizedState,o.state=p,Q0(e,r,o,i);var g=e.memoizedState;a!==d||p!==g||si.current||ha?(typeof m=="function"&&(r2(e,n,m,r),g=e.memoizedState),(u=ha||d3(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return a2(t,e,n,r,s,i)}function a2(t,e,n,r,i,s){I5(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&l3(e,n,!1),Uo(t,e,s);r=e.stateNode,MB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xf(e,t.child,null,s),e.child=xf(e,null,a,s)):Hr(t,e,a,s),e.memoizedState=r.state,i&&l3(e,n,!0),e.child}function O5(t){var e=t.stateNode;e.pendingContext?a3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a3(t,e.context,!1),ww(t,e.containerInfo)}function M3(t,e,n,r,i){return yf(),gw(i),e.flags|=256,Hr(t,e,n,r),e.child}var l2={dehydrated:null,treeContext:null,retryLane:0};function u2(t){return{baseLanes:t,cachePool:null,transitions:null}}function U5(t,e,n){var r=e.pendingProps,i=xn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),sn(xn,i&1),t===null)return t2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jv(o,r,0,null),t=ql(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=u2(n),e.memoizedState=l2,t):Rw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EB(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Aa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Aa(a,s):(s=ql(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?u2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=l2,r}return s=t.child,t=s.sibling,r=Aa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rw(t,e){return e=jv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sg(t,e,n,r){return r!==null&&gw(r),xf(e,t.child,null,n),t=Rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EB(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rx(Error($e(422))),sg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jv({mode:"visible",children:r.children},i,0,null),s=ql(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xf(e,t.child,null,o),e.child.memoizedState=u2(o),e.memoizedState=l2,s);if(!(e.mode&1))return sg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($e(419)),r=rx(s,r,void 0),sg(t,e,o,r)}if(a=(o&t.childLanes)!==0,ii||a){if(r=cr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oo(t,i),ws(r,t,i,-1))}return Nw(),r=rx(Error($e(421))),sg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ei=ba(i.nextSibling),Pi=e,mn=!0,vs=null,t!==null&&(Ki[Zi++]=Mo,Ki[Zi++]=Eo,Ki[Zi++]=nu,Mo=t.id,Eo=t.overflow,nu=e),e=Rw(e,r.children),e.flags|=4096,e)}function E3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n2(t.return,e,n)}function ix(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function N5(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hr(t,e,r.children,n),r=xn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E3(t,n,e);else if(t.tag===19)E3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(sn(xn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ev(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ix(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ev(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ix(e,!0,n,null,s);break;case"together":ix(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Uo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),iu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($e(153));if(e.child!==null){for(t=e.child,n=Aa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Aa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TB(t,e,n){switch(e.tag){case 3:O5(e),yf();break;case 5:u5(e);break;case 1:oi(e.type)&&Y0(e);break;case 4:ww(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;sn(Z0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sn(xn,xn.current&1),e.flags|=128,null):n&e.child.childLanes?U5(t,e,n):(sn(xn,xn.current&1),t=Uo(t,e,n),t!==null?t.sibling:null);sn(xn,xn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(xn,xn.current),r)break;return null;case 22:case 23:return e.lanes=0,D5(t,e,n)}return Uo(t,e,n)}var k5,c2,F5,B5;k5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};c2=function(){};F5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hl($s.current);var s=null;switch(n){case"input":i=D_(t,i),r=D_(t,r),s=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),s=[];break;case"textarea":i=U_(t,i),r=U_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$0)}k_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&on("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};B5=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ch(t,e){if(!mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AB(t,e,n){var r=e.pendingProps;switch(mw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(e),null;case 1:return oi(e.type)&&X0(),Er(e),null;case 3:return r=e.stateNode,_f(),un(si),un(Lr),Mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vs!==null&&(y2(vs),vs=null))),c2(t,e),Er(e),null;case 5:bw(e);var i=Hl(zd.current);if(n=e.type,t!==null&&e.stateNode!=null)F5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($e(166));return Er(e),null}if(t=Hl($s.current),rg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hs]=e,r[Fd]=s,t=(e.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<Qh.length;i++)on(Qh[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":OT(r,s),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},on("invalid",r);break;case"textarea":NT(r,s),on("invalid",r)}k_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ng(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ng(r.textContent,a,t),i=["children",""+a]):Cd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&on("scroll",r)}switch(n){case"input":Ym(r),UT(r,s,!0);break;case"textarea":Ym(r),kT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hs]=e,t[Fd]=r,k5(t,e,!1,!1),e.stateNode=t;e:{switch(o=F_(n,r),n){case"dialog":on("cancel",t),on("close",t),i=r;break;case"iframe":case"object":case"embed":on("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qh.length;i++)on(Qh[i],t);i=r;break;case"source":on("error",t),i=r;break;case"img":case"image":case"link":on("error",t),on("load",t),i=r;break;case"details":on("toggle",t),i=r;break;case"input":OT(t,r),i=D_(t,r),on("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),on("invalid",t);break;case"textarea":NT(t,r),i=U_(t,r),on("invalid",t);break;default:i=r}k_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pd(t,l):typeof l=="number"&&Pd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&on("scroll",t):l!=null&&ew(t,s,l,o))}switch(n){case"input":Ym(t),UT(t,r,!1);break;case"textarea":Ym(t),kT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ka(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?of(t,!!r.multiple,s,!1):r.defaultValue!=null&&of(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Er(e),null;case 6:if(t&&e.stateNode!=null)B5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($e(166));if(n=Hl(zd.current),Hl($s.current),rg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hs]=e,(s=r.nodeValue!==n)&&(t=Pi,t!==null))switch(t.tag){case 3:ng(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ng(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hs]=e,e.stateNode=r}return Er(e),null;case 13:if(un(xn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&Ei!==null&&e.mode&1&&!(e.flags&128))n5(),yf(),e.flags|=98560,s=!1;else if(s=rg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($e(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[Hs]=e}else yf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Er(e),s=!1}else vs!==null&&(y2(vs),vs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xn.current&1?Jn===0&&(Jn=3):Nw())),e.updateQueue!==null&&(e.flags|=4),Er(e),null);case 4:return _f(),c2(t,e),t===null&&Nd(e.stateNode.containerInfo),Er(e),null;case 10:return xw(e.type._context),Er(e),null;case 17:return oi(e.type)&&X0(),Er(e),null;case 19:if(un(xn),s=e.memoizedState,s===null)return Er(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ch(s,!1);else{if(Jn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ev(t),o!==null){for(e.flags|=128,Ch(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return sn(xn,xn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fn()>wf&&(e.flags|=128,r=!0,Ch(s,!1),e.lanes=4194304)}else{if(!r)if(t=ev(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ch(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!mn)return Er(e),null}else 2*Fn()-s.renderingStartTime>wf&&n!==1073741824&&(e.flags|=128,r=!0,Ch(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fn(),e.sibling=null,n=xn.current,sn(xn,r?n&1|2:n&1),e):(Er(e),null);case 22:case 23:return Uw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mi&1073741824&&(Er(e),e.subtreeFlags&6&&(e.flags|=8192)):Er(e),null;case 24:return null;case 25:return null}throw Error($e(156,e.tag))}function CB(t,e){switch(mw(e),e.tag){case 1:return oi(e.type)&&X0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _f(),un(si),un(Lr),Mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bw(e),null;case 13:if(un(xn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($e(340));yf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return un(xn),null;case 4:return _f(),null;case 10:return xw(e.type._context),null;case 22:case 23:return Uw(),null;case 24:return null;default:return null}}var og=!1,Cr=!1,PB=typeof WeakSet=="function"?WeakSet:Set,it=null;function Yc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rn(t,e,r)}else n.current=null}function f2(t,e,n){try{n()}catch(r){Rn(t,e,r)}}var T3=!1;function RB(t,e){if(Y_=G0,t=GL(),dw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(q_={focusedElem:t,selectionRange:n},G0=!1,it=e;it!==null;)if(e=it,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,it=t;else for(;it!==null;){e=it;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,x=g.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:ps(e.type,_),x);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(M){Rn(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,it=t;break}it=e.return}return g=T3,T3=!1,g}function hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&f2(e,n,s)}i=i.next}while(i!==r)}}function Gv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function h2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z5(t){var e=t.alternate;e!==null&&(t.alternate=null,z5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hs],delete e[Fd],delete e[J_],delete e[hB],delete e[dB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function V5(t){return t.tag===5||t.tag===3||t.tag===4}function A3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$0));else if(r!==4&&(t=t.child,t!==null))for(d2(t,e,n),t=t.sibling;t!==null;)d2(t,e,n),t=t.sibling}function p2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p2(t,e,n),t=t.sibling;t!==null;)p2(t,e,n),t=t.sibling}var dr=null,gs=!1;function ra(t,e,n){for(n=n.child;n!==null;)H5(t,e,n),n=n.sibling}function H5(t,e,n){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(Uv,n)}catch{}switch(n.tag){case 5:Cr||Yc(n,e);case 6:var r=dr,i=gs;dr=null,ra(t,e,n),dr=r,gs=i,dr!==null&&(gs?(t=dr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dr.removeChild(n.stateNode));break;case 18:dr!==null&&(gs?(t=dr,n=n.stateNode,t.nodeType===8?Z1(t.parentNode,n):t.nodeType===1&&Z1(t,n),Id(t)):Z1(dr,n.stateNode));break;case 4:r=dr,i=gs,dr=n.stateNode.containerInfo,gs=!0,ra(t,e,n),dr=r,gs=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&f2(n,e,o),i=i.next}while(i!==r)}ra(t,e,n);break;case 1:if(!Cr&&(Yc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rn(n,e,a)}ra(t,e,n);break;case 21:ra(t,e,n);break;case 22:n.mode&1?(Cr=(r=Cr)||n.memoizedState!==null,ra(t,e,n),Cr=r):ra(t,e,n);break;default:ra(t,e,n)}}function C3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PB),e.forEach(function(r){var i=BB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function us(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dr=a.stateNode,gs=!1;break e;case 3:dr=a.stateNode.containerInfo,gs=!0;break e;case 4:dr=a.stateNode.containerInfo,gs=!0;break e}a=a.return}if(dr===null)throw Error($e(160));H5(s,o,i),dr=null,gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G5(e,t),e=e.sibling}function G5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(us(e,t),Bs(t),r&4){try{hd(3,t,t.return),Gv(3,t)}catch(_){Rn(t,t.return,_)}try{hd(5,t,t.return)}catch(_){Rn(t,t.return,_)}}break;case 1:us(e,t),Bs(t),r&512&&n!==null&&Yc(n,n.return);break;case 5:if(us(e,t),Bs(t),r&512&&n!==null&&Yc(n,n.return),t.flags&32){var i=t.stateNode;try{Pd(i,"")}catch(_){Rn(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cL(i,s),F_(a,o);var u=F_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?mL(i,d):c==="dangerouslySetInnerHTML"?dL(i,d):c==="children"?Pd(i,d):ew(i,c,d,u)}switch(a){case"input":I_(i,s);break;case"textarea":fL(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?of(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?of(i,!!s.multiple,s.defaultValue,!0):of(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fd]=s}catch(_){Rn(t,t.return,_)}}break;case 6:if(us(e,t),Bs(t),r&4){if(t.stateNode===null)throw Error($e(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Rn(t,t.return,_)}}break;case 3:if(us(e,t),Bs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Id(e.containerInfo)}catch(_){Rn(t,t.return,_)}break;case 4:us(e,t),Bs(t);break;case 13:us(e,t),Bs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iw=Fn())),r&4&&C3(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Cr=(u=Cr)||c,us(e,t),Cr=u):us(e,t),Bs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(it=t,c=t.child;c!==null;){for(d=it=c;it!==null;){switch(p=it,m=p.child,p.tag){case 0:case 11:case 14:case 15:hd(4,p,p.return);break;case 1:Yc(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Rn(r,n,_)}}break;case 5:Yc(p,p.return);break;case 22:if(p.memoizedState!==null){R3(d);continue}}m!==null?(m.return=p,it=m):R3(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pL("display",o))}catch(_){Rn(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Rn(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:us(e,t),Bs(t),r&4&&C3(t);break;case 21:break;default:us(e,t),Bs(t)}}function Bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(V5(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pd(i,""),r.flags&=-33);var s=A3(t);p2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A3(t);d2(t,a,o);break;default:throw Error($e(161))}}catch(l){Rn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LB(t,e,n){it=t,W5(t)}function W5(t,e,n){for(var r=(t.mode&1)!==0;it!==null;){var i=it,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||og;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Cr;a=og;var u=Cr;if(og=o,(Cr=l)&&!u)for(it=i;it!==null;)o=it,l=o.child,o.tag===22&&o.memoizedState!==null?L3(i):l!==null?(l.return=o,it=l):L3(i);for(;s!==null;)it=s,W5(s),s=s.sibling;it=i,og=a,Cr=u}P3(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,it=s):P3(t)}}function P3(t){for(;it!==null;){var e=it;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||Gv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ps(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&h3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h3(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Id(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}Cr||e.flags&512&&h2(e)}catch(p){Rn(e,e.return,p)}}if(e===t){it=null;break}if(n=e.sibling,n!==null){n.return=e.return,it=n;break}it=e.return}}function R3(t){for(;it!==null;){var e=it;if(e===t){it=null;break}var n=e.sibling;if(n!==null){n.return=e.return,it=n;break}it=e.return}}function L3(t){for(;it!==null;){var e=it;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gv(4,e)}catch(l){Rn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rn(e,i,l)}}var s=e.return;try{h2(e)}catch(l){Rn(e,s,l)}break;case 5:var o=e.return;try{h2(e)}catch(l){Rn(e,o,l)}}}catch(l){Rn(e,e.return,l)}if(e===t){it=null;break}var a=e.sibling;if(a!==null){a.return=e.return,it=a;break}it=e.return}}var DB=Math.ceil,rv=Bo.ReactCurrentDispatcher,Lw=Bo.ReactCurrentOwner,es=Bo.ReactCurrentBatchConfig,Ht=0,cr=null,jn=null,pr=0,Mi=0,qc=Ya(0),Jn=0,Wd=null,iu=0,Wv=0,Dw=0,dd=null,ti=null,Iw=0,wf=1/0,_o=null,iv=!1,m2=null,Ea=null,ag=!1,ya=null,sv=0,pd=0,g2=null,S0=-1,w0=0;function Gr(){return Ht&6?Fn():S0!==-1?S0:S0=Fn()}function Ta(t){return t.mode&1?Ht&2&&pr!==0?pr&-pr:mB.transition!==null?(w0===0&&(w0=AL()),w0):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:OL(t.type)),t):1}function ws(t,e,n,r){if(50<pd)throw pd=0,g2=null,Error($e(185));xp(t,n,r),(!(Ht&2)||t!==cr)&&(t===cr&&(!(Ht&2)&&(Wv|=n),Jn===4&&ga(t,pr)),ai(t,r),n===1&&Ht===0&&!(e.mode&1)&&(wf=Fn()+500,zv&&qa()))}function ai(t,e){var n=t.callbackNode;m6(t,e);var r=H0(t,t===cr?pr:0);if(r===0)n!==null&&zT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zT(n),e===1)t.tag===0?pB(D3.bind(null,t)):QL(D3.bind(null,t)),cB(function(){!(Ht&6)&&qa()}),n=null;else{switch(CL(r)){case 1:n=sw;break;case 4:n=EL;break;case 16:n=V0;break;case 536870912:n=TL;break;default:n=V0}n=J5(n,j5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j5(t,e){if(S0=-1,w0=0,Ht&6)throw Error($e(327));var n=t.callbackNode;if(ff()&&t.callbackNode!==n)return null;var r=H0(t,t===cr?pr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ov(t,r);else{e=r;var i=Ht;Ht|=2;var s=X5();(cr!==t||pr!==e)&&(_o=null,wf=Fn()+500,Yl(t,e));do try{UB();break}catch(a){$5(t,a)}while(1);yw(),rv.current=s,Ht=i,jn!==null?e=0:(cr=null,pr=0,e=Jn)}if(e!==0){if(e===2&&(i=G_(t),i!==0&&(r=i,e=v2(t,i))),e===1)throw n=Wd,Yl(t,0),ga(t,r),ai(t,Fn()),n;if(e===6)ga(t,r);else{if(i=t.current.alternate,!(r&30)&&!IB(i)&&(e=ov(t,r),e===2&&(s=G_(t),s!==0&&(r=s,e=v2(t,s))),e===1))throw n=Wd,Yl(t,0),ga(t,r),ai(t,Fn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($e(345));case 2:Rl(t,ti,_o);break;case 3:if(ga(t,r),(r&130023424)===r&&(e=Iw+500-Fn(),10<e)){if(H0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Z_(Rl.bind(null,t,ti,_o),e);break}Rl(t,ti,_o);break;case 4:if(ga(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ss(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DB(r/1960))-r,10<r){t.timeoutHandle=Z_(Rl.bind(null,t,ti,_o),r);break}Rl(t,ti,_o);break;case 5:Rl(t,ti,_o);break;default:throw Error($e(329))}}}return ai(t,Fn()),t.callbackNode===n?j5.bind(null,t):null}function v2(t,e){var n=dd;return t.current.memoizedState.isDehydrated&&(Yl(t,e).flags|=256),t=ov(t,e),t!==2&&(e=ti,ti=n,e!==null&&y2(e)),t}function y2(t){ti===null?ti=t:ti.push.apply(ti,t)}function IB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ms(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ga(t,e){for(e&=~Dw,e&=~Wv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ss(e),r=1<<n;t[n]=-1,e&=~r}}function D3(t){if(Ht&6)throw Error($e(327));ff();var e=H0(t,0);if(!(e&1))return ai(t,Fn()),null;var n=ov(t,e);if(t.tag!==0&&n===2){var r=G_(t);r!==0&&(e=r,n=v2(t,r))}if(n===1)throw n=Wd,Yl(t,0),ga(t,e),ai(t,Fn()),n;if(n===6)throw Error($e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rl(t,ti,_o),ai(t,Fn()),null}function Ow(t,e){var n=Ht;Ht|=1;try{return t(e)}finally{Ht=n,Ht===0&&(wf=Fn()+500,zv&&qa())}}function su(t){ya!==null&&ya.tag===0&&!(Ht&6)&&ff();var e=Ht;Ht|=1;var n=es.transition,r=Zt;try{if(es.transition=null,Zt=1,t)return t()}finally{Zt=r,es.transition=n,Ht=e,!(Ht&6)&&qa()}}function Uw(){Mi=qc.current,un(qc)}function Yl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uB(n)),jn!==null)for(n=jn.return;n!==null;){var r=n;switch(mw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&X0();break;case 3:_f(),un(si),un(Lr),Mw();break;case 5:bw(r);break;case 4:_f();break;case 13:un(xn);break;case 19:un(xn);break;case 10:xw(r.type._context);break;case 22:case 23:Uw()}n=n.return}if(cr=t,jn=t=Aa(t.current,null),pr=Mi=e,Jn=0,Wd=null,Dw=Wv=iu=0,ti=dd=null,Vl!==null){for(e=0;e<Vl.length;e++)if(n=Vl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vl=null}return t}function $5(t,e){do{var n=jn;try{if(yw(),y0.current=nv,tv){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tv=!1}if(ru=0,ur=Kn=Mn=null,fd=!1,Vd=0,Lw.current=null,n===null||n.return===null){Jn=1,Wd=e,jn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=x3(o);if(m!==null){m.flags&=-257,_3(m,o,a,s,e),m.mode&1&&y3(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){y3(s,u,e),Nw();break e}l=Error($e(426))}}else if(mn&&a.mode&1){var x=x3(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),_3(x,o,a,s,e),gw(Sf(l,a));break e}}s=l=Sf(l,a),Jn!==4&&(Jn=2),dd===null?dd=[s]:dd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=P5(s,l,e);f3(s,v);break e;case 1:a=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ea===null||!Ea.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=R5(s,a,e);f3(s,M);break e}}s=s.return}while(s!==null)}q5(n)}catch(T){e=T,jn===n&&n!==null&&(jn=n=n.return);continue}break}while(1)}function X5(){var t=rv.current;return rv.current=nv,t===null?nv:t}function Nw(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),cr===null||!(iu&268435455)&&!(Wv&268435455)||ga(cr,pr)}function ov(t,e){var n=Ht;Ht|=2;var r=X5();(cr!==t||pr!==e)&&(_o=null,Yl(t,e));do try{OB();break}catch(i){$5(t,i)}while(1);if(yw(),Ht=n,rv.current=r,jn!==null)throw Error($e(261));return cr=null,pr=0,Jn}function OB(){for(;jn!==null;)Y5(jn)}function UB(){for(;jn!==null&&!o6();)Y5(jn)}function Y5(t){var e=Z5(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?q5(t):jn=e,Lw.current=null}function q5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CB(n,e),n!==null){n.flags&=32767,jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jn=6,jn=null;return}}else if(n=AB(n,e,Mi),n!==null){jn=n;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=t}while(e!==null);Jn===0&&(Jn=5)}function Rl(t,e,n){var r=Zt,i=es.transition;try{es.transition=null,Zt=1,NB(t,e,n,r)}finally{es.transition=i,Zt=r}return null}function NB(t,e,n,r){do ff();while(ya!==null);if(Ht&6)throw Error($e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($e(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(g6(t,s),t===cr&&(jn=cr=null,pr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ag||(ag=!0,J5(V0,function(){return ff(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=es.transition,es.transition=null;var o=Zt;Zt=1;var a=Ht;Ht|=4,Lw.current=null,RB(t,n),G5(n,t),nB(q_),G0=!!Y_,q_=Y_=null,t.current=n,LB(n),a6(),Ht=a,Zt=o,es.transition=s}else t.current=n;if(ag&&(ag=!1,ya=t,sv=i),s=t.pendingLanes,s===0&&(Ea=null),c6(n.stateNode),ai(t,Fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(iv)throw iv=!1,t=m2,m2=null,t;return sv&1&&t.tag!==0&&ff(),s=t.pendingLanes,s&1?t===g2?pd++:(pd=0,g2=t):pd=0,qa(),null}function ff(){if(ya!==null){var t=CL(sv),e=es.transition,n=Zt;try{if(es.transition=null,Zt=16>t?16:t,ya===null)var r=!1;else{if(t=ya,ya=null,sv=0,Ht&6)throw Error($e(331));var i=Ht;for(Ht|=4,it=t.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(it=u;it!==null;){var c=it;switch(c.tag){case 0:case 11:case 15:hd(8,c,s)}var d=c.child;if(d!==null)d.return=c,it=d;else for(;it!==null;){c=it;var p=c.sibling,m=c.return;if(z5(c),c===u){it=null;break}if(p!==null){p.return=m,it=p;break}it=m}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,it=v;break e}it=s.return}}var S=t.current;for(it=S;it!==null;){o=it;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,it=w;else e:for(o=S;it!==null;){if(a=it,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gv(9,a)}}catch(T){Rn(a,a.return,T)}if(a===o){it=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,it=M;break e}it=a.return}}if(Ht=i,qa(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(Uv,t)}catch{}r=!0}return r}finally{Zt=n,es.transition=e}}return!1}function I3(t,e,n){e=Sf(n,e),e=P5(t,e,1),t=Ma(t,e,1),e=Gr(),t!==null&&(xp(t,1,e),ai(t,e))}function Rn(t,e,n){if(t.tag===3)I3(t,t,n);else for(;e!==null;){if(e.tag===3){I3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))){t=Sf(n,t),t=R5(e,t,1),e=Ma(e,t,1),t=Gr(),e!==null&&(xp(e,1,t),ai(e,t));break}}e=e.return}}function kB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gr(),t.pingedLanes|=t.suspendedLanes&n,cr===t&&(pr&n)===n&&(Jn===4||Jn===3&&(pr&130023424)===pr&&500>Fn()-Iw?Yl(t,0):Dw|=n),ai(t,e)}function K5(t,e){e===0&&(t.mode&1?(e=Zm,Zm<<=1,!(Zm&130023424)&&(Zm=4194304)):e=1);var n=Gr();t=Oo(t,e),t!==null&&(xp(t,e,n),ai(t,n))}function FB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K5(t,n)}function BB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(e),K5(t,n)}var Z5;Z5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||si.current)ii=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ii=!1,TB(t,e,n);ii=!!(t.flags&131072)}else ii=!1,mn&&e.flags&1048576&&e5(e,K0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_0(t,e),t=e.pendingProps;var i=vf(e,Lr.current);cf(e,n),i=Tw(null,e,r,t,i,n);var s=Aw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oi(r)?(s=!0,Y0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sw(e),i.updater=Vv,e.stateNode=i,i._reactInternals=e,i2(e,r,t,n),e=a2(null,e,r,!0,s,n)):(e.tag=0,mn&&s&&pw(e),Hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VB(r),t=ps(r,t),i){case 0:e=o2(null,e,r,t,n);break e;case 1:e=b3(null,e,r,t,n);break e;case 11:e=S3(null,e,r,t,n);break e;case 14:e=w3(null,e,r,ps(r.type,t),n);break e}throw Error($e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),o2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),b3(t,e,r,i,n);case 3:e:{if(O5(e),t===null)throw Error($e(387));r=e.pendingProps,s=e.memoizedState,i=s.element,i5(t,e),Q0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sf(Error($e(423)),e),e=M3(t,e,r,n,i);break e}else if(r!==i){i=Sf(Error($e(424)),e),e=M3(t,e,r,n,i);break e}else for(Ei=ba(e.stateNode.containerInfo.firstChild),Pi=e,mn=!0,vs=null,n=l5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yf(),r===i){e=Uo(t,e,n);break e}Hr(t,e,r,n)}e=e.child}return e;case 5:return u5(e),t===null&&t2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,K_(r,i)?o=null:s!==null&&K_(r,s)&&(e.flags|=32),I5(t,e),Hr(t,e,o,n),e.child;case 6:return t===null&&t2(e),null;case 13:return U5(t,e,n);case 4:return ww(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xf(e,null,r,n):Hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),S3(t,e,r,i,n);case 7:return Hr(t,e,e.pendingProps,n),e.child;case 8:return Hr(t,e,e.pendingProps.children,n),e.child;case 12:return Hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,sn(Z0,r._currentValue),r._currentValue=o,s!==null)if(Ms(s.value,o)){if(s.children===i.children&&!si.current){e=Uo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Co(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),n2(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),n2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cf(e,n),i=ts(i),r=r(i),e.flags|=1,Hr(t,e,r,n),e.child;case 14:return r=e.type,i=ps(r,e.pendingProps),i=ps(r.type,i),w3(t,e,r,i,n);case 15:return L5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),_0(t,e),e.tag=1,oi(r)?(t=!0,Y0(e)):t=!1,cf(e,n),o5(e,r,i),i2(e,r,i,n),a2(null,e,r,!0,t,n);case 19:return N5(t,e,n);case 22:return D5(t,e,n)}throw Error($e(156,e.tag))};function J5(t,e){return ML(t,e)}function zB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(t,e,n,r){return new zB(t,e,n,r)}function kw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VB(t){if(typeof t=="function")return kw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nw)return 11;if(t===rw)return 14}return 2}function Aa(t,e){var n=t.alternate;return n===null?(n=Qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function b0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bc:return ql(n.children,i,s,e);case tw:o=8,i|=8;break;case C_:return t=Qi(12,n,e,i|2),t.elementType=C_,t.lanes=s,t;case P_:return t=Qi(13,n,e,i),t.elementType=P_,t.lanes=s,t;case R_:return t=Qi(19,n,e,i),t.elementType=R_,t.lanes=s,t;case aL:return jv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sL:o=10;break e;case oL:o=9;break e;case nw:o=11;break e;case rw:o=14;break e;case fa:o=16,r=null;break e}throw Error($e(130,t==null?t:typeof t,""))}return e=Qi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ql(t,e,n,r){return t=Qi(7,t,r,e),t.lanes=n,t}function jv(t,e,n,r){return t=Qi(22,t,r,e),t.elementType=aL,t.lanes=n,t.stateNode={isHidden:!1},t}function sx(t,e,n){return t=Qi(6,t,null,e),t.lanes=n,t}function ox(t,e,n){return e=Qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z1(0),this.expirationTimes=z1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fw(t,e,n,r,i,s,o,a,l){return t=new HB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(s),t}function GB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Q5(t){if(!t)return Fa;t=t._reactInternals;e:{if(du(t)!==t||t.tag!==1)throw Error($e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($e(171))}if(t.tag===1){var n=t.type;if(oi(n))return JL(t,n,e)}return e}function eD(t,e,n,r,i,s,o,a,l){return t=Fw(n,r,!0,t,i,s,o,a,l),t.context=Q5(null),n=t.current,r=Gr(),i=Ta(n),s=Co(r,i),s.callback=e??null,Ma(n,s,i),t.current.lanes=i,xp(t,i,r),ai(t,r),t}function $v(t,e,n,r){var i=e.current,s=Gr(),o=Ta(i);return n=Q5(n),e.context===null?e.context=n:e.pendingContext=n,e=Co(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ma(i,e,o),t!==null&&(ws(t,i,o,s),v0(t,i,o)),o}function av(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bw(t,e){O3(t,e),(t=t.alternate)&&O3(t,e)}function WB(){return null}var tD=typeof reportError=="function"?reportError:function(t){console.error(t)};function zw(t){this._internalRoot=t}Xv.prototype.render=zw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($e(409));$v(t,e,null,null)};Xv.prototype.unmount=zw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;su(function(){$v(null,t,null,null)}),e[Io]=null}};function Xv(t){this._internalRoot=t}Xv.prototype.unstable_scheduleHydration=function(t){if(t){var e=LL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ma.length&&e!==0&&e<ma[n].priority;n++);ma.splice(n,0,t),n===0&&IL(t)}};function Vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U3(){}function jB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=av(o);s.call(u)}}var o=eD(e,r,t,0,null,!1,!1,"",U3);return t._reactRootContainer=o,t[Io]=o.current,Nd(t.nodeType===8?t.parentNode:t),su(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=av(l);a.call(u)}}var l=Fw(t,0,!1,null,null,!1,!1,"",U3);return t._reactRootContainer=l,t[Io]=l.current,Nd(t.nodeType===8?t.parentNode:t),su(function(){$v(e,l,n,r)}),l}function qv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=av(o);a.call(l)}}$v(e,o,t,i)}else o=jB(n,e,t,i,r);return av(o)}PL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jh(e.pendingLanes);n!==0&&(ow(e,n|1),ai(e,Fn()),!(Ht&6)&&(wf=Fn()+500,qa()))}break;case 13:su(function(){var r=Oo(t,1);if(r!==null){var i=Gr();ws(r,t,1,i)}}),Bw(t,1)}};aw=function(t){if(t.tag===13){var e=Oo(t,134217728);if(e!==null){var n=Gr();ws(e,t,134217728,n)}Bw(t,134217728)}};RL=function(t){if(t.tag===13){var e=Ta(t),n=Oo(t,e);if(n!==null){var r=Gr();ws(n,t,e,r)}Bw(t,e)}};LL=function(){return Zt};DL=function(t,e){var n=Zt;try{return Zt=t,e()}finally{Zt=n}};z_=function(t,e,n){switch(e){case"input":if(I_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bv(r);if(!i)throw Error($e(90));uL(r),I_(r,i)}}}break;case"textarea":fL(t,n);break;case"select":e=n.value,e!=null&&of(t,!!n.multiple,e,!1)}};yL=Ow;xL=su;var $B={usingClientEntryPoint:!1,Events:[Sp,Gc,Bv,gL,vL,Ow]},Ph={findFiberByHostInstance:zl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XB={bundleType:Ph.bundleType,version:Ph.version,rendererPackageName:Ph.rendererPackageName,rendererConfig:Ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wL(t),t===null?null:t.stateNode},findFiberByHostInstance:Ph.findFiberByHostInstance||WB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lg.isDisabled&&lg.supportsFiber)try{Uv=lg.inject(XB),js=lg}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$B;Ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vw(e))throw Error($e(200));return GB(t,e,null,n)};Ui.createRoot=function(t,e){if(!Vw(t))throw Error($e(299));var n=!1,r="",i=tD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fw(t,1,!1,null,null,n,!1,r,i),t[Io]=e.current,Nd(t.nodeType===8?t.parentNode:t),new zw(e)};Ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($e(188)):(t=Object.keys(t).join(","),Error($e(268,t)));return t=wL(e),t=t===null?null:t.stateNode,t};Ui.flushSync=function(t){return su(t)};Ui.hydrate=function(t,e,n){if(!Yv(e))throw Error($e(200));return qv(null,t,e,!0,n)};Ui.hydrateRoot=function(t,e,n){if(!Vw(t))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eD(e,null,t,1,n??null,i,!1,s,o),t[Io]=e.current,Nd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xv(e)};Ui.render=function(t,e,n){if(!Yv(e))throw Error($e(200));return qv(null,t,e,!1,n)};Ui.unmountComponentAtNode=function(t){if(!Yv(t))throw Error($e(40));return t._reactRootContainer?(su(function(){qv(null,null,t,!1,function(){t._reactRootContainer=null,t[Io]=null})}),!0):!1};Ui.unstable_batchedUpdates=Ow;Ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yv(n))throw Error($e(200));if(t==null||t._reactInternals===void 0)throw Error($e(38));return qv(t,e,n,!1,r)};Ui.version="18.2.0-next-9e3b772b8-20220608";function nD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nD)}catch(t){console.error(t)}}nD(),eL.exports=Ui;var YB=eL.exports,N3=YB;T_.createRoot=N3.createRoot,T_.hydrateRoot=N3.hydrateRoot;/**
 * @remix-run/router v1.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}var xa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xa||(xa={}));const k3="popstate";function qB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return x2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:lv(i)}return ZB(e,n,null,t)}function Xn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KB(){return Math.random().toString(36).substr(2,8)}function F3(t,e){return{usr:t.state,key:t.key,idx:e}}function x2(t,e,n,r){return n===void 0&&(n=null),jd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?If(e):e,{state:n,key:e&&e.key||r||KB()})}function lv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function If(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xa.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(jd({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=xa.Pop;let x=c(),v=x==null?null:x-u;u=x,l&&l({action:a,location:_.location,delta:v})}function p(x,v){a=xa.Push;let S=x2(_.location,x,v);n&&n(S,x),u=c()+1;let w=F3(S,u),M=_.createHref(S);try{o.pushState(w,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(M)}s&&l&&l({action:a,location:_.location,delta:1})}function m(x,v){a=xa.Replace;let S=x2(_.location,x,v);n&&n(S,x),u=c();let w=F3(S,u),M=_.createHref(S);o.replaceState(w,"",M),s&&l&&l({action:a,location:_.location,delta:0})}function g(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:lv(x);return Xn(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let _={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(k3,d),l=x,()=>{i.removeEventListener(k3,d),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var B3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(B3||(B3={}));function JB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?If(e):e,i=Gw(r.pathname||"/",n);if(i==null)return null;let s=rD(t);QB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=l8(s[a],f8(i));return o}function rD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Xn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ca([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Xn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rD(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:o8(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of iD(s.path))i(s,o,l)}),e}function iD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e8=/^:\w+$/,t8=3,n8=2,r8=1,i8=10,s8=-2,z3=t=>t==="*";function o8(t,e){let n=t.split("/"),r=n.length;return n.some(z3)&&(r+=s8),e&&(r+=n8),n.filter(i=>!z3(i)).reduce((i,s)=>i+(e8.test(s)?t8:s===""?r8:i8),r)}function a8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l8(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=u8({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Ca([i,c.pathname]),pathnameBase:m8(Ca([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ca([i,c.pathnameBase]))}return s}function u8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=h8(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function c8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f8(t){try{return decodeURI(t)}catch(e){return Hw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function h8(t,e){try{return decodeURIComponent(t)}catch(n){return Hw(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Gw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function d8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?If(t):t;return{pathname:n?n.startsWith("/")?n:p8(n,e):e,search:g8(r),hash:v8(i)}}function p8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ax(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=If(t):(i=jd({},t),Xn(!i.pathname||!i.pathname.includes("?"),ax("?","pathname","search",i)),Xn(!i.pathname||!i.pathname.includes("#"),ax("#","pathname","hash",i)),Xn(!i.search||!i.search.includes("#"),ax("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=d8(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ca=t=>t.join("/").replace(/\/\/+/g,"/"),m8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aD=["post","put","patch","delete"];new Set(aD);const x8=["get",...aD];new Set(x8);/**
 * React Router v6.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}const Ww=re.createContext(null),_8=re.createContext(null),Of=re.createContext(null),Kv=re.createContext(null),pu=re.createContext({outlet:null,matches:[],isDataRoute:!1}),lD=re.createContext(null);function S8(t,e){let{relative:n}=e===void 0?{}:e;bp()||Xn(!1);let{basename:r,navigator:i}=re.useContext(Of),{hash:s,pathname:o,search:a}=fD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ca([r,o])),i.createHref({pathname:l,search:a,hash:s})}function bp(){return re.useContext(Kv)!=null}function Zv(){return bp()||Xn(!1),re.useContext(Kv).location}function uD(t){re.useContext(Of).static||re.useLayoutEffect(t)}function cD(){let{isDataRoute:t}=re.useContext(pu);return t?O8():w8()}function w8(){bp()||Xn(!1);let t=re.useContext(Ww),{basename:e,navigator:n}=re.useContext(Of),{matches:r}=re.useContext(pu),{pathname:i}=Zv(),s=JSON.stringify(sD(r).map(l=>l.pathnameBase)),o=re.useRef(!1);return uD(()=>{o.current=!0}),re.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=oD(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Ca([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function fD(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=re.useContext(pu),{pathname:i}=Zv(),s=JSON.stringify(sD(r).map(o=>o.pathnameBase));return re.useMemo(()=>oD(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function b8(t,e){return M8(t,e)}function M8(t,e,n){bp()||Xn(!1);let{navigator:r}=re.useContext(Of),{matches:i}=re.useContext(pu),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Zv(),u;if(e){var c;let _=typeof e=="string"?If(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Xn(!1),u=_}else u=l;let d=u.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",m=JB(t,{pathname:p}),g=P8(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Ca([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Ca([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&g?re.createElement(Kv.Provider,{value:{location:uv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xa.Pop}},g):g}function E8(){let t=I8(),e=y8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),n?re.createElement("pre",{style:i},n):null,s)}const T8=re.createElement(E8,null);class A8 extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?re.createElement(pu.Provider,{value:this.props.routeContext},re.createElement(lD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C8(t){let{routeContext:e,match:n,children:r}=t,i=re.useContext(Ww);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(pu.Provider,{value:e},r)}function P8(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Xn(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||T8);let p=e.concat(s.slice(0,u+1)),m=()=>{let g;return c?g=d:l.route.Component?g=re.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,re.createElement(C8,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?re.createElement(A8,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var _2;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(_2||(_2={}));var $d;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})($d||($d={}));function R8(t){let e=re.useContext(Ww);return e||Xn(!1),e}function L8(t){let e=re.useContext(_8);return e||Xn(!1),e}function D8(t){let e=re.useContext(pu);return e||Xn(!1),e}function hD(t){let e=D8(),n=e.matches[e.matches.length-1];return n.route.id||Xn(!1),n.route.id}function I8(){var t;let e=re.useContext(lD),n=L8($d.UseRouteError),r=hD($d.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function O8(){let{router:t}=R8(_2.UseNavigateStable),e=hD($d.UseNavigateStable),n=re.useRef(!1);return uD(()=>{n.current=!0}),re.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,uv({fromRouteId:e},s)))},[t,e])}function ua(t){Xn(!1)}function U8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xa.Pop,navigator:s,static:o=!1}=t;bp()&&Xn(!1);let a=e.replace(/^\/*/,"/"),l=re.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=If(r));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:m="default"}=r,g=re.useMemo(()=>{let _=Gw(u,a);return _==null?null:{location:{pathname:_,search:c,hash:d,state:p,key:m},navigationType:i}},[a,u,c,d,p,m,i]);return g==null?null:re.createElement(Of.Provider,{value:l},re.createElement(Kv.Provider,{children:n,value:g}))}function N8(t){let{children:e,location:n}=t;return b8(S2(e),n)}var V3;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(V3||(V3={}));new Promise(()=>{});function S2(t,e){e===void 0&&(e=[]);let n=[];return re.Children.forEach(t,(r,i)=>{if(!re.isValidElement(r))return;let s=[...e,i];if(r.type===re.Fragment){n.push.apply(n,S2(r.props.children,s));return}r.type!==ua&&Xn(!1),!r.props.index||!r.props.children||Xn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=S2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(this,arguments)}function k8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B8(t,e){return t.button===0&&(!e||e==="_self")&&!F8(t)}const z8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],V8="startTransition",H3=FF[V8];function H8(t){let{basename:e,children:n,future:r,window:i}=t,s=re.useRef();s.current==null&&(s.current=qB({window:i,v5Compat:!0}));let o=s.current,[a,l]=re.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=re.useCallback(d=>{u&&H3?H3(()=>l(d)):l(d)},[l,u]);return re.useLayoutEffect(()=>o.listen(c),[o,c]),re.createElement(U8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const G8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$u=re.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=k8(e,z8),{basename:p}=re.useContext(Of),m,g=!1;if(typeof u=="string"&&W8.test(u)&&(m=u,G8))try{let S=new URL(window.location.href),w=u.startsWith("//")?new URL(S.protocol+u):new URL(u),M=Gw(w.pathname,p);w.origin===S.origin&&M!=null?u=M+w.search+w.hash:g=!0}catch{}let _=S8(u,{relative:i}),x=j8(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function v(S){r&&r(S),S.defaultPrevented||x(S)}return re.createElement("a",w2({},d,{href:m||_,onClick:g||s?r:v,ref:n,target:l}))});var G3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(G3||(G3={}));var W3;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(W3||(W3={}));function j8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=cD(),l=Zv(),u=fD(t,{relative:o});return re.useCallback(c=>{if(B8(c,n)){c.preventDefault();let d=r!==void 0?r:lv(l)===lv(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const dD=re.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Jv=re.createContext({}),jw=re.createContext(null),Qv=typeof document<"u",b2=Qv?re.useLayoutEffect:re.useEffect,pD=re.createContext({strict:!1});function $8(t,e,n,r){const{visualElement:i}=re.useContext(Jv),s=re.useContext(pD),o=re.useContext(jw),a=re.useContext(dD).reducedMotion,l=re.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return re.useInsertionEffect(()=>{u&&u.update(n,o)}),b2(()=>{u&&u.render()}),re.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?b2:re.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Kc(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function X8(t,e,n){return re.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Kc(n)&&(n.current=r))},[e])}function Xd(t){return typeof t=="string"||Array.isArray(t)}function ey(t){return typeof t=="object"&&typeof t.start=="function"}const $w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xw=["initial",...$w];function ty(t){return ey(t.animate)||Xw.some(e=>Xd(t[e]))}function mD(t){return!!(ty(t)||t.variants)}function Y8(t,e){if(ty(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xd(n)?n:void 0,animate:Xd(r)?r:void 0}}return t.inherit!==!1?e:{}}function q8(t){const{initial:e,animate:n}=Y8(t,re.useContext(Jv));return re.useMemo(()=>({initial:e,animate:n}),[j3(e),j3(n)])}function j3(t){return Array.isArray(t)?t.join(" "):t}const $3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yd={};for(const t in $3)Yd[t]={isEnabled:e=>$3[t].some(n=>!!e[n])};function K8(t){for(const e in t)Yd[e]={...Yd[e],...t[e]}}const gD=re.createContext({}),vD=re.createContext({}),Z8=Symbol.for("motionComponentSymbol");function J8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&K8(t);function s(a,l){let u;const c={...re.useContext(dD),...a,layoutId:Q8(a)},{isStatic:d}=c,p=q8(a),m=r(a,d);if(!d&&Qv){p.visualElement=$8(i,m,c,e);const g=re.useContext(vD),_=re.useContext(pD).strict;p.visualElement&&(u=p.visualElement.loadFeatures(c,_,t,g))}return re.createElement(Jv.Provider,{value:p},u&&p.visualElement?re.createElement(u,{visualElement:p.visualElement,...c}):null,n(i,a,X8(m,p.visualElement,l),m,d,p.visualElement))}const o=re.forwardRef(s);return o[Z8]=i,o}function Q8({layoutId:t}){const e=re.useContext(gD).id;return e&&t!==void 0?e+"-"+t:t}function ez(t){function e(r,i={}){return J8(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const tz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yw(t){return typeof t!="string"||t.includes("-")?!1:!!(tz.indexOf(t)>-1||/[A-Z]/.test(t))}const cv={};function nz(t){Object.assign(cv,t)}const Mp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mu=new Set(Mp);function yD(t,{layout:e,layoutId:n}){return mu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cv[t]||t==="opacity")}const li=t=>!!(t&&t.getVelocity),rz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iz=Mp.length;function sz(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<iz;o++){const a=Mp[o];if(t[a]!==void 0){const l=rz[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const xD=t=>e=>typeof e=="string"&&e.startsWith(t),_D=xD("--"),M2=xD("var(--"),oz=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,az=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ba=(t,e,n)=>Math.min(Math.max(n,t),e),gu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},md={...gu,transform:t=>Ba(0,1,t)},ug={...gu,default:1},gd=t=>Math.round(t*1e5)/1e5,ny=/(-)?([\d]*\.?[\d])+/g,SD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ep(t){return typeof t=="string"}const Tp=t=>({test:e=>Ep(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ca=Tp("deg"),Xs=Tp("%"),_t=Tp("px"),uz=Tp("vh"),cz=Tp("vw"),X3={...Xs,parse:t=>Xs.parse(t)/100,transform:t=>Xs.transform(t*100)},Y3={...gu,transform:Math.round},wD={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,size:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,rotate:ca,rotateX:ca,rotateY:ca,rotateZ:ca,scale:ug,scaleX:ug,scaleY:ug,scaleZ:ug,skew:ca,skewX:ca,skewY:ca,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:md,originX:X3,originY:X3,originZ:_t,zIndex:Y3,fillOpacity:md,strokeOpacity:md,numOctaves:Y3};function qw(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const p=e[d];if(_D(d)){s[d]=p;continue}const m=wD[d],g=az(p,m);if(mu.has(d)){if(l=!0,o[d]=g,!c)continue;p!==(m.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=g):i[d]=g}if(e.transform||(l||r?i.transform=sz(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${p} ${m}`}}const Kw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bD(t,e,n){for(const r in e)!li(e[r])&&!yD(r,n)&&(t[r]=e[r])}function fz({transformTemplate:t},e,n){return re.useMemo(()=>{const r=Kw();return qw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function hz(t,e,n){const r=t.style||{},i={};return bD(i,r,t),Object.assign(i,fz(t,e,n)),t.transformValues?t.transformValues(i):i}function dz(t,e,n){const r={},i=hz(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const pz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function fv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||pz.has(t)}let MD=t=>!fv(t);function mz(t){t&&(MD=e=>e.startsWith("on")?!fv(e):t(e))}try{mz(require("@emotion/is-prop-valid").default)}catch{}function gz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(MD(i)||n===!0&&fv(i)||!e&&!fv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function q3(t,e,n){return typeof t=="string"?t:_t.transform(e+n*t)}function vz(t,e,n){const r=q3(e,t.x,t.width),i=q3(n,t.y,t.height);return`${r} ${i}`}const yz={offset:"stroke-dashoffset",array:"stroke-dasharray"},xz={offset:"strokeDashoffset",array:"strokeDasharray"};function _z(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?yz:xz;t[s.offset]=_t.transform(-r);const o=_t.transform(e),a=_t.transform(n);t[s.array]=`${o} ${a}`}function Zw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,p){if(qw(t,u,c,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:_}=t;m.transform&&(_&&(g.transform=m.transform),delete m.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=vz(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&_z(m,o,a,l,!1)}const ED=()=>({...Kw(),attrs:{}}),Jw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Sz(t,e,n,r){const i=re.useMemo(()=>{const s=ED();return Zw(s,e,{enableHardwareAcceleration:!1},Jw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};bD(s,t.style,t),i.style={...s,...i.style}}return i}function wz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Yw(n)?Sz:dz)(r,s,o,n),c={...gz(r,typeof n=="string",t),...l,ref:i},{children:d}=r,p=re.useMemo(()=>li(d)?d.get():d,[d]);return re.createElement(n,{...c,children:p})}}const Qw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function TD(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const AD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CD(t,e,n,r){TD(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(AD.has(i)?i:Qw(i),e.attrs[i])}function eb(t,e){const{style:n}=t,r={};for(const i in n)(li(n[i])||e.style&&li(e.style[i])||yD(i,t))&&(r[i]=n[i]);return r}function PD(t,e){const n=eb(t,e);for(const r in t)if(li(t[r])||li(e[r])){const i=Mp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function tb(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function RD(t){const e=re.useRef(null);return e.current===null&&(e.current=t()),e.current}const hv=t=>Array.isArray(t),bz=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Mz=t=>hv(t)?t[t.length-1]||0:t;function M0(t){const e=li(t)?t.get():t;return bz(e)?e.toValue():e}function Ez({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Tz(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const LD=t=>(e,n)=>{const r=re.useContext(Jv),i=re.useContext(jw),s=()=>Ez(t,e,r,i);return n?s():RD(s)};function Tz(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=M0(s[p]);let{initial:o,animate:a}=t;const l=ty(t),u=mD(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!ey(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const g=tb(t,m);if(!g)return;const{transitionEnd:_,transition:x,...v}=g;for(const S in v){let w=v[S];if(Array.isArray(w)){const M=c?w.length-1:0;w=w[M]}w!==null&&(i[S]=w)}for(const S in _)i[S]=_[S]}),i}const Az={useVisualState:LD({scrapeMotionValuesFromProps:PD,createRenderState:ED,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Zw(n,r,{enableHardwareAcceleration:!1},Jw(e.tagName),t.transformTemplate),CD(e,n)}})},Cz={useVisualState:LD({scrapeMotionValuesFromProps:eb,createRenderState:Kw})};function Pz(t,{forwardMotionProps:e=!1},n,r){return{...Yw(t)?Az:Cz,preloadedFeatures:n,useRender:wz(e),createVisualElement:r,Component:t}}function To(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const DD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ry(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Rz=t=>e=>DD(e)&&t(e,ry(e));function Po(t,e,n,r){return To(t,e,Rz(n),r)}const Lz=(t,e)=>n=>e(t(n)),Pa=(...t)=>t.reduce(Lz);function ID(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const K3=ID("dragHorizontal"),Z3=ID("dragVertical");function OD(t){let e=!1;if(t==="y")e=Z3();else if(t==="x")e=K3();else{const n=K3(),r=Z3();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function UD(){const t=OD(!0);return t?(t(),!1):!0}class Ka{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Dz(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,p=d?e:n;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const yn={delta:0,timestamp:0,isProcessing:!1},Iz=40;let E2=!0,qd=!1;const iy=["read","update","preRender","render","postRender"],hf=iy.reduce((t,e)=>(t[e]=Dz(()=>qd=!0),t),{}),Oz=t=>hf[t].process(yn),ND=t=>{qd=!1,yn.delta=E2?1e3/60:Math.max(Math.min(t-yn.timestamp,Iz),1),yn.timestamp=t,yn.isProcessing=!0,iy.forEach(Oz),yn.isProcessing=!1,qd&&(E2=!1,requestAnimationFrame(ND))},Uz=()=>{qd=!0,E2=!0,yn.isProcessing||requestAnimationFrame(ND)},bn=iy.reduce((t,e)=>{const n=hf[e];return t[e]=(r,i=!1,s=!1)=>(qd||Uz(),n.schedule(r,i,s)),t},{});function No(t){iy.forEach(e=>hf[e].cancel(t))}function J3(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||UD())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&bn.update(()=>a[r](s,o))};return Po(t.current,n,i,{passive:!t.getProps()[r]})}class Nz extends Ka{mount(){this.unmount=Pa(J3(this.node,!0),J3(this.node,!1))}unmount(){}}class kz extends Ka{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pa(To(this.node.current,"focus",()=>this.onFocus()),To(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const kD=(t,e)=>e?t===e?!0:kD(t,e.parentElement):!1,Zn=t=>t;function lx(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ry(n))}class Fz extends Ka{constructor(){super(...arguments),this.removeStartListeners=Zn,this.removeEndListeners=Zn,this.removeAccessibleListeners=Zn,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Po(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();bn.update(()=>{kD(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Po(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Pa(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||lx("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&bn.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=To(this.node.current,"keyup",o),lx("down",(a,l)=>{this.startPress(a,l)})},n=To(this.node.current,"keydown",e),r=()=>{this.isPressing&&lx("cancel",(s,o)=>this.cancelPress(s,o))},i=To(this.node.current,"blur",r);this.removeAccessibleListeners=Pa(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&bn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!UD()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&bn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Po(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=To(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Pa(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const T2=new WeakMap,ux=new WeakMap,Bz=t=>{const e=T2.get(t.target);e&&e(t)},zz=t=>{t.forEach(Bz)};function Vz({root:t,...e}){const n=t||document;ux.has(n)||ux.set(n,{});const r=ux.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(zz,{root:t,...e})),r[i]}function Hz(t,e,n){const r=Vz(e);return T2.set(t,n),r.observe(t),()=>{T2.delete(t),r.unobserve(t)}}const Gz={some:0,all:1};class Wz extends Ka{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Gz[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),p=u?c:d;p&&p(l)};return Hz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jz(e,n))&&this.startObserver()}unmount(){}}function jz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $z={inView:{Feature:Wz},tap:{Feature:Fz},focus:{Feature:kz},hover:{Feature:Nz}};function FD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Xz(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Yz(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function sy(t,e,n){const r=t.getProps();return tb(r,e,n!==void 0?n:r.custom,Xz(t),Yz(t))}const qz="framerAppearId",Kz="data-"+Qw(qz);let Zz=Zn,nb=Zn;const Ra=t=>t*1e3,Ro=t=>t/1e3,Jz={current:!1},BD=t=>Array.isArray(t)&&typeof t[0]=="number";function zD(t){return!!(!t||typeof t=="string"&&VD[t]||BD(t)||Array.isArray(t)&&t.every(zD))}const ed=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,VD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ed([0,.65,.55,1]),circOut:ed([.55,0,1,.45]),backIn:ed([.31,.01,.66,-.59]),backOut:ed([.33,1.53,.69,.99])};function HD(t){if(t)return BD(t)?ed(t):Array.isArray(t)?t.map(HD):VD[t]}function Qz(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=HD(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Q3={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},cx={},GD={};for(const t in Q3)GD[t]=()=>(cx[t]===void 0&&(cx[t]=Q3[t]()),cx[t]);function e7(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const WD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,t7=1e-7,n7=12;function r7(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=WD(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>t7&&++a<n7);return o}function Ap(t,e,n,r){if(t===e&&n===r)return Zn;const i=s=>r7(s,0,1,t,n);return s=>s===0||s===1?s:WD(i(s),e,r)}const i7=Ap(.42,0,1,1),s7=Ap(0,0,.58,1),jD=Ap(.42,0,.58,1),o7=t=>Array.isArray(t)&&typeof t[0]!="number",$D=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XD=t=>e=>1-t(1-e),YD=t=>1-Math.sin(Math.acos(t)),rb=XD(YD),a7=$D(rb),qD=Ap(.33,1.53,.69,.99),ib=XD(qD),l7=$D(ib),u7=t=>(t*=2)<1?.5*ib(t):.5*(2-Math.pow(2,-10*(t-1))),c7={linear:Zn,easeIn:i7,easeInOut:jD,easeOut:s7,circIn:YD,circInOut:a7,circOut:rb,backIn:ib,backInOut:l7,backOut:qD,anticipate:u7},eA=t=>{if(Array.isArray(t)){nb(t.length===4);const[e,n,r,i]=t;return Ap(e,n,r,i)}else if(typeof t=="string")return c7[t];return t},sb=(t,e)=>n=>!!(Ep(n)&&lz.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),KD=(t,e,n)=>r=>{if(!Ep(r))return r;const[i,s,o,a]=r.match(ny);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},f7=t=>Ba(0,255,t),fx={...gu,transform:t=>Math.round(f7(t))},Gl={test:sb("rgb","red"),parse:KD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fx.transform(t)+", "+fx.transform(e)+", "+fx.transform(n)+", "+gd(md.transform(r))+")"};function h7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const A2={test:sb("#"),parse:h7,transform:Gl.transform},Zc={test:sb("hsl","hue"),parse:KD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xs.transform(gd(e))+", "+Xs.transform(gd(n))+", "+gd(md.transform(r))+")"},Vr={test:t=>Gl.test(t)||A2.test(t)||Zc.test(t),parse:t=>Gl.test(t)?Gl.parse(t):Zc.test(t)?Zc.parse(t):A2.parse(t),transform:t=>Ep(t)?t:t.hasOwnProperty("red")?Gl.transform(t):Zc.transform(t)},Sn=(t,e,n)=>-n*t+n*e+t;function hx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=hx(l,a,t+1/3),s=hx(l,a,t),o=hx(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const dx=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},p7=[A2,Gl,Zc],m7=t=>p7.find(e=>e.test(t));function tA(t){const e=m7(t);let n=e.parse(t);return e===Zc&&(n=d7(n)),n}const ZD=(t,e)=>{const n=tA(t),r=tA(e),i={...n};return s=>(i.red=dx(n.red,r.red,s),i.green=dx(n.green,r.green,s),i.blue=dx(n.blue,r.blue,s),i.alpha=Sn(n.alpha,r.alpha,s),Gl.transform(i))};function g7(t){var e,n;return isNaN(t)&&Ep(t)&&(((e=t.match(ny))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SD))===null||n===void 0?void 0:n.length)||0)>0}const JD={regex:oz,countKey:"Vars",token:"${v}",parse:Zn},QD={regex:SD,countKey:"Colors",token:"${c}",parse:Vr.parse},eI={regex:ny,countKey:"Numbers",token:"${n}",parse:gu.parse};function px(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function dv(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&px(n,JD),px(n,QD),px(n,eI),n}function tI(t){return dv(t).values}function nI(t){const{values:e,numColors:n,numVars:r,tokenised:i}=dv(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(JD.token,o[l]):l<r+n?a=a.replace(QD.token,Vr.transform(o[l])):a=a.replace(eI.token,gd(o[l]));return a}}const v7=t=>typeof t=="number"?0:t;function y7(t){const e=tI(t);return nI(t)(e.map(v7))}const za={test:g7,parse:tI,createTransformer:nI,getAnimatableNone:y7},rI=(t,e)=>n=>`${n>0?e:t}`;function iI(t,e){return typeof t=="number"?n=>Sn(t,e,n):Vr.test(t)?ZD(t,e):t.startsWith("var(")?rI(t,e):oI(t,e)}const sI=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>iI(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},x7=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=iI(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},oI=(t,e)=>{const n=za.createTransformer(e),r=dv(t),i=dv(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Pa(sI(r.values,i.values),n):rI(t,e)},Kd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},nA=(t,e)=>n=>Sn(t,e,n);function _7(t){return typeof t=="number"?nA:typeof t=="string"?Vr.test(t)?ZD:oI:Array.isArray(t)?sI:typeof t=="object"?x7:nA}function S7(t,e,n){const r=[],i=n||_7(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Zn:e;a=Pa(l,a)}r.push(a)}return r}function aI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(nb(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=S7(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Kd(t[c],t[c+1],u);return o[c](d)};return n?u=>l(Ba(t[0],t[s-1],u)):l}function w7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Kd(0,e,r);t.push(Sn(n,1,i))}}function b7(t){const e=[0];return w7(e,t.length-1),e}function M7(t,e){return t.map(n=>n*e)}function E7(t,e){return t.map(()=>e||jD).splice(0,t.length-1)}function pv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=o7(r)?r.map(eA):eA(r),s={done:!1,value:e[0]},o=M7(n&&n.length===e.length?n:b7(e),t),a=aI(o,e,{ease:Array.isArray(i)?i:E7(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function lI(t,e){return e?t*(1e3/e):0}const T7=5;function uI(t,e,n){const r=Math.max(e-T7,0);return lI(n-t(r),e-r)}const mx=.001,A7=.01,rA=10,C7=.05,P7=1;function R7({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;Zz(t<=Ra(rA));let o=1-e;o=Ba(C7,P7,o),t=Ba(A7,rA,Ro(t)),o<1?(i=u=>{const c=u*o,d=c*t,p=c-n,m=C2(u,o),g=Math.exp(-d);return mx-p/m*g},s=u=>{const d=u*o*t,p=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-d),_=C2(Math.pow(u,2),o);return(-i(u)+mx>0?-1:1)*((p-m)*g)/_}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-mx+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=D7(i,s,a);if(t=Ra(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const L7=12;function D7(t,e,n){let r=n;for(let i=1;i<L7;i++)r=r-t(r)/e(r);return r}function C2(t,e){return t*Math.sqrt(1-e*e)}const I7=["duration","bounce"],O7=["stiffness","damping","mass"];function iA(t,e){return e.some(n=>t[n]!==void 0)}function U7(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!iA(t,O7)&&iA(t,I7)){const n=R7(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function cI({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:p}=U7(r),m=c?-Ro(c):0,g=l/(2*Math.sqrt(a*u)),_=s-i,x=Ro(Math.sqrt(a/u)),v=Math.abs(_)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let S;if(g<1){const w=C2(x,g);S=M=>{const T=Math.exp(-g*x*M);return s-T*((m+g*x*_)/w*Math.sin(w*M)+_*Math.cos(w*M))}}else if(g===1)S=w=>s-Math.exp(-x*w)*(_+(m+x*_)*w);else{const w=x*Math.sqrt(g*g-1);S=M=>{const T=Math.exp(-g*x*M),A=Math.min(w*M,300);return s-T*((m+g*x*_)*Math.sinh(A)+w*_*Math.cosh(A))/w}}return{calculatedDuration:p&&d||null,next:w=>{const M=S(w);if(p)o.done=w>=d;else{let T=m;w!==0&&(g<1?T=uI(S,w,M):T=0);const A=Math.abs(T)<=n,R=Math.abs(s-M)<=e;o.done=A&&R}return o.value=o.done?s:M,o}}}function sA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],p={done:!1,value:d},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,g=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let _=n*e;const x=d+_,v=o===void 0?x:o(x);v!==x&&(_=v-d);const S=L=>-_*Math.exp(-L/r),w=L=>v+S(L),M=L=>{const C=S(L),P=w(L);p.done=Math.abs(C)<=u,p.value=p.done?v:P};let T,A;const R=L=>{m(p.value)&&(T=L,A=cI({keyframes:[p.value,g(p.value)],velocity:uI(w,L,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:L=>{let C=!1;return!A&&T===void 0&&(C=!0,M(L),R(L)),T!==void 0&&L>T?A.next(L-T):(!C&&M(L),p)}}}const N7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>bn.update(e,!0),stop:()=>No(e),now:()=>yn.isProcessing?yn.timestamp:performance.now()}},oA=2e4;function aA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<oA;)e+=n,r=t.next(e);return e>=oA?1/0:e}const k7={decay:sA,inertia:sA,tween:pv,keyframes:pv,spring:cI};function mv({autoplay:t=!0,delay:e=0,driver:n=N7,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...p}){let m=1,g=!1,_,x;const v=()=>{_&&_(),x=new Promise(N=>{_=N})};v();let S;const w=k7[i]||pv;let M;w!==pv&&typeof r[0]!="number"&&(M=aI([0,100],r,{clamp:!1}),r=[0,100]);const T=w({...p,keyframes:r});let A;a==="mirror"&&(A=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let R="idle",L=null,C=null,P=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=aA(T));const{calculatedDuration:F}=T;let B=1/0,W=1/0;F!==null&&(B=F+o,W=B*(s+1)-o);let G=0;const q=N=>{if(C===null)return;m>0&&(C=Math.min(C,N)),m<0&&(C=Math.min(N-W/m,C)),L!==null?G=L:G=Math.round(N-C)*m;const I=G-e*(m>=0?1:-1),J=m>=0?I<0:I>W;G=Math.max(I,0),R==="finished"&&L===null&&(G=W);let Z=G,te=T;if(s){const Ie=G/B;let We=Math.floor(Ie),Se=Ie%1;!Se&&Ie>=1&&(Se=1),Se===1&&We--,We=Math.min(We,s+1);const H=!!(We%2);H&&(a==="reverse"?(Se=1-Se,o&&(Se-=o/B)):a==="mirror"&&(te=A));let be=Ba(0,1,Se);G>W&&(be=a==="reverse"&&H?1:0),Z=be*B}const ie=J?{done:!1,value:r[0]}:te.next(Z);M&&(ie.value=M(ie.value));let{done:se}=ie;!J&&F!==null&&(se=m>=0?G>=W:G<=0);const _e=L===null&&(R==="finished"||R==="running"&&se);return d&&d(ie.value),_e&&U(),ie},ee=()=>{S&&S.stop(),S=void 0},ne=()=>{R="idle",ee(),v(),C=P=null},U=()=>{R="finished",c&&c(),ee(),v()},z=()=>{if(g)return;S||(S=n(q));const N=S.now();l&&l(),L!==null?C=N-L:(!C||R==="finished")&&(C=N),P=C,L=null,R="running",S.start()};t&&z();const k={then(N,I){return x.then(N,I)},get time(){return Ro(G)},set time(N){N=Ra(N),G=N,L!==null||!S||m===0?L=N:C=S.now()-N/m},get duration(){const N=T.calculatedDuration===null?aA(T):T.calculatedDuration;return Ro(N)},get speed(){return m},set speed(N){N===m||!S||(m=N,k.time=Ro(G))},get state(){return R},play:z,pause:()=>{R="paused",L=G},stop:()=>{g=!0,R!=="idle"&&(R="idle",u&&u(),ne())},cancel:()=>{P!==null&&q(P),ne()},complete:()=>{R="finished"},sample:N=>(C=0,q(N))};return k}const F7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cg=10,B7=2e4,z7=(t,e)=>e.type==="spring"||t==="backgroundColor"||!zD(e.ease);function V7(t,e,{onUpdate:n,onComplete:r,...i}){if(!(GD.waapi()&&F7.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(v=>{a=v})};u();let{keyframes:c,duration:d=300,ease:p,times:m}=i;if(z7(e,i)){const v=mv({...i,repeat:0,delay:0});let S={done:!1,value:c[0]};const w=[];let M=0;for(;!S.done&&M<B7;)S=v.sample(M),w.push(S.value),M+=cg;m=void 0,c=w,d=M-cg,p="linear"}const g=Qz(t.owner.current,e,c,{...i,duration:d,ease:p,times:m}),_=()=>g.cancel(),x=()=>{bn.update(_),a(),u()};return g.onfinish=()=>{t.set(e7(c,i)),r&&r(),x()},{then(v,S){return l.then(v,S)},get time(){return Ro(g.currentTime||0)},set time(v){g.currentTime=Ra(v)},get speed(){return g.playbackRate},set speed(v){g.playbackRate=v},get duration(){return Ro(d)},play:()=>{o||(g.play(),No(_))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:v}=g;if(v){const S=mv({...i,autoplay:!1});t.setWithVelocity(S.sample(v-cg).value,S.sample(v).value,cg)}x()},complete:()=>g.finish(),cancel:x}}function H7({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Zn,pause:Zn,stop:Zn,then:s=>(s(),Promise.resolve()),cancel:Zn,complete:Zn});return e?mv({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const G7={type:"spring",stiffness:500,damping:25,restSpeed:10},W7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j7={type:"keyframes",duration:.8},$7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X7=(t,{keyframes:e})=>e.length>2?j7:mu.has(t)?t.startsWith("scale")?W7(e[1]):G7:$7,P2=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(za.test(e)||e==="0")&&!e.startsWith("url(")),Y7=new Set(["brightness","contrast","saturate","opacity"]);function q7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ny)||[];if(!r)return t;const i=n.replace(r,"");let s=Y7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const K7=/([a-z-]*)\(.*?\)/g,R2={...za,getAnimatableNone:t=>{const e=t.match(K7);return e?e.map(q7).join(" "):t}},Z7={...wD,color:Vr,backgroundColor:Vr,outlineColor:Vr,fill:Vr,stroke:Vr,borderColor:Vr,borderTopColor:Vr,borderRightColor:Vr,borderBottomColor:Vr,borderLeftColor:Vr,filter:R2,WebkitFilter:R2},ob=t=>Z7[t];function fI(t,e){let n=ob(t);return n!==R2&&(n=za),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hI=t=>/^0[^.\s]+$/.test(t);function J7(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||hI(t)}function Q7(t,e,n,r){const i=P2(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),J7(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=fI(e,a)}return s}function e9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function dI(t,e){return t[e]||t.default||t}const ab=(t,e,n,r={})=>i=>{const s=dI(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ra(o);const l=Q7(e,t,n,s),u=l[0],c=l[l.length-1],d=P2(t,u),p=P2(t,c);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(e9(s)||(m={...m,...X7(t,m)}),m.duration&&(m.duration=Ra(m.duration)),m.repeatDelay&&(m.repeatDelay=Ra(m.repeatDelay)),!d||!p||Jz.current||s.type===!1)return H7(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=V7(e,t,m);if(g)return g}return mv(m)};function gv(t){return!!(li(t)&&t.add)}const t9=t=>/^\-?\d*\.?\d+$/.test(t);function lb(t,e){t.indexOf(e)===-1&&t.push(e)}function ub(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cb{constructor(){this.subscriptions=[]}add(e){return lb(this.subscriptions,e),()=>ub(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const n9=t=>!isNaN(parseFloat(t));class r9{constructor(e,n={}){this.version="10.12.17",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=yn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,bn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>bn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=n9(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cb);const r=this.events[e].add(n);return e==="change"?()=>{r(),bn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?lI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bf(t,e){return new r9(t,e)}const pI=t=>e=>e.test(t),i9={test:t=>t==="auto",parse:t=>t},mI=[gu,_t,Xs,ca,cz,uz,i9],Rh=t=>mI.find(pI(t)),s9=[...mI,Vr,za],o9=t=>s9.find(pI(t));function a9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bf(n))}function fb(t,e){const n=sy(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Mz(s[o]);a9(t,o,a)}}function L2(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&fb(t,i),t.variantChildren&&t.variantChildren.forEach(s=>{L2(s,e)})})}function l9(t,e){if(Array.isArray(e))return L2(t,e);if(typeof e=="string")return L2(t,[e]);fb(t,e)}function u9(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(t9(c)||hI(c))?c=parseFloat(c):!o9(c)&&za.test(u)&&(c=fI(l,u)),t.addValue(l,bf(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function c9(t,e){return e?(e[t]||e.default||e).from:void 0}function f9(t,e,n){const r={};for(const i in t){const s=c9(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function h9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const p=t.getValue(d),m=a[d];if(!p||m===void 0||c&&h9(c,d))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=t.getProps()[Kz];x&&(g.elapsed=window.HandoffAppearAnimations(x,d,p,bn))}p.start(ab(d,p,m,t.shouldReduceMotion&&mu.has(d)?{type:!1}:g));const _=p.animation;gv(l)&&(l.add(d),_.then(()=>l.remove(d))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&fb(t,o)}),u}function D2(t,e,n={}){const r=sy(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(gI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return d9(t,e,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function d9(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(p9).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(D2(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function p9(t,e){return t.sortNodePosition(e)}function vI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>D2(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=D2(t,e,n);else{const i=typeof e=="function"?sy(t,e,n.custom):e;r=Promise.all(gI(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const m9=[...$w].reverse(),g9=$w.length;function v9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vI(t,n,r)))}function y9(t){let e=v9(t);const n=_9();let r=!0;const i=(l,u)=>{const c=sy(t,u);if(c){const{transition:d,transitionEnd:p,...m}=c;l={...l,...m,...p}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},p=[],m=new Set;let g={},_=1/0;for(let v=0;v<g9;v++){const S=m9[v],w=n[S],M=c[S]!==void 0?c[S]:d[S],T=Xd(M),A=S===u?w.isActive:null;A===!1&&(_=v);let R=M===d[S]&&M!==c[S]&&T;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...g},!w.isActive&&A===null||!M&&!w.prevProp||ey(M)||typeof M=="boolean")continue;const L=x9(w.prevProp,M);let C=L||S===u&&w.isActive&&!R&&T||v>_&&T;const P=Array.isArray(M)?M:[M];let F=P.reduce(i,{});A===!1&&(F={});const{prevResolvedValues:B={}}=w,W={...B,...F},G=q=>{C=!0,m.delete(q),w.needsAnimating[q]=!0};for(const q in W){const ee=F[q],ne=B[q];g.hasOwnProperty(q)||(ee!==ne?hv(ee)&&hv(ne)?!FD(ee,ne)||L?G(q):w.protectedKeys[q]=!0:ee!==void 0?G(q):m.add(q):ee!==void 0&&m.has(q)?G(q):w.protectedKeys[q]=!0)}w.prevProp=M,w.prevResolvedValues=F,w.isActive&&(g={...g,...F}),r&&t.blockInitialAnimation&&(C=!1),C&&!R&&p.push(...P.map(q=>({animation:q,options:{type:S,...l}})))}if(m.size){const v={};m.forEach(S=>{const w=t.getBaseTarget(S);w!==void 0&&(v[S]=w)}),p.push({animation:v})}let x=!!p.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const p=o(c,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function x9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FD(e,t):!1}function yl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _9(){return{animate:yl(!0),whileInView:yl(),whileHover:yl(),whileTap:yl(),whileDrag:yl(),whileFocus:yl(),exit:yl()}}class S9 extends Ka{constructor(e){super(e),e.animationState||(e.animationState=y9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ey(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let w9=0;class b9 extends Ka{constructor(){super(...arguments),this.id=w9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const M9={animation:{Feature:S9},exit:{Feature:b9}},lA=(t,e)=>Math.abs(t-e);function E9(t,e){const n=lA(t.x,e.x),r=lA(t.y,e.y);return Math.sqrt(n**2+r**2)}class yI{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=vx(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,d=E9(u.offset,{x:0,y:0})>=3;if(!c&&!d)return;const{point:p}=u,{timestamp:m}=yn;this.history.push({...p,timestamp:m});const{onStart:g,onMove:_}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=gx(c,this.transformPagePoint),bn.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=vx(u.type==="pointercancel"?this.lastMoveEventInfo:gx(c,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,m),p&&p(u,m)},!DD(e))return;this.handlers=n,this.transformPagePoint=r;const i=ry(e),s=gx(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=yn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,vx(s,this.history)),this.removeListeners=Pa(Po(window,"pointermove",this.handlePointerMove),Po(window,"pointerup",this.handlePointerUp),Po(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}}function gx(t,e){return e?{point:e(t.point)}:t}function uA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vx({point:t},e){return{point:t,delta:uA(t,xI(e)),offset:uA(t,T9(e)),velocity:A9(e,.1)}}function T9(t){return t[0]}function xI(t){return t[t.length-1]}function A9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ra(e)));)n--;if(!r)return{x:0,y:0};const s=Ro(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Di(t){return t.max-t.min}function I2(t,e=0,n=.01){return Math.abs(t-e)<=n}function cA(t,e,n,r=.5){t.origin=r,t.originPoint=Sn(e.min,e.max,t.origin),t.scale=Di(n)/Di(e),(I2(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Sn(n.min,n.max,t.origin)-t.originPoint,(I2(t.translate)||isNaN(t.translate))&&(t.translate=0)}function vd(t,e,n,r){cA(t.x,e.x,n.x,r?r.originX:void 0),cA(t.y,e.y,n.y,r?r.originY:void 0)}function fA(t,e,n){t.min=n.min+e.min,t.max=t.min+Di(e)}function C9(t,e,n){fA(t.x,e.x,n.x),fA(t.y,e.y,n.y)}function hA(t,e,n){t.min=e.min-n.min,t.max=t.min+Di(e)}function yd(t,e,n){hA(t.x,e.x,n.x),hA(t.y,e.y,n.y)}function P9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Sn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Sn(n,t,r.max):Math.min(t,n)),t}function dA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function R9(t,{top:e,left:n,bottom:r,right:i}){return{x:dA(t.x,n,i),y:dA(t.y,e,r)}}function pA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function L9(t,e){return{x:pA(t.x,e.x),y:pA(t.y,e.y)}}function D9(t,e){let n=.5;const r=Di(t),i=Di(e);return i>r?n=Kd(e.min,e.max-r,t.min):r>i&&(n=Kd(t.min,t.max-i,e.min)),Ba(0,1,n)}function I9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const O2=.35;function O9(t=O2){return t===!1?t=0:t===!0&&(t=O2),{x:mA(t,"left","right"),y:mA(t,"top","bottom")}}function mA(t,e,n){return{min:gA(t,e),max:gA(t,n)}}function gA(t,e){return typeof t=="number"?t:t[e]||0}const vA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jc=()=>({x:vA(),y:vA()}),yA=()=>({min:0,max:0}),Wn=()=>({x:yA(),y:yA()});function Vs(t){return[t("x"),t("y")]}function _I({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function U9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yx(t){return t===void 0||t===1}function U2({scale:t,scaleX:e,scaleY:n}){return!yx(t)||!yx(e)||!yx(n)}function Ll(t){return U2(t)||SI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function SI(t){return xA(t.x)||xA(t.y)}function xA(t){return t&&t!=="0%"}function vv(t,e,n){const r=t-n,i=e*r;return n+i}function _A(t,e,n,r,i){return i!==void 0&&(t=vv(t,i,r)),vv(t,n,r)+e}function N2(t,e=0,n=1,r,i){t.min=_A(t.min,e,n,r,i),t.max=_A(t.max,e,n,r,i)}function wI(t,{x:e,y:n}){N2(t.x,e.translate,e.scale,e.originPoint),N2(t.y,n.translate,n.scale,n.originPoint)}function k9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,wI(t,o)),r&&Ll(s.latestValues)&&Qc(t,s.latestValues))}e.x=SA(e.x),e.y=SA(e.y)}function SA(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function da(t,e){t.min=t.min+e,t.max=t.max+e}function wA(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Sn(t.min,t.max,s);N2(t,e[n],e[r],o,e.scale)}const F9=["x","scaleX","originX"],B9=["y","scaleY","originY"];function Qc(t,e){wA(t.x,e,F9),wA(t.y,e,B9)}function bI(t,e){return _I(N9(t.getBoundingClientRect(),e))}function z9(t,e,n){const r=bI(t,n),{scroll:i}=e;return i&&(da(r.x,i.offset.x),da(r.y,i.offset.y)),r}const V9=new WeakMap;class H9{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(ry(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:d,onDragStart:p}=this.getProps();if(c&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OD(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(g=>{let _=this.getAxisMotionValue(g).get()||0;if(Xs.test(_)){const{projection:x}=this.visualElement;if(x&&x.layout){const v=x.layout.layoutBox[g];v&&(_=Di(v)*(parseFloat(_)/100))}}this.originPoint[g]=_}),p&&bn.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(d&&this.currentDirection===null){this.currentDirection=G9(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new yI(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&bn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!fg(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=P9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=R9(r.layoutBox,e):this.constraints=!1,this.elastic=O9(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vs(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=I9(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Kc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=z9(r,i.root,this.visualElement.getTransformPagePoint());let o=L9(i.layout.layoutBox,s);if(n){const a=n(U9(o));this.hasMutatedConstraints=!!a,a&&(o=_I(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Vs(c=>{if(!fg(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ab(e,r,0,n))}stopAnimation(){Vs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vs(n=>{const{drag:r}=this.getProps();if(!fg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Sn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Kc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=D9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vs(o=>{if(!fg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Sn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;V9.set(this.visualElement,this);const e=this.visualElement.current,n=Po(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Kc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=To(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vs(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=O2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function fg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function G9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class W9 extends Ka{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new H9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const bA=t=>(e,n)=>{t&&bn.update(()=>t(e,n))};class j9 extends Ka{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new yI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bA(e),onStart:bA(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&bn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Po(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $9(){const t=re.useContext(jw);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=re.useId();return re.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const E0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_t.test(t))t=parseFloat(t);else return t;const n=MA(t,e.target.x),r=MA(t,e.target.y);return`${n}% ${r}%`}},X9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=za.parse(t);if(i.length>5)return r;const s=za.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Sn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Y9 extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;nz(q9),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),E0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||bn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MI(t){const[e,n]=$9(),r=re.useContext(gD);return X.createElement(Y9,{...t,layoutGroup:r,switchLayoutGroup:re.useContext(vD),isPresent:e,safeToRemove:n})}const q9={borderRadius:{...Lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lh,borderTopRightRadius:Lh,borderBottomLeftRadius:Lh,borderBottomRightRadius:Lh,boxShadow:X9},EI=["TopLeft","TopRight","BottomLeft","BottomRight"],K9=EI.length,EA=t=>typeof t=="string"?parseFloat(t):t,TA=t=>typeof t=="number"||_t.test(t);function Z9(t,e,n,r,i,s){i?(t.opacity=Sn(0,n.opacity!==void 0?n.opacity:1,J9(r)),t.opacityExit=Sn(e.opacity!==void 0?e.opacity:1,0,Q9(r))):s&&(t.opacity=Sn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<K9;o++){const a=`border${EI[o]}Radius`;let l=AA(e,a),u=AA(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||TA(l)===TA(u)?(t[a]=Math.max(Sn(EA(l),EA(u),r),0),(Xs.test(u)||Xs.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Sn(e.rotate||0,n.rotate||0,r))}function AA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J9=TI(0,.5,rb),Q9=TI(.5,.95,Zn);function TI(t,e,n){return r=>r<t?0:r>e?1:n(Kd(t,e,r))}function CA(t,e){t.min=e.min,t.max=e.max}function $i(t,e){CA(t.x,e.x),CA(t.y,e.y)}function PA(t,e,n,r,i){return t-=e,t=vv(t,1/n,r),i!==void 0&&(t=vv(t,1/i,r)),t}function eV(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xs.test(e)&&(e=parseFloat(e),e=Sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Sn(s.min,s.max,r);t===s&&(a-=e),t.min=PA(t.min,e,n,a,i),t.max=PA(t.max,e,n,a,i)}function RA(t,e,[n,r,i],s,o){eV(t,e[n],e[r],e[i],e.scale,s,o)}const tV=["x","scaleX","originX"],nV=["y","scaleY","originY"];function LA(t,e,n,r){RA(t.x,e,tV,n?n.x:void 0,r?r.x:void 0),RA(t.y,e,nV,n?n.y:void 0,r?r.y:void 0)}function DA(t){return t.translate===0&&t.scale===1}function AI(t){return DA(t.x)&&DA(t.y)}function k2(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function IA(t){return Di(t.x)/Di(t.y)}class rV{constructor(){this.members=[]}add(e){lb(this.members,e),e.scheduleRender()}remove(e){if(ub(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OA(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const iV=(t,e)=>t.depth-e.depth;class sV{constructor(){this.children=[],this.isDirty=!1}add(e){lb(this.children,e),this.isDirty=!0}remove(e){ub(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iV),this.isDirty=!1,this.children.forEach(e)}}function oV(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(No(r),t(s-e))};return bn.read(r,!0),()=>No(r)}function aV(t){window.MotionDebug&&window.MotionDebug.record(t)}function lV(t){return t instanceof SVGElement&&t.tagName!=="svg"}function uV(t,e,n){const r=li(t)?t:bf(t);return r.start(ab("",r,e,n)),r.animation}const UA=["","X","Y","Z"],NA=1e3;let cV=0;const Dl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function CI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=cV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Dl.totalNodes=Dl.resolvedTargetDeltas=Dl.recalculatedProjection=0,this.nodes.forEach(dV),this.nodes.forEach(yV),this.nodes.forEach(xV),this.nodes.forEach(pV),aV(Dl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cb),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lV(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=oV(p,250),E0.hasAnimatedSinceResize&&(E0.hasAnimatedSinceResize=!1,this.nodes.forEach(FA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||MV,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=c.getProps(),S=!this.targetLayout||!k2(this.targetLayout,g)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const M={...dI(_,"layout"),onPlay:x,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||FA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_V),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kA);return}this.isUpdating||this.nodes.forEach(gV),this.isUpdating=!1,this.nodes.forEach(vV),this.nodes.forEach(fV),this.nodes.forEach(hV),this.clearAllSnapshots();const a=performance.now();yn.delta=Ba(0,1e3/60,a-yn.timestamp),yn.timestamp=a,yn.isProcessing=!0,hf.update.process(yn),hf.preRender.process(yn),hf.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(mV),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){bn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!AI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Ll(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),EV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(da(a.x,l.offset.x),da(a.y,l.offset.y)),a}removeElementScroll(o){const a=Wn();$i(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){$i(a,o);const{scroll:p}=this.root;p&&(da(a.x,-p.offset.x),da(a.y,-p.offset.y))}da(a.x,c.offset.x),da(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Wn();$i(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Qc(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ll(c.latestValues)&&Qc(l,c.latestValues)}return Ll(this.latestValues)&&Qc(l,this.latestValues),l}removeTransform(o){const a=Wn();$i(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ll(u.latestValues))continue;U2(u.latestValues)&&u.updateSnapshot();const c=Wn(),d=u.measurePageBox();$i(c,d),LA(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ll(this.latestValues)&&LA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),yd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$i(this.target,this.layout.layoutBox),wI(this.target,this.targetDelta)):$i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),yd(this.relativeTargetOrigin,this.target,m.target),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||U2(this.parent.latestValues)||SI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;$i(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;k9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Jc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Jc(),this.projectionDeltaWithTransform=Jc());const _=this.projectionTransform;vd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=OA(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Dl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Wn(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=m!==g,x=this.getStack(),v=!x||x.members.length<=1,S=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(bV));this.animationProgress=0;let w;this.mixTargetDelta=M=>{const T=M/1e3;BA(d.x,o.x,T),BA(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wV(this.relativeTarget,this.relativeTargetOrigin,p,T),w&&k2(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Wn()),$i(w,this.relativeTarget)),_&&(this.animationValues=c,Z9(c,u,this.latestValues,T,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bn.update(()=>{E0.hasAnimatedSinceResize=!0,this.currentAnimation=uV(0,NA,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&PI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wn();const d=Di(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Di(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}$i(a,l),Qc(a,c),vd(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rV),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<UA.length;c++){const d="rotate"+UA[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=M0(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=M0(o.pointerEvents)||""),this.hasProjected&&!Ll(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=OA(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in cv){if(p[_]===void 0)continue;const{correct:x,applyTo:v}=cv[_],S=u.transform==="none"?p[_]:x(p[_],d);if(v){const w=v.length;for(let M=0;M<w;M++)u[v[M]]=S}else u[_]=S}return this.options.layoutId&&(u.pointerEvents=d===this?M0(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kA),this.root.sharedNodes.clear()}}}function fV(t){t.updateLayout()}function hV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Vs(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Di(p);p.min=r[d].min,p.max=p.min+m}):PI(s,n.layoutBox,r)&&Vs(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Di(r[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=Jc();vd(a,r,n.layoutBox);const l=Jc();o?vd(l,t.applyTransform(i,!0),n.measuredBox):vd(l,r,n.layoutBox);const u=!AI(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const g=Wn();yd(g,n.layoutBox,p.layoutBox);const _=Wn();yd(_,r,m.layoutBox),k2(g,_)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dV(t){Dl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mV(t){t.clearSnapshot()}function kA(t){t.clearMeasurements()}function gV(t){t.isLayoutDirty=!1}function vV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function FA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yV(t){t.resolveTargetDelta()}function xV(t){t.calcProjection()}function _V(t){t.resetRotation()}function SV(t){t.removeLeadSnapshot()}function BA(t,e,n){t.translate=Sn(e.translate,0,n),t.scale=Sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zA(t,e,n,r){t.min=Sn(e.min,n.min,r),t.max=Sn(e.max,n.max,r)}function wV(t,e,n,r){zA(t.x,e.x,n.x,r),zA(t.y,e.y,n.y,r)}function bV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const MV={duration:.45,ease:[.4,0,.1,1]};function VA(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function EV(t){VA(t.x),VA(t.y)}function PI(t,e,n){return t==="position"||t==="preserve-aspect"&&!I2(IA(e),IA(n),.2)}const TV=CI({attachResizeListener:(t,e)=>To(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xx={current:void 0},RI=CI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xx.current){const t=new TV({});t.mount(window),t.setOptions({layoutScroll:!0}),xx.current=t}return xx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),AV={pan:{Feature:j9},drag:{Feature:W9,ProjectionNode:RI,MeasureLayout:MI}},CV=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function PV(t){const e=CV.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function F2(t,e,n=1){const[r,i]=PV(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():M2(i)?F2(i,e,n+1):i}function RV(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!M2(s))return;const o=F2(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!M2(s))continue;const o=F2(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const LV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),LI=t=>LV.has(t),DV=t=>Object.keys(t).some(LI),HA=t=>t===gu||t===_t,GA=(t,e)=>parseFloat(t.split(", ")[e]),WA=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return GA(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?GA(s[1],t):0}},IV=new Set(["x","y","z"]),OV=Mp.filter(t=>!IV.has(t));function UV(t){const e=[];return OV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const jA={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WA(4,13),y:WA(5,14)},NV=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=jA[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=jA[u](l,s)}),t},kV=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(LI);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],d=Rh(c);const p=e[l];let m;if(hv(p)){const g=p.length,_=p[0]===null?1:0;c=p[_],d=Rh(c);for(let x=_;x<g&&p[x]!==null;x++)m?nb(Rh(p[x])===m):m=Rh(p[x])}else m=Rh(p);if(d!==m)if(HA(d)&&HA(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===_t&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(c===0||p===0)?c===0?u.set(m.transform(c)):e[l]=d.transform(p):(o||(s=UV(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=NV(e,t,a);return s.length&&s.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),Qv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function FV(t,e,n,r){return DV(e)?kV(t,e,n,r):{target:e,transitionEnd:r}}const BV=(t,e,n,r)=>{const i=RV(t,e,r);return e=i.target,r=i.transitionEnd,FV(t,e,n,r)},B2={current:null},DI={current:!1};function zV(){if(DI.current=!0,!!Qv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>B2.current=t.matches;t.addListener(e),e()}else B2.current=!1}function VV(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(li(s))t.addValue(i,s),gv(r)&&r.add(i);else if(li(o))t.addValue(i,bf(s,{owner:t})),gv(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,bf(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const $A=new WeakMap,II=Object.keys(Yd),HV=II.length,XA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GV=Xw.length;class WV{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>bn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ty(n),this.isVariantNode=mD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const p=c[d];a[d]!==void 0&&li(p)&&(p.set(a[d],!1),gv(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,$A.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DI.current||zV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:B2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$A.delete(this.current),this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=mu.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&bn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<HV;l++){const u=II[l],{isEnabled:c,Feature:d,ProjectionNode:p,MeasureLayout:m}=Yd[u];p&&(o=p),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&Kc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<XA.length;r++){const i=XA[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=VV(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<GV;r++){const i=Xw[r],s=this.props[i];(Xd(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bf(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=tb(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!li(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class OI extends WV{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=f9(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){u9(this,r,o);const a=BV(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function jV(t){return window.getComputedStyle(t)}class $V extends OI{readValueFromInstance(e,n){if(mu.has(n)){const r=ob(n);return r&&r.default||0}else{const r=jV(e),i=(_D(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bI(e,n)}build(e,n,r,i){qw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return eb(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;li(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){TD(e,n,r,i)}}class XV extends OI{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mu.has(n)){const r=ob(n);return r&&r.default||0}return n=AD.has(n)?n:Qw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Wn()}scrapeMotionValuesFromProps(e,n){return PD(e,n)}build(e,n,r,i){Zw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){CD(e,n,r,i)}mount(e){this.isSVGTag=Jw(e.tagName),super.mount(e)}}const YV=(t,e)=>Yw(t)?new XV(e,{enableHardwareAcceleration:!1}):new $V(e,{enableHardwareAcceleration:!0}),qV={layout:{ProjectionNode:RI,MeasureLayout:MI}},KV={...M9,...$z,...AV,...qV},$t=ez((t,e)=>Pz(t,e,KV,YV));function ZV(t){t.values.forEach(e=>e.stop())}function JV(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(s=>{i.push(vI(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{l9(r,n)})},stop(){t.forEach(n=>{ZV(n)})},mount(){return()=>{e.stop()}}};return e}function QV(){const t=RD(JV);return b2(t.mount,[]),t}const hb=QV,eH=Symbol(),db=Symbol(),Dh="a",T0="w";let tH=(t,e)=>new Proxy(t,e);const z2=Object.getPrototypeOf,V2=new WeakMap,UI=t=>t&&(V2.has(t)?V2.get(t):z2(t)===Object.prototype||z2(t)===Array.prototype),YA=t=>typeof t=="object"&&t!==null,nH=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(z2(t),e)},NI=t=>t[db]||t,kI=(t,e,n,r)=>{if(!UI(t))return t;let i=r&&r.get(t);if(!i){const l=NI(t);i=(u=>Object.values(Object.getOwnPropertyDescriptors(u)).some(c=>!c.configurable&&!c.writable))(l)?[l,nH(l)]:[l],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return a&&a[1].f===!!o||(a=((l,u)=>{const c={f:u};let d=!1;const p=(g,_)=>{if(!d){let x=c[Dh].get(l);if(x||(x={},c[Dh].set(l,x)),g===T0)x[T0]=!0;else{let v=x[g];v||(v=new Set,x[g]=v),v.add(_)}}},m={get:(g,_)=>_===db?l:(p("k",_),kI(Reflect.get(g,_),c[Dh],c.c,c.t)),has:(g,_)=>_===eH?(d=!0,c[Dh].delete(l),!0):(p("h",_),Reflect.has(g,_)),getOwnPropertyDescriptor:(g,_)=>(p("o",_),Reflect.getOwnPropertyDescriptor(g,_)),ownKeys:g=>(p(T0),Reflect.ownKeys(g))};return u&&(m.set=m.deleteProperty=()=>!1),[m,c]})(s,!!o),a[1].p=tH(o||s,a[0]),n&&n.set(s,a)),a[1][Dh]=e,a[1].c=n,a[1].t=r,a[1].p},FI=(t,e,n,r)=>{if(Object.is(t,e))return!1;if(!YA(t)||!YA(e))return!0;const i=n.get(NI(t));if(!i)return!0;if(r){const o=r.get(t);if(o&&o.n===e)return o.g;r.set(t,{n:e,g:!1})}let s=null;try{for(const o of i.h||[])if(s=Reflect.has(t,o)!==Reflect.has(e,o),s)return s;if(i[T0]===!0){if(s=((o,a)=>{const l=Reflect.ownKeys(o),u=Reflect.ownKeys(a);return l.length!==u.length||l.some((c,d)=>c!==u[d])})(t,e),s)return s}else for(const o of i.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(t,o)!=!!Reflect.getOwnPropertyDescriptor(e,o),s)return s;for(const o of i.k||[])if(s=FI(t[o],e[o],n,r),s)return s;return s===null&&(s=!0),s}finally{r&&r.set(t,{n:e,g:s})}},rH=t=>UI(t)&&t[db]||null,qA=(t,e=!0)=>{V2.set(t,e)},_x=t=>typeof t=="object"&&t!==null,pa=new WeakMap,hg=new WeakSet,iH=(t=Object.is,e=(u,c)=>new Proxy(u,c),n=u=>_x(u)&&!hg.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,c,d=r)=>{const p=i.get(u);if((p==null?void 0:p[0])===c)return p[1];const m=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return qA(m,!0),i.set(u,[c,m]),Reflect.ownKeys(u).forEach(g=>{if(Object.getOwnPropertyDescriptor(m,g))return;const _=Reflect.get(u,g),x={value:_,enumerable:!0,configurable:!0};if(hg.has(_))qA(_,!1);else if(_ instanceof Promise)delete x.value,x.get=()=>d(_);else if(pa.has(_)){const[v,S]=pa.get(_);x.value=s(v,S(),d)}Object.defineProperty(m,g,x)}),m},o=new WeakMap,a=[1,1],l=u=>{if(!_x(u))throw new Error("object required");const c=o.get(u);if(c)return c;let d=a[0];const p=new Set,m=(C,P=++a[0])=>{d!==P&&(d=P,p.forEach(F=>F(C,P)))};let g=a[1];const _=(C=++a[1])=>(g!==C&&!p.size&&(g=C,v.forEach(([P])=>{const F=P[1](C);F>d&&(d=F)})),d),x=C=>(P,F)=>{const B=[...P];B[1]=[C,...B[1]],m(B,F)},v=new Map,S=(C,P)=>{if(p.size){const F=P[3](x(C));v.set(C,[P,F])}else v.set(C,[P])},w=C=>{var P;const F=v.get(C);F&&(v.delete(C),(P=F[1])==null||P.call(F))},M=C=>(p.add(C),p.size===1&&v.forEach(([F,B],W)=>{const G=F[3](x(W));v.set(W,[F,G])}),()=>{p.delete(C),p.size===0&&v.forEach(([F,B],W)=>{B&&(B(),v.set(W,[F]))})}),T=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),R=e(T,{deleteProperty(C,P){const F=Reflect.get(C,P);w(P);const B=Reflect.deleteProperty(C,P);return B&&m(["delete",[P],F]),B},set(C,P,F,B){const W=Reflect.has(C,P),G=Reflect.get(C,P,B);if(W&&(t(G,F)||o.has(F)&&t(G,o.get(F))))return!0;w(P),_x(F)&&(F=rH(F)||F);let q=F;if(F instanceof Promise)F.then(ee=>{F.status="fulfilled",F.value=ee,m(["resolve",[P],ee])}).catch(ee=>{F.status="rejected",F.reason=ee,m(["reject",[P],ee])});else{!pa.has(F)&&n(F)&&(q=l(F));const ee=!hg.has(q)&&pa.get(q);ee&&S(P,ee)}return Reflect.set(C,P,q,B),m(["set",[P],F,G]),!0}});o.set(u,R);const L=[T,_,s,M];return pa.set(R,L),Reflect.ownKeys(u).forEach(C=>{const P=Object.getOwnPropertyDescriptor(u,C);"value"in P&&(R[C]=u[C],delete P.value,delete P.writable),Object.defineProperty(T,C,P)}),R})=>[l,pa,hg,t,e,n,r,i,s,o,a],[sH]=iH();function oH(t={}){return sH(t)}function aH(t,e,n){const r=pa.get(t);let i;const s=[],o=r[3];let a=!1;const u=o(c=>{if(s.push(c),n){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function KA(t,e){const n=pa.get(t),[r,i,s]=n;return s(r,i(),e)}var BI={exports:{}},zI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=re;function lH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uH=typeof Object.is=="function"?Object.is:lH,cH=Mf.useState,fH=Mf.useEffect,hH=Mf.useLayoutEffect,dH=Mf.useDebugValue;function pH(t,e){var n=e(),r=cH({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return hH(function(){i.value=n,i.getSnapshot=e,Sx(i)&&s({inst:i})},[t,n,e]),fH(function(){return Sx(i)&&s({inst:i}),t(function(){Sx(i)&&s({inst:i})})},[t]),dH(n),n}function Sx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uH(t,n)}catch{return!0}}function mH(t,e){return e()}var gH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mH:pH;zI.useSyncExternalStore=Mf.useSyncExternalStore!==void 0?Mf.useSyncExternalStore:gH;BI.exports=zI;var vH=BI.exports;const yH=vp(vH),{use:ZA}=X,{useSyncExternalStore:xH}=yH,_H=new WeakMap;function Za(t,e){const n=e==null?void 0:e.sync,r=re.useRef(),i=re.useRef();let s=!0;const o=xH(re.useCallback(u=>{const c=aH(t,u,n);return u(),c},[t,n]),()=>{const u=KA(t,ZA);try{if(!s&&r.current&&i.current&&!FI(r.current,u,i.current,new WeakMap))return r.current}catch{}return u},()=>KA(t,ZA));s=!1;const a=new WeakMap;re.useEffect(()=>{r.current=o,i.current=a});const l=re.useMemo(()=>new WeakMap,[]);return kI(o,a,l,_H)}function SH(){Ii.darkMode=!Ii.darkMode}function wH(t){Ii.lightBG=t,Ii.darkBG=t}function bH(t){Ii.activeLink=t}const Ii=oH({darkMode:!0,toggleDarkMode:SH,setLightBG:wH,setActiveLink:bH,lightBG:"#7C3AED",darkBG:"#7C3AED",darkText:"text-white",activeLink:1});var Ji={},Cp={},MH=typeof jm=="object"&&jm&&jm.Object===Object&&jm,VI=MH,EH=VI,TH=typeof self=="object"&&self&&self.Object===Object&&self,AH=EH||TH||Function("return this")(),Js=AH,CH=Js,PH=CH.Symbol,Pp=PH,JA=Pp,HI=Object.prototype,RH=HI.hasOwnProperty,LH=HI.toString,Ih=JA?JA.toStringTag:void 0;function DH(t){var e=RH.call(t,Ih),n=t[Ih];try{t[Ih]=void 0;var r=!0}catch{}var i=LH.call(t);return r&&(e?t[Ih]=n:delete t[Ih]),i}var IH=DH,OH=Object.prototype,UH=OH.toString;function NH(t){return UH.call(t)}var kH=NH,QA=Pp,FH=IH,BH=kH,zH="[object Null]",VH="[object Undefined]",eC=QA?QA.toStringTag:void 0;function HH(t){return t==null?t===void 0?VH:zH:eC&&eC in Object(t)?FH(t):BH(t)}var vu=HH,GH=Array.isArray,As=GH;function WH(t){return t!=null&&typeof t=="object"}var zo=WH,jH=vu,$H=As,XH=zo,YH="[object String]";function qH(t){return typeof t=="string"||!$H(t)&&XH(t)&&jH(t)==YH}var KH=qH;function ZH(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var JH=ZH,QH=JH,eG=QH(),tG=eG;function nG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var rG=nG,iG=vu,sG=zo,oG="[object Arguments]";function aG(t){return sG(t)&&iG(t)==oG}var lG=aG,tC=lG,uG=zo,GI=Object.prototype,cG=GI.hasOwnProperty,fG=GI.propertyIsEnumerable,hG=tC(function(){return arguments}())?tC:function(t){return uG(t)&&cG.call(t,"callee")&&!fG.call(t,"callee")},WI=hG,yv={exports:{}};function dG(){return!1}var pG=dG;yv.exports;(function(t,e){var n=Js,r=pG,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(yv,yv.exports);var pb=yv.exports,mG=9007199254740991,gG=/^(?:0|[1-9]\d*)$/;function vG(t,e){var n=typeof t;return e=e??mG,!!e&&(n=="number"||n!="symbol"&&gG.test(t))&&t>-1&&t%1==0&&t<e}var jI=vG,yG=9007199254740991;function xG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yG}var mb=xG,_G=vu,SG=mb,wG=zo,bG="[object Arguments]",MG="[object Array]",EG="[object Boolean]",TG="[object Date]",AG="[object Error]",CG="[object Function]",PG="[object Map]",RG="[object Number]",LG="[object Object]",DG="[object RegExp]",IG="[object Set]",OG="[object String]",UG="[object WeakMap]",NG="[object ArrayBuffer]",kG="[object DataView]",FG="[object Float32Array]",BG="[object Float64Array]",zG="[object Int8Array]",VG="[object Int16Array]",HG="[object Int32Array]",GG="[object Uint8Array]",WG="[object Uint8ClampedArray]",jG="[object Uint16Array]",$G="[object Uint32Array]",an={};an[FG]=an[BG]=an[zG]=an[VG]=an[HG]=an[GG]=an[WG]=an[jG]=an[$G]=!0;an[bG]=an[MG]=an[NG]=an[EG]=an[kG]=an[TG]=an[AG]=an[CG]=an[PG]=an[RG]=an[LG]=an[DG]=an[IG]=an[OG]=an[UG]=!1;function XG(t){return wG(t)&&SG(t.length)&&!!an[_G(t)]}var YG=XG;function qG(t){return function(e){return t(e)}}var gb=qG,xv={exports:{}};xv.exports;(function(t,e){var n=VI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(xv,xv.exports);var vb=xv.exports,KG=YG,ZG=gb,nC=vb,rC=nC&&nC.isTypedArray,JG=rC?ZG(rC):KG,$I=JG,QG=rG,eW=WI,tW=As,nW=pb,rW=jI,iW=$I,sW=Object.prototype,oW=sW.hasOwnProperty;function aW(t,e){var n=tW(t),r=!n&&eW(t),i=!n&&!r&&nW(t),s=!n&&!r&&!i&&iW(t),o=n||r||i||s,a=o?QG(t.length,String):[],l=a.length;for(var u in t)(e||oW.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rW(u,l)))&&a.push(u);return a}var XI=aW,lW=Object.prototype;function uW(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lW;return t===n}var yb=uW;function cW(t,e){return function(n){return t(e(n))}}var YI=cW,fW=YI,hW=fW(Object.keys,Object),dW=hW,pW=yb,mW=dW,gW=Object.prototype,vW=gW.hasOwnProperty;function yW(t){if(!pW(t))return mW(t);var e=[];for(var n in Object(t))vW.call(t,n)&&n!="constructor"&&e.push(n);return e}var xW=yW;function _W(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uf=_W,SW=vu,wW=Uf,bW="[object AsyncFunction]",MW="[object Function]",EW="[object GeneratorFunction]",TW="[object Proxy]";function AW(t){if(!wW(t))return!1;var e=SW(t);return e==MW||e==EW||e==bW||e==TW}var qI=AW,CW=qI,PW=mb;function RW(t){return t!=null&&PW(t.length)&&!CW(t)}var oy=RW,LW=XI,DW=xW,IW=oy;function OW(t){return IW(t)?LW(t):DW(t)}var Rp=OW,UW=tG,NW=Rp;function kW(t,e){return t&&UW(t,e,NW)}var KI=kW;function FW(t){return t}var ZI=FW,BW=ZI;function zW(t){return typeof t=="function"?t:BW}var VW=zW,HW=KI,GW=VW;function WW(t,e){return t&&HW(t,GW(e))}var xb=WW,jW=YI,$W=jW(Object.getPrototypeOf,Object),_b=$W,XW=vu,YW=_b,qW=zo,KW="[object Object]",ZW=Function.prototype,JW=Object.prototype,JI=ZW.toString,QW=JW.hasOwnProperty,ej=JI.call(Object);function tj(t){if(!qW(t)||XW(t)!=KW)return!1;var e=YW(t);if(e===null)return!0;var n=QW.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&JI.call(n)==ej}var nj=tj;function rj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var QI=rj;function ij(){this.__data__=[],this.size=0}var sj=ij;function oj(t,e){return t===e||t!==t&&e!==e}var Sb=oj,aj=Sb;function lj(t,e){for(var n=t.length;n--;)if(aj(t[n][0],e))return n;return-1}var ay=lj,uj=ay,cj=Array.prototype,fj=cj.splice;function hj(t){var e=this.__data__,n=uj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fj.call(e,n,1),--this.size,!0}var dj=hj,pj=ay;function mj(t){var e=this.__data__,n=pj(e,t);return n<0?void 0:e[n][1]}var gj=mj,vj=ay;function yj(t){return vj(this.__data__,t)>-1}var xj=yj,_j=ay;function Sj(t,e){var n=this.__data__,r=_j(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var wj=Sj,bj=sj,Mj=dj,Ej=gj,Tj=xj,Aj=wj;function Nf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nf.prototype.clear=bj;Nf.prototype.delete=Mj;Nf.prototype.get=Ej;Nf.prototype.has=Tj;Nf.prototype.set=Aj;var ly=Nf,Cj=ly;function Pj(){this.__data__=new Cj,this.size=0}var Rj=Pj;function Lj(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Dj=Lj;function Ij(t){return this.__data__.get(t)}var Oj=Ij;function Uj(t){return this.__data__.has(t)}var Nj=Uj,kj=Js,Fj=kj["__core-js_shared__"],Bj=Fj,wx=Bj,iC=function(){var t=/[^.]+$/.exec(wx&&wx.keys&&wx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zj(t){return!!iC&&iC in t}var Vj=zj,Hj=Function.prototype,Gj=Hj.toString;function Wj(t){if(t!=null){try{return Gj.call(t)}catch{}try{return t+""}catch{}}return""}var eO=Wj,jj=qI,$j=Vj,Xj=Uf,Yj=eO,qj=/[\\^$.*+?()[\]{}|]/g,Kj=/^\[object .+?Constructor\]$/,Zj=Function.prototype,Jj=Object.prototype,Qj=Zj.toString,e$=Jj.hasOwnProperty,t$=RegExp("^"+Qj.call(e$).replace(qj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n$(t){if(!Xj(t)||$j(t))return!1;var e=jj(t)?t$:Kj;return e.test(Yj(t))}var r$=n$;function i$(t,e){return t==null?void 0:t[e]}var s$=i$,o$=r$,a$=s$;function l$(t,e){var n=a$(t,e);return o$(n)?n:void 0}var yu=l$,u$=yu,c$=Js,f$=u$(c$,"Map"),wb=f$,h$=yu,d$=h$(Object,"create"),uy=d$,sC=uy;function p$(){this.__data__=sC?sC(null):{},this.size=0}var m$=p$;function g$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var v$=g$,y$=uy,x$="__lodash_hash_undefined__",_$=Object.prototype,S$=_$.hasOwnProperty;function w$(t){var e=this.__data__;if(y$){var n=e[t];return n===x$?void 0:n}return S$.call(e,t)?e[t]:void 0}var b$=w$,M$=uy,E$=Object.prototype,T$=E$.hasOwnProperty;function A$(t){var e=this.__data__;return M$?e[t]!==void 0:T$.call(e,t)}var C$=A$,P$=uy,R$="__lodash_hash_undefined__";function L$(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=P$&&e===void 0?R$:e,this}var D$=L$,I$=m$,O$=v$,U$=b$,N$=C$,k$=D$;function kf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kf.prototype.clear=I$;kf.prototype.delete=O$;kf.prototype.get=U$;kf.prototype.has=N$;kf.prototype.set=k$;var F$=kf,oC=F$,B$=ly,z$=wb;function V$(){this.size=0,this.__data__={hash:new oC,map:new(z$||B$),string:new oC}}var H$=V$;function G$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var W$=G$,j$=W$;function $$(t,e){var n=t.__data__;return j$(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cy=$$,X$=cy;function Y$(t){var e=X$(this,t).delete(t);return this.size-=e?1:0,e}var q$=Y$,K$=cy;function Z$(t){return K$(this,t).get(t)}var J$=Z$,Q$=cy;function eX(t){return Q$(this,t).has(t)}var tX=eX,nX=cy;function rX(t,e){var n=nX(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var iX=rX,sX=H$,oX=q$,aX=J$,lX=tX,uX=iX;function Ff(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ff.prototype.clear=sX;Ff.prototype.delete=oX;Ff.prototype.get=aX;Ff.prototype.has=lX;Ff.prototype.set=uX;var bb=Ff,cX=ly,fX=wb,hX=bb,dX=200;function pX(t,e){var n=this.__data__;if(n instanceof cX){var r=n.__data__;if(!fX||r.length<dX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hX(r)}return n.set(t,e),this.size=n.size,this}var mX=pX,gX=ly,vX=Rj,yX=Dj,xX=Oj,_X=Nj,SX=mX;function Bf(t){var e=this.__data__=new gX(t);this.size=e.size}Bf.prototype.clear=vX;Bf.prototype.delete=yX;Bf.prototype.get=xX;Bf.prototype.has=_X;Bf.prototype.set=SX;var Mb=Bf,wX="__lodash_hash_undefined__";function bX(t){return this.__data__.set(t,wX),this}var MX=bX;function EX(t){return this.__data__.has(t)}var TX=EX,AX=bb,CX=MX,PX=TX;function _v(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new AX;++e<n;)this.add(t[e])}_v.prototype.add=_v.prototype.push=CX;_v.prototype.has=PX;var RX=_v;function LX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var DX=LX;function IX(t,e){return t.has(e)}var OX=IX,UX=RX,NX=DX,kX=OX,FX=1,BX=2;function zX(t,e,n,r,i,s){var o=n&FX,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,p=!0,m=n&BX?new UX:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],_=e[d];if(r)var x=o?r(_,g,d,e,t,s):r(g,_,d,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!NX(e,function(v,S){if(!kX(m,S)&&(g===v||i(g,v,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(g===_||i(g,_,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var tO=zX,VX=Js,HX=VX.Uint8Array,nO=HX;function GX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var WX=GX;function jX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $X=jX,aC=Pp,lC=nO,XX=Sb,YX=tO,qX=WX,KX=$X,ZX=1,JX=2,QX="[object Boolean]",eY="[object Date]",tY="[object Error]",nY="[object Map]",rY="[object Number]",iY="[object RegExp]",sY="[object Set]",oY="[object String]",aY="[object Symbol]",lY="[object ArrayBuffer]",uY="[object DataView]",uC=aC?aC.prototype:void 0,bx=uC?uC.valueOf:void 0;function cY(t,e,n,r,i,s,o){switch(n){case uY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lY:return!(t.byteLength!=e.byteLength||!s(new lC(t),new lC(e)));case QX:case eY:case rY:return XX(+t,+e);case tY:return t.name==e.name&&t.message==e.message;case iY:case oY:return t==e+"";case nY:var a=qX;case sY:var l=r&ZX;if(a||(a=KX),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=JX,o.set(t,e);var c=YX(a(t),a(e),r,i,s,o);return o.delete(t),c;case aY:if(bx)return bx.call(t)==bx.call(e)}return!1}var fY=cY;function hY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var rO=hY,dY=rO,pY=As;function mY(t,e,n){var r=e(t);return pY(t)?r:dY(r,n(t))}var iO=mY;function gY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var vY=gY;function yY(){return[]}var sO=yY,xY=vY,_Y=sO,SY=Object.prototype,wY=SY.propertyIsEnumerable,cC=Object.getOwnPropertySymbols,bY=cC?function(t){return t==null?[]:(t=Object(t),xY(cC(t),function(e){return wY.call(t,e)}))}:_Y,Eb=bY,MY=iO,EY=Eb,TY=Rp;function AY(t){return MY(t,TY,EY)}var oO=AY,fC=oO,CY=1,PY=Object.prototype,RY=PY.hasOwnProperty;function LY(t,e,n,r,i,s){var o=n&CY,a=fC(t),l=a.length,u=fC(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:RY.call(e,p)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var _=!0;s.set(t,e),s.set(e,t);for(var x=o;++d<l;){p=a[d];var v=t[p],S=e[p];if(r)var w=o?r(S,v,p,e,t,s):r(v,S,p,t,e,s);if(!(w===void 0?v===S||i(v,S,n,r,s):w)){_=!1;break}x||(x=p=="constructor")}if(_&&!x){var M=t.constructor,T=e.constructor;M!=T&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof T=="function"&&T instanceof T)&&(_=!1)}return s.delete(t),s.delete(e),_}var DY=LY,IY=yu,OY=Js,UY=IY(OY,"DataView"),NY=UY,kY=yu,FY=Js,BY=kY(FY,"Promise"),zY=BY,VY=yu,HY=Js,GY=VY(HY,"Set"),WY=GY,jY=yu,$Y=Js,XY=jY($Y,"WeakMap"),YY=XY,H2=NY,G2=wb,W2=zY,j2=WY,$2=YY,aO=vu,zf=eO,hC="[object Map]",qY="[object Object]",dC="[object Promise]",pC="[object Set]",mC="[object WeakMap]",gC="[object DataView]",KY=zf(H2),ZY=zf(G2),JY=zf(W2),QY=zf(j2),eq=zf($2),Il=aO;(H2&&Il(new H2(new ArrayBuffer(1)))!=gC||G2&&Il(new G2)!=hC||W2&&Il(W2.resolve())!=dC||j2&&Il(new j2)!=pC||$2&&Il(new $2)!=mC)&&(Il=function(t){var e=aO(t),n=e==qY?t.constructor:void 0,r=n?zf(n):"";if(r)switch(r){case KY:return gC;case ZY:return hC;case JY:return dC;case QY:return pC;case eq:return mC}return e});var fy=Il,Mx=Mb,tq=tO,nq=fY,rq=DY,vC=fy,yC=As,xC=pb,iq=$I,sq=1,_C="[object Arguments]",SC="[object Array]",dg="[object Object]",oq=Object.prototype,wC=oq.hasOwnProperty;function aq(t,e,n,r,i,s){var o=yC(t),a=yC(e),l=o?SC:vC(t),u=a?SC:vC(e);l=l==_C?dg:l,u=u==_C?dg:u;var c=l==dg,d=u==dg,p=l==u;if(p&&xC(t)){if(!xC(e))return!1;o=!0,c=!1}if(p&&!c)return s||(s=new Mx),o||iq(t)?tq(t,e,n,r,i,s):nq(t,e,l,n,r,i,s);if(!(n&sq)){var m=c&&wC.call(t,"__wrapped__"),g=d&&wC.call(e,"__wrapped__");if(m||g){var _=m?t.value():t,x=g?e.value():e;return s||(s=new Mx),i(_,x,n,r,s)}}return p?(s||(s=new Mx),rq(t,e,n,r,i,s)):!1}var lq=aq,uq=lq,bC=zo;function lO(t,e,n,r,i){return t===e?!0:t==null||e==null||!bC(t)&&!bC(e)?t!==t&&e!==e:uq(t,e,n,r,lO,i)}var uO=lO,cq=Mb,fq=uO,hq=1,dq=2;function pq(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new cq;if(r)var p=r(u,c,l,t,e,d);if(!(p===void 0?fq(c,u,hq|dq,r,d):p))return!1}}return!0}var mq=pq,gq=Uf;function vq(t){return t===t&&!gq(t)}var cO=vq,yq=cO,xq=Rp;function _q(t){for(var e=xq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,yq(i)]}return e}var Sq=_q;function wq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var fO=wq,bq=mq,Mq=Sq,Eq=fO;function Tq(t){var e=Mq(t);return e.length==1&&e[0][2]?Eq(e[0][0],e[0][1]):function(n){return n===t||bq(n,t,e)}}var Aq=Tq,Cq=vu,Pq=zo,Rq="[object Symbol]";function Lq(t){return typeof t=="symbol"||Pq(t)&&Cq(t)==Rq}var Tb=Lq,Dq=As,Iq=Tb,Oq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uq=/^\w*$/;function Nq(t,e){if(Dq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Iq(t)?!0:Uq.test(t)||!Oq.test(t)||e!=null&&t in Object(e)}var Ab=Nq,hO=bb,kq="Expected a function";function Cb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Cb.Cache||hO),n}Cb.Cache=hO;var Fq=Cb,Bq=Fq,zq=500;function Vq(t){var e=Bq(t,function(r){return n.size===zq&&n.clear(),r}),n=e.cache;return e}var Hq=Vq,Gq=Hq,Wq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jq=/\\(\\)?/g,$q=Gq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Wq,function(n,r,i,s){e.push(i?s.replace(jq,"$1"):r||n)}),e}),Xq=$q,MC=Pp,Yq=QI,qq=As,Kq=Tb,Zq=1/0,EC=MC?MC.prototype:void 0,TC=EC?EC.toString:void 0;function dO(t){if(typeof t=="string")return t;if(qq(t))return Yq(t,dO)+"";if(Kq(t))return TC?TC.call(t):"";var e=t+"";return e=="0"&&1/t==-Zq?"-0":e}var Jq=dO,Qq=Jq;function eK(t){return t==null?"":Qq(t)}var tK=eK,nK=As,rK=Ab,iK=Xq,sK=tK;function oK(t,e){return nK(t)?t:rK(t,e)?[t]:iK(sK(t))}var pO=oK,aK=Tb,lK=1/0;function uK(t){if(typeof t=="string"||aK(t))return t;var e=t+"";return e=="0"&&1/t==-lK?"-0":e}var hy=uK,cK=pO,fK=hy;function hK(t,e){e=cK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[fK(e[n++])];return n&&n==r?t:void 0}var mO=hK,dK=mO;function pK(t,e,n){var r=t==null?void 0:dK(t,e);return r===void 0?n:r}var mK=pK;function gK(t,e){return t!=null&&e in Object(t)}var vK=gK,yK=pO,xK=WI,_K=As,SK=jI,wK=mb,bK=hy;function MK(t,e,n){e=yK(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=bK(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&wK(i)&&SK(o,i)&&(_K(t)||xK(t)))}var EK=MK,TK=vK,AK=EK;function CK(t,e){return t!=null&&AK(t,e,TK)}var PK=CK,RK=uO,LK=mK,DK=PK,IK=Ab,OK=cO,UK=fO,NK=hy,kK=1,FK=2;function BK(t,e){return IK(t)&&OK(e)?UK(NK(t),e):function(n){var r=LK(n,t);return r===void 0&&r===e?DK(n,t):RK(e,r,kK|FK)}}var zK=BK;function VK(t){return function(e){return e==null?void 0:e[t]}}var HK=VK,GK=mO;function WK(t){return function(e){return GK(e,t)}}var jK=WK,$K=HK,XK=jK,YK=Ab,qK=hy;function KK(t){return YK(t)?$K(qK(t)):XK(t)}var ZK=KK,JK=Aq,QK=zK,eZ=ZI,tZ=As,nZ=ZK;function rZ(t){return typeof t=="function"?t:t==null?eZ:typeof t=="object"?tZ(t)?QK(t[0],t[1]):JK(t):nZ(t)}var iZ=rZ,sZ=oy;function oZ(t,e){return function(n,r){if(n==null)return n;if(!sZ(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var aZ=oZ,lZ=KI,uZ=aZ,cZ=uZ(lZ),fZ=cZ,hZ=fZ,dZ=oy;function pZ(t,e){var n=-1,r=dZ(t)?Array(t.length):[];return hZ(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var mZ=pZ,gZ=QI,vZ=iZ,yZ=mZ,xZ=As;function _Z(t,e){var n=xZ(t)?gZ:yZ;return n(t,vZ(e))}var SZ=_Z;Object.defineProperty(Cp,"__esModule",{value:!0});Cp.flattenNames=void 0;var wZ=KH,bZ=dy(wZ),MZ=xb,EZ=dy(MZ),TZ=nj,AZ=dy(TZ),CZ=SZ,PZ=dy(CZ);function dy(t){return t&&t.__esModule?t:{default:t}}var RZ=Cp.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,PZ.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,AZ.default)(r)?(0,EZ.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,bZ.default)(r)&&n.push(r)}),n};Cp.default=RZ;var Lp={};function LZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var DZ=LZ,IZ=yu,OZ=function(){try{var t=IZ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UZ=OZ,AC=UZ;function NZ(t,e,n){e=="__proto__"&&AC?AC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var gO=NZ,kZ=gO,FZ=Sb,BZ=Object.prototype,zZ=BZ.hasOwnProperty;function VZ(t,e,n){var r=t[e];(!(zZ.call(t,e)&&FZ(r,n))||n===void 0&&!(e in t))&&kZ(t,e,n)}var vO=VZ,HZ=vO,GZ=gO;function WZ(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?GZ(n,a,l):HZ(n,a,l)}return n}var py=WZ,jZ=py,$Z=Rp;function XZ(t,e){return t&&jZ(e,$Z(e),t)}var YZ=XZ;function qZ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var KZ=qZ,ZZ=Uf,JZ=yb,QZ=KZ,eJ=Object.prototype,tJ=eJ.hasOwnProperty;function nJ(t){if(!ZZ(t))return QZ(t);var e=JZ(t),n=[];for(var r in t)r=="constructor"&&(e||!tJ.call(t,r))||n.push(r);return n}var rJ=nJ,iJ=XI,sJ=rJ,oJ=oy;function aJ(t){return oJ(t)?iJ(t,!0):sJ(t)}var Pb=aJ,lJ=py,uJ=Pb;function cJ(t,e){return t&&lJ(e,uJ(e),t)}var fJ=cJ,Sv={exports:{}};Sv.exports;(function(t,e){var n=Js,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,p=a?a(d):new u.constructor(d);return u.copy(p),p}t.exports=l})(Sv,Sv.exports);var hJ=Sv.exports;function dJ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var pJ=dJ,mJ=py,gJ=Eb;function vJ(t,e){return mJ(t,gJ(t),e)}var yJ=vJ,xJ=rO,_J=_b,SJ=Eb,wJ=sO,bJ=Object.getOwnPropertySymbols,MJ=bJ?function(t){for(var e=[];t;)xJ(e,SJ(t)),t=_J(t);return e}:wJ,yO=MJ,EJ=py,TJ=yO;function AJ(t,e){return EJ(t,TJ(t),e)}var CJ=AJ,PJ=iO,RJ=yO,LJ=Pb;function DJ(t){return PJ(t,LJ,RJ)}var IJ=DJ,OJ=Object.prototype,UJ=OJ.hasOwnProperty;function NJ(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&UJ.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var kJ=NJ,CC=nO;function FJ(t){var e=new t.constructor(t.byteLength);return new CC(e).set(new CC(t)),e}var Rb=FJ,BJ=Rb;function zJ(t,e){var n=e?BJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var VJ=zJ,HJ=/\w*$/;function GJ(t){var e=new t.constructor(t.source,HJ.exec(t));return e.lastIndex=t.lastIndex,e}var WJ=GJ,PC=Pp,RC=PC?PC.prototype:void 0,LC=RC?RC.valueOf:void 0;function jJ(t){return LC?Object(LC.call(t)):{}}var $J=jJ,XJ=Rb;function YJ(t,e){var n=e?XJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var qJ=YJ,KJ=Rb,ZJ=VJ,JJ=WJ,QJ=$J,eQ=qJ,tQ="[object Boolean]",nQ="[object Date]",rQ="[object Map]",iQ="[object Number]",sQ="[object RegExp]",oQ="[object Set]",aQ="[object String]",lQ="[object Symbol]",uQ="[object ArrayBuffer]",cQ="[object DataView]",fQ="[object Float32Array]",hQ="[object Float64Array]",dQ="[object Int8Array]",pQ="[object Int16Array]",mQ="[object Int32Array]",gQ="[object Uint8Array]",vQ="[object Uint8ClampedArray]",yQ="[object Uint16Array]",xQ="[object Uint32Array]";function _Q(t,e,n){var r=t.constructor;switch(e){case uQ:return KJ(t);case tQ:case nQ:return new r(+t);case cQ:return ZJ(t,n);case fQ:case hQ:case dQ:case pQ:case mQ:case gQ:case vQ:case yQ:case xQ:return eQ(t,n);case rQ:return new r;case iQ:case aQ:return new r(t);case sQ:return JJ(t);case oQ:return new r;case lQ:return QJ(t)}}var SQ=_Q,wQ=Uf,DC=Object.create,bQ=function(){function t(){}return function(e){if(!wQ(e))return{};if(DC)return DC(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),MQ=bQ,EQ=MQ,TQ=_b,AQ=yb;function CQ(t){return typeof t.constructor=="function"&&!AQ(t)?EQ(TQ(t)):{}}var PQ=CQ,RQ=fy,LQ=zo,DQ="[object Map]";function IQ(t){return LQ(t)&&RQ(t)==DQ}var OQ=IQ,UQ=OQ,NQ=gb,IC=vb,OC=IC&&IC.isMap,kQ=OC?NQ(OC):UQ,FQ=kQ,BQ=fy,zQ=zo,VQ="[object Set]";function HQ(t){return zQ(t)&&BQ(t)==VQ}var GQ=HQ,WQ=GQ,jQ=gb,UC=vb,NC=UC&&UC.isSet,$Q=NC?jQ(NC):WQ,XQ=$Q,YQ=Mb,qQ=DZ,KQ=vO,ZQ=YZ,JQ=fJ,QQ=hJ,eee=pJ,tee=yJ,nee=CJ,ree=oO,iee=IJ,see=fy,oee=kJ,aee=SQ,lee=PQ,uee=As,cee=pb,fee=FQ,hee=Uf,dee=XQ,pee=Rp,mee=Pb,gee=1,vee=2,yee=4,xO="[object Arguments]",xee="[object Array]",_ee="[object Boolean]",See="[object Date]",wee="[object Error]",_O="[object Function]",bee="[object GeneratorFunction]",Mee="[object Map]",Eee="[object Number]",SO="[object Object]",Tee="[object RegExp]",Aee="[object Set]",Cee="[object String]",Pee="[object Symbol]",Ree="[object WeakMap]",Lee="[object ArrayBuffer]",Dee="[object DataView]",Iee="[object Float32Array]",Oee="[object Float64Array]",Uee="[object Int8Array]",Nee="[object Int16Array]",kee="[object Int32Array]",Fee="[object Uint8Array]",Bee="[object Uint8ClampedArray]",zee="[object Uint16Array]",Vee="[object Uint32Array]",rn={};rn[xO]=rn[xee]=rn[Lee]=rn[Dee]=rn[_ee]=rn[See]=rn[Iee]=rn[Oee]=rn[Uee]=rn[Nee]=rn[kee]=rn[Mee]=rn[Eee]=rn[SO]=rn[Tee]=rn[Aee]=rn[Cee]=rn[Pee]=rn[Fee]=rn[Bee]=rn[zee]=rn[Vee]=!0;rn[wee]=rn[_O]=rn[Ree]=!1;function A0(t,e,n,r,i,s){var o,a=e&gee,l=e&vee,u=e&yee;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!hee(t))return t;var c=uee(t);if(c){if(o=oee(t),!a)return eee(t,o)}else{var d=see(t),p=d==_O||d==bee;if(cee(t))return QQ(t,a);if(d==SO||d==xO||p&&!i){if(o=l||p?{}:lee(t),!a)return l?nee(t,JQ(o,t)):tee(t,ZQ(o,t))}else{if(!rn[d])return i?t:{};o=aee(t,d,a)}}s||(s=new YQ);var m=s.get(t);if(m)return m;s.set(t,o),dee(t)?t.forEach(function(x){o.add(A0(x,e,n,x,t,s))}):fee(t)&&t.forEach(function(x,v){o.set(v,A0(x,e,n,v,t,s))});var g=u?l?iee:ree:l?mee:pee,_=c?void 0:g(t);return qQ(_||t,function(x,v){_&&(v=x,x=t[v]),KQ(o,v,A0(x,e,n,v,t,s))}),o}var Hee=A0,Gee=Hee,Wee=1,jee=4;function $ee(t){return Gee(t,Wee|jee)}var Xee=$ee;Object.defineProperty(Lp,"__esModule",{value:!0});Lp.mergeClasses=void 0;var Yee=xb,qee=wO(Yee),Kee=Xee,Zee=wO(Kee),Jee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function wO(t){return t&&t.__esModule?t:{default:t}}var Qee=Lp.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Zee.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,qee.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=Jee({},r[a],s[a])}),i}),r};Lp.default=Qee;var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.autoprefix=void 0;var ete=xb,kC=nte(ete),tte=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function nte(t){return t&&t.__esModule?t:{default:t}}var rte={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},ite=Dp.autoprefix=function(e){var n={};return(0,kC.default)(e,function(r,i){var s={};(0,kC.default)(r,function(o,a){var l=rte[a];l?s=tte({},s,l(o)):s[a]=o}),n[i]=s}),n};Dp.default=ite;var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.hover=void 0;var ste=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ote=re,Ex=ate(ote);function ate(t){return t&&t.__esModule?t:{default:t}}function lte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ute(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cte=Ip.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ute(i,r);function i(){var s,o,a,l;lte(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(o=(a=FC(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Ex.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Ex.default.createElement(e,ste({},a.props,a.state)))},o),FC(a,l)}return i}(Ex.default.Component)};Ip.default=cte;var Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.active=void 0;var fte=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hte=re,Tx=dte(hte);function dte(t){return t&&t.__esModule?t:{default:t}}function pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gte=Op.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){mte(i,r);function i(){var s,o,a,l;pte(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(o=(a=BC(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Tx.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Tx.default.createElement(e,fte({},a.props,a.state)))},o),BC(a,l)}return i}(Tx.default.Component)};Op.default=gte;var Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});var vte=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};Lb.default=vte;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ReactCSS=Ji.loop=Ji.handleActive=Db=Ji.handleHover=Ji.hover=void 0;var yte=Cp,xte=Vf(yte),_te=Lp,Ste=Vf(_te),wte=Dp,bte=Vf(wte),Mte=Ip,bO=Vf(Mte),Ete=Op,Tte=Vf(Ete),Ate=Lb,Cte=Vf(Ate);function Vf(t){return t&&t.__esModule?t:{default:t}}Ji.hover=bO.default;var Db=Ji.handleHover=bO.default;Ji.handleActive=Tte.default;Ji.loop=Cte.default;var Pte=Ji.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,xte.default)(r),o=(0,Ste.default)(e,s);return(0,bte.default)(o)},bt=Ji.default=Pte,Rte=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),d=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(d<0?p=0:d>a?p=1:p=Math.round(d*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(c<0?m=0:c>o?m=1:m=Math.round(c*100/o)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},Ax={},Lte=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Dte=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(Ax[s])return Ax[s];var o=Lte(e,n,r,i);return Ax[s]=o,o},zC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hf=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=bt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Dte(n,r,i,s.canvas)+") center left"}}});return re.isValidElement(l)?X.cloneElement(l,zC({},l.props,{style:zC({},l.props.style,u.grid)})):X.createElement("div",{style:u.grid})};Hf.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Ite=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ote=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Ute(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ib=function(t){Nte(e,t);function e(){var n,r,i,s;Ute(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=VC(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Rte(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),VC(i,s)}return Ote(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=bt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Ite({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return X.createElement("div",{style:s.alpha},X.createElement("div",{style:s.checkboard},X.createElement(Hf,{renderers:this.props.renderers})),X.createElement("div",{style:s.gradient}),X.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},X.createElement("div",{style:s.pointer},this.props.pointer?X.createElement(this.props.pointer,this.props):X.createElement("div",{style:s.slider}))))}}]),e}(re.PureComponent||re.Component),kte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Fte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hte=1,MO=38,Gte=40,Wte=[MO,Gte],jte=function(e){return Wte.indexOf(e)>-1},$te=function(e){return Number(String(e).replace(/%/g,""))},Xte=1,Bt=function(t){Vte(e,t);function e(n){Bte(this,e);var r=zte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=$te(i.target.value);if(!isNaN(s)&&jte(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===MO?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Xte++,r}return kte(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Fte({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Hte}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=bt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return X.createElement("div",{style:i.wrap},X.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?X.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(re.PureComponent||re.Component),Yte=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(c<0)d=359;else if(c>o)d=0;else{var p=-(c*100/o)+100;d=360*p/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(u<0)m=0;else if(u>s)m=359;else{var g=u*100/s;m=360*g/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},qte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gf=function(t){Zte(e,t);function e(){var n,r,i,s;Kte(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=HC(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Yte(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),HC(i,s)}return qte(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=bt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return X.createElement("div",{style:o.hue},X.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},X.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),X.createElement("div",{style:o.pointer},this.props.pointer?X.createElement(this.props.pointer,this.props):X.createElement("div",{style:o.slider}))))}}]),e}(re.PureComponent||re.Component),EO={exports:{}},Jte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qte=Jte,ene=Qte;function TO(){}function AO(){}AO.resetWarningCache=TO;var tne=function(){function t(r,i,s,o,a,l){if(l!==ene){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AO,resetWarningCache:TO};return n.PropTypes=n,n};EO.exports=tne();var nne=EO.exports;const Ze=vp(nne);function rne(){this.__data__=[],this.size=0}function Up(t,e){return t===e||t!==t&&e!==e}function my(t,e){for(var n=t.length;n--;)if(Up(t[n][0],e))return n;return-1}var ine=Array.prototype,sne=ine.splice;function one(t){var e=this.__data__,n=my(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():sne.call(e,n,1),--this.size,!0}function ane(t){var e=this.__data__,n=my(e,t);return n<0?void 0:e[n][1]}function lne(t){return my(this.__data__,t)>-1}function une(t,e){var n=this.__data__,r=my(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Vo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vo.prototype.clear=rne;Vo.prototype.delete=one;Vo.prototype.get=ane;Vo.prototype.has=lne;Vo.prototype.set=une;function cne(){this.__data__=new Vo,this.size=0}function fne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function hne(t){return this.__data__.get(t)}function dne(t){return this.__data__.has(t)}var pne=typeof global=="object"&&global&&global.Object===Object&&global;const CO=pne;var mne=typeof self=="object"&&self&&self.Object===Object&&self,gne=CO||mne||Function("return this")();const Cs=gne;var vne=Cs.Symbol;const Va=vne;var PO=Object.prototype,yne=PO.hasOwnProperty,xne=PO.toString,Oh=Va?Va.toStringTag:void 0;function _ne(t){var e=yne.call(t,Oh),n=t[Oh];try{t[Oh]=void 0;var r=!0}catch{}var i=xne.call(t);return r&&(e?t[Oh]=n:delete t[Oh]),i}var Sne=Object.prototype,wne=Sne.toString;function bne(t){return wne.call(t)}var Mne="[object Null]",Ene="[object Undefined]",GC=Va?Va.toStringTag:void 0;function xu(t){return t==null?t===void 0?Ene:Mne:GC&&GC in Object(t)?_ne(t):bne(t)}function rs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tne="[object AsyncFunction]",Ane="[object Function]",Cne="[object GeneratorFunction]",Pne="[object Proxy]";function Ob(t){if(!rs(t))return!1;var e=xu(t);return e==Ane||e==Cne||e==Tne||e==Pne}var Rne=Cs["__core-js_shared__"];const Cx=Rne;var WC=function(){var t=/[^.]+$/.exec(Cx&&Cx.keys&&Cx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Lne(t){return!!WC&&WC in t}var Dne=Function.prototype,Ine=Dne.toString;function _u(t){if(t!=null){try{return Ine.call(t)}catch{}try{return t+""}catch{}}return""}var One=/[\\^$.*+?()[\]{}|]/g,Une=/^\[object .+?Constructor\]$/,Nne=Function.prototype,kne=Object.prototype,Fne=Nne.toString,Bne=kne.hasOwnProperty,zne=RegExp("^"+Fne.call(Bne).replace(One,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vne(t){if(!rs(t)||Lne(t))return!1;var e=Ob(t)?zne:Une;return e.test(_u(t))}function Hne(t,e){return t==null?void 0:t[e]}function Su(t,e){var n=Hne(t,e);return Vne(n)?n:void 0}var Gne=Su(Cs,"Map");const Zd=Gne;var Wne=Su(Object,"create");const Jd=Wne;function jne(){this.__data__=Jd?Jd(null):{},this.size=0}function $ne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Xne="__lodash_hash_undefined__",Yne=Object.prototype,qne=Yne.hasOwnProperty;function Kne(t){var e=this.__data__;if(Jd){var n=e[t];return n===Xne?void 0:n}return qne.call(e,t)?e[t]:void 0}var Zne=Object.prototype,Jne=Zne.hasOwnProperty;function Qne(t){var e=this.__data__;return Jd?e[t]!==void 0:Jne.call(e,t)}var ere="__lodash_hash_undefined__";function tre(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Jd&&e===void 0?ere:e,this}function ou(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ou.prototype.clear=jne;ou.prototype.delete=$ne;ou.prototype.get=Kne;ou.prototype.has=Qne;ou.prototype.set=tre;function nre(){this.size=0,this.__data__={hash:new ou,map:new(Zd||Vo),string:new ou}}function rre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gy(t,e){var n=t.__data__;return rre(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ire(t){var e=gy(this,t).delete(t);return this.size-=e?1:0,e}function sre(t){return gy(this,t).get(t)}function ore(t){return gy(this,t).has(t)}function are(t,e){var n=gy(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ho(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ho.prototype.clear=nre;Ho.prototype.delete=ire;Ho.prototype.get=sre;Ho.prototype.has=ore;Ho.prototype.set=are;var lre=200;function ure(t,e){var n=this.__data__;if(n instanceof Vo){var r=n.__data__;if(!Zd||r.length<lre-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ho(r)}return n.set(t,e),this.size=n.size,this}function Ys(t){var e=this.__data__=new Vo(t);this.size=e.size}Ys.prototype.clear=cne;Ys.prototype.delete=fne;Ys.prototype.get=hne;Ys.prototype.has=dne;Ys.prototype.set=ure;var cre=function(){try{var t=Su(Object,"defineProperty");return t({},"",{}),t}catch{}}();const wv=cre;function Ub(t,e,n){e=="__proto__"&&wv?wv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function X2(t,e,n){(n!==void 0&&!Up(t[e],n)||n===void 0&&!(e in t))&&Ub(t,e,n)}function fre(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var hre=fre();const RO=hre;var LO=typeof Ai=="object"&&Ai&&!Ai.nodeType&&Ai,jC=LO&&typeof Ci=="object"&&Ci&&!Ci.nodeType&&Ci,dre=jC&&jC.exports===LO,$C=dre?Cs.Buffer:void 0,XC=$C?$C.allocUnsafe:void 0;function pre(t,e){if(e)return t.slice();var n=t.length,r=XC?XC(n):new t.constructor(n);return t.copy(r),r}var mre=Cs.Uint8Array;const bv=mre;function gre(t){var e=new t.constructor(t.byteLength);return new bv(e).set(new bv(t)),e}function vre(t,e){var n=e?gre(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function yre(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var YC=Object.create,xre=function(){function t(){}return function(e){if(!rs(e))return{};if(YC)return YC(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const _re=xre;function DO(t,e){return function(n){return t(e(n))}}var Sre=DO(Object.getPrototypeOf,Object);const IO=Sre;var wre=Object.prototype;function Nb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wre;return t===n}function bre(t){return typeof t.constructor=="function"&&!Nb(t)?_re(IO(t)):{}}function Ha(t){return t!=null&&typeof t=="object"}var Mre="[object Arguments]";function qC(t){return Ha(t)&&xu(t)==Mre}var OO=Object.prototype,Ere=OO.hasOwnProperty,Tre=OO.propertyIsEnumerable,Are=qC(function(){return arguments}())?qC:function(t){return Ha(t)&&Ere.call(t,"callee")&&!Tre.call(t,"callee")};const Mv=Are;var Cre=Array.isArray;const Oi=Cre;var Pre=9007199254740991;function kb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Pre}function Wf(t){return t!=null&&kb(t.length)&&!Ob(t)}function Rre(t){return Ha(t)&&Wf(t)}function Lre(){return!1}var UO=typeof Ai=="object"&&Ai&&!Ai.nodeType&&Ai,KC=UO&&typeof Ci=="object"&&Ci&&!Ci.nodeType&&Ci,Dre=KC&&KC.exports===UO,ZC=Dre?Cs.Buffer:void 0,Ire=ZC?ZC.isBuffer:void 0,Ore=Ire||Lre;const Ev=Ore;var Ure="[object Object]",Nre=Function.prototype,kre=Object.prototype,NO=Nre.toString,Fre=kre.hasOwnProperty,Bre=NO.call(Object);function zre(t){if(!Ha(t)||xu(t)!=Ure)return!1;var e=IO(t);if(e===null)return!0;var n=Fre.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&NO.call(n)==Bre}var Vre="[object Arguments]",Hre="[object Array]",Gre="[object Boolean]",Wre="[object Date]",jre="[object Error]",$re="[object Function]",Xre="[object Map]",Yre="[object Number]",qre="[object Object]",Kre="[object RegExp]",Zre="[object Set]",Jre="[object String]",Qre="[object WeakMap]",eie="[object ArrayBuffer]",tie="[object DataView]",nie="[object Float32Array]",rie="[object Float64Array]",iie="[object Int8Array]",sie="[object Int16Array]",oie="[object Int32Array]",aie="[object Uint8Array]",lie="[object Uint8ClampedArray]",uie="[object Uint16Array]",cie="[object Uint32Array]",ln={};ln[nie]=ln[rie]=ln[iie]=ln[sie]=ln[oie]=ln[aie]=ln[lie]=ln[uie]=ln[cie]=!0;ln[Vre]=ln[Hre]=ln[eie]=ln[Gre]=ln[tie]=ln[Wre]=ln[jre]=ln[$re]=ln[Xre]=ln[Yre]=ln[qre]=ln[Kre]=ln[Zre]=ln[Jre]=ln[Qre]=!1;function fie(t){return Ha(t)&&kb(t.length)&&!!ln[xu(t)]}function hie(t){return function(e){return t(e)}}var kO=typeof Ai=="object"&&Ai&&!Ai.nodeType&&Ai,xd=kO&&typeof Ci=="object"&&Ci&&!Ci.nodeType&&Ci,die=xd&&xd.exports===kO,Px=die&&CO.process,pie=function(){try{var t=xd&&xd.require&&xd.require("util").types;return t||Px&&Px.binding&&Px.binding("util")}catch{}}();const JC=pie;var QC=JC&&JC.isTypedArray,mie=QC?hie(QC):fie;const Fb=mie;function Y2(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var gie=Object.prototype,vie=gie.hasOwnProperty;function yie(t,e,n){var r=t[e];(!(vie.call(t,e)&&Up(r,n))||n===void 0&&!(e in t))&&Ub(t,e,n)}function xie(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Ub(n,a,l):yie(n,a,l)}return n}function _ie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Sie=9007199254740991,wie=/^(?:0|[1-9]\d*)$/;function Bb(t,e){var n=typeof t;return e=e??Sie,!!e&&(n=="number"||n!="symbol"&&wie.test(t))&&t>-1&&t%1==0&&t<e}var bie=Object.prototype,Mie=bie.hasOwnProperty;function FO(t,e){var n=Oi(t),r=!n&&Mv(t),i=!n&&!r&&Ev(t),s=!n&&!r&&!i&&Fb(t),o=n||r||i||s,a=o?_ie(t.length,String):[],l=a.length;for(var u in t)(e||Mie.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Bb(u,l)))&&a.push(u);return a}function Eie(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Tie=Object.prototype,Aie=Tie.hasOwnProperty;function Cie(t){if(!rs(t))return Eie(t);var e=Nb(t),n=[];for(var r in t)r=="constructor"&&(e||!Aie.call(t,r))||n.push(r);return n}function BO(t){return Wf(t)?FO(t,!0):Cie(t)}function Pie(t){return xie(t,BO(t))}function Rie(t,e,n,r,i,s,o){var a=Y2(t,n),l=Y2(e,n),u=o.get(l);if(u){X2(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,d=c===void 0;if(d){var p=Oi(l),m=!p&&Ev(l),g=!p&&!m&&Fb(l);c=l,p||m||g?Oi(a)?c=a:Rre(a)?c=yre(a):m?(d=!1,c=pre(l,!0)):g?(d=!1,c=vre(l,!0)):c=[]:zre(l)||Mv(l)?(c=a,Mv(a)?c=Pie(a):(!rs(a)||Ob(a))&&(c=bre(l))):d=!1}d&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),X2(t,n,c)}function zO(t,e,n,r,i){t!==e&&RO(e,function(s,o){if(i||(i=new Ys),rs(s))Rie(t,e,o,n,zO,r,i);else{var a=r?r(Y2(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),X2(t,o,a)}},BO)}function vy(t){return t}function Lie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var eP=Math.max;function Die(t,e,n){return e=eP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=eP(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Lie(t,this,a)}}function Iie(t){return function(){return t}}var Oie=wv?function(t,e){return wv(t,"toString",{configurable:!0,enumerable:!1,value:Iie(e),writable:!0})}:vy;const Uie=Oie;var Nie=800,kie=16,Fie=Date.now;function Bie(t){var e=0,n=0;return function(){var r=Fie(),i=kie-(r-n);if(n=r,i>0){if(++e>=Nie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zie=Bie(Uie);const Vie=zie;function Hie(t,e){return Vie(Die(t,e,vy),t+"")}function Gie(t,e,n){if(!rs(n))return!1;var r=typeof e;return(r=="number"?Wf(n)&&Bb(e,n.length):r=="string"&&e in n)?Up(n[e],t):!1}function Wie(t){return Hie(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Gie(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var jie=Wie(function(t,e,n){zO(t,e,n)});const ui=jie;var Np=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=bt(ui({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return X.createElement("div",{style:l.wrap},X.createElement("div",{style:l.bg}),X.createElement("div",{style:l.content},s))};Np.propTypes={background:Ze.string,zDepth:Ze.oneOf([0,1,2,3,4,5]),radius:Ze.number,styles:Ze.object};Np.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var $ie=function(){return Cs.Date.now()};const Rx=$ie;var Xie=/\s/;function Yie(t){for(var e=t.length;e--&&Xie.test(t.charAt(e)););return e}var qie=/^\s+/;function Kie(t){return t&&t.slice(0,Yie(t)+1).replace(qie,"")}var Zie="[object Symbol]";function yy(t){return typeof t=="symbol"||Ha(t)&&xu(t)==Zie}var tP=0/0,Jie=/^[-+]0x[0-9a-f]+$/i,Qie=/^0b[01]+$/i,ese=/^0o[0-7]+$/i,tse=parseInt;function nP(t){if(typeof t=="number")return t;if(yy(t))return tP;if(rs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Kie(t);var n=Qie.test(t);return n||ese.test(t)?tse(t.slice(2),n?2:8):Jie.test(t)?tP:+t}var nse="Expected a function",rse=Math.max,ise=Math.min;function VO(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(nse);e=nP(e)||0,rs(n)&&(c=!!n.leading,d="maxWait"in n,s=d?rse(nP(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(A){var R=r,L=i;return r=i=void 0,u=A,o=t.apply(L,R),o}function g(A){return u=A,a=setTimeout(v,e),c?m(A):o}function _(A){var R=A-l,L=A-u,C=e-R;return d?ise(C,s-L):C}function x(A){var R=A-l,L=A-u;return l===void 0||R>=e||R<0||d&&L>=s}function v(){var A=Rx();if(x(A))return S(A);a=setTimeout(v,_(A))}function S(A){return a=void 0,p&&r?m(A):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function M(){return a===void 0?o:S(Rx())}function T(){var A=Rx(),R=x(A);if(r=arguments,i=this,l=A,R){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,e),m(l)}return a===void 0&&(a=setTimeout(v,e)),o}return T.cancel=w,T.flush=M,T}var sse="Expected a function";function ose(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sse);return rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),VO(t,e,{leading:r,maxWait:e,trailing:i})}var ase=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var d=u/s,p=1-c/o;return{h:n.h,s:d,v:p,a:n.a,source:"hsv"}},lse=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function use(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cse(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xy=function(t){fse(e,t);function e(n){use(this,e);var r=cse(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,ase(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=ose(function(i,s,o){i(s,o)},50),r}return lse(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=bt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return X.createElement("div",{style:c.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},X.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),X.createElement("div",{style:c.white,className:"saturation-white"},X.createElement("div",{style:c.black,className:"saturation-black"}),X.createElement("div",{style:c.pointer},this.props.pointer?X.createElement(this.props.pointer,this.props):X.createElement("div",{style:c.circle}))))}}]),e}(re.PureComponent||re.Component);function hse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var dse=DO(Object.keys,Object);const pse=dse;var mse=Object.prototype,gse=mse.hasOwnProperty;function vse(t){if(!Nb(t))return pse(t);var e=[];for(var n in Object(t))gse.call(t,n)&&n!="constructor"&&e.push(n);return e}function zb(t){return Wf(t)?FO(t):vse(t)}function yse(t,e){return t&&RO(t,e,zb)}function xse(t,e){return function(n,r){if(n==null)return n;if(!Wf(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var _se=xse(yse);const HO=_se;function Sse(t){return typeof t=="function"?t:vy}function wse(t,e){var n=Oi(t)?hse:HO;return n(t,Sse(e))}function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}var bse=/^\s+/,Mse=/\s+$/;function at(t,e){if(t=t||"",e=e||{},t instanceof at)return t;if(!(this instanceof at))return new at(t,e);var n=Ese(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}at.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=GO(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=iP(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=iP(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=rP(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=rP(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return sP(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Pse(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(pn(this._r,255)*100)+"%",g:Math.round(pn(this._g,255)*100)+"%",b:Math.round(pn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(pn(this._r,255)*100)+"%, "+Math.round(pn(this._g,255)*100)+"%, "+Math.round(pn(this._b,255)*100)+"%)":"rgba("+Math.round(pn(this._r,255)*100)+"%, "+Math.round(pn(this._g,255)*100)+"%, "+Math.round(pn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Vse[sP(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+oP(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=at(e);r="#"+oP(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return at(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Ise,arguments)},brighten:function(){return this._applyModification(Ose,arguments)},darken:function(){return this._applyModification(Use,arguments)},desaturate:function(){return this._applyModification(Rse,arguments)},saturate:function(){return this._applyModification(Lse,arguments)},greyscale:function(){return this._applyModification(Dse,arguments)},spin:function(){return this._applyModification(Nse,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Bse,arguments)},complement:function(){return this._applyCombination(kse,arguments)},monochromatic:function(){return this._applyCombination(zse,arguments)},splitcomplement:function(){return this._applyCombination(Fse,arguments)},triad:function(){return this._applyCombination(aP,[3])},tetrad:function(){return this._applyCombination(aP,[4])}};at.fromRatio=function(t,e){if(Tv(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=td(t[r]));t=n}return at(t,e)};function Ese(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=jse(t)),Tv(t)=="object"&&(co(t.r)&&co(t.g)&&co(t.b)?(e=Tse(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):co(t.h)&&co(t.s)&&co(t.v)?(r=td(t.s),i=td(t.v),e=Cse(t.h,r,i),o=!0,a="hsv"):co(t.h)&&co(t.s)&&co(t.l)&&(r=td(t.s),s=td(t.l),e=Ase(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=GO(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Tse(t,e,n){return{r:pn(t,255)*255,g:pn(e,255)*255,b:pn(n,255)*255}}function rP(t,e,n){t=pn(t,255),e=pn(e,255),n=pn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function Ase(t,e,n){var r,i,s;t=pn(t,360),e=pn(e,100),n=pn(n,100);function o(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function iP(t,e,n){t=pn(t,255),e=pn(e,255),n=pn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function Cse(t,e,n){t=pn(t,360)*6,e=pn(e,100),n=pn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:d*255}}function sP(t,e,n,r){var i=[_s(Math.round(t).toString(16)),_s(Math.round(e).toString(16)),_s(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Pse(t,e,n,r,i){var s=[_s(Math.round(t).toString(16)),_s(Math.round(e).toString(16)),_s(Math.round(n).toString(16)),_s(WO(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function oP(t,e,n,r){var i=[_s(WO(r)),_s(Math.round(t).toString(16)),_s(Math.round(e).toString(16)),_s(Math.round(n).toString(16))];return i.join("")}at.equals=function(t,e){return!t||!e?!1:at(t).toRgbString()==at(e).toRgbString()};at.random=function(){return at.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Rse(t,e){e=e===0?0:e||10;var n=at(t).toHsl();return n.s-=e/100,n.s=_y(n.s),at(n)}function Lse(t,e){e=e===0?0:e||10;var n=at(t).toHsl();return n.s+=e/100,n.s=_y(n.s),at(n)}function Dse(t){return at(t).desaturate(100)}function Ise(t,e){e=e===0?0:e||10;var n=at(t).toHsl();return n.l+=e/100,n.l=_y(n.l),at(n)}function Ose(t,e){e=e===0?0:e||10;var n=at(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),at(n)}function Use(t,e){e=e===0?0:e||10;var n=at(t).toHsl();return n.l-=e/100,n.l=_y(n.l),at(n)}function Nse(t,e){var n=at(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,at(n)}function kse(t){var e=at(t).toHsl();return e.h=(e.h+180)%360,at(e)}function aP(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=at(t).toHsl(),r=[at(t)],i=360/e,s=1;s<e;s++)r.push(at({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Fse(t){var e=at(t).toHsl(),n=e.h;return[at(t),at({h:(n+72)%360,s:e.s,l:e.l}),at({h:(n+216)%360,s:e.s,l:e.l})]}function Bse(t,e,n){e=e||6,n=n||30;var r=at(t).toHsl(),i=360/n,s=[at(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(at(r));return s}function zse(t,e){e=e||6;for(var n=at(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(at({h:r,s:i,v:s})),s=(s+a)%1;return o}at.mix=function(t,e,n){n=n===0?0:n||50;var r=at(t).toRgb(),i=at(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return at(o)};at.readability=function(t,e){var n=at(t),r=at(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};at.isReadable=function(t,e,n){var r=at.readability(t,e),i,s;switch(s=!1,i=$se(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};at.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=at.readability(t,e[u]),s>i&&(i=s,r=at(e[u]));return at.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,at.mostReadable(t,["#fff","#000"],n))};var q2=at.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Vse=at.hexNames=Hse(q2);function Hse(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function GO(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function pn(t,e){Gse(t)&&(t="100%");var n=Wse(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function _y(t){return Math.min(1,Math.max(0,t))}function bi(t){return parseInt(t,16)}function Gse(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Wse(t){return typeof t=="string"&&t.indexOf("%")!=-1}function _s(t){return t.length==1?"0"+t:""+t}function td(t){return t<=1&&(t=t*100+"%"),t}function WO(t){return Math.round(parseFloat(t)*255).toString(16)}function lP(t){return bi(t)/255}var ds=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function co(t){return!!ds.CSS_UNIT.exec(t)}function jse(t){t=t.replace(bse,"").replace(Mse,"").toLowerCase();var e=!1;if(q2[t])t=q2[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ds.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ds.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ds.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ds.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ds.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ds.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ds.hex8.exec(t))?{r:bi(n[1]),g:bi(n[2]),b:bi(n[3]),a:lP(n[4]),format:e?"name":"hex8"}:(n=ds.hex6.exec(t))?{r:bi(n[1]),g:bi(n[2]),b:bi(n[3]),format:e?"name":"hex"}:(n=ds.hex4.exec(t))?{r:bi(n[1]+""+n[1]),g:bi(n[2]+""+n[2]),b:bi(n[3]+""+n[3]),a:lP(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ds.hex3.exec(t))?{r:bi(n[1]+""+n[1]),g:bi(n[2]+""+n[2]),b:bi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function $se(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var uP=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return wse(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},nd=function(e,n){var r=e.hex?at(e.hex):at(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Ja=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&at(e).isValid()},Vb=function(e){if(!e)return"#fff";var n=nd(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Lx=function(e,n){var r=e.replace("°","");return at(n+" ("+r+")")._ok},Uh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xse=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Yse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qse(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ci=function(e){var n=function(r){Kse(i,r);function i(s){Yse(this,i);var o=qse(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=uP(a);if(u){var c=nd(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=uP(a);if(u){var c=nd(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Uh({},nd(s.color,0)),o.debounce=VO(function(a,l,u){a(l,u)},100),o}return Xse(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),X.createElement(e,Uh({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Uh({},nd(o.color,a.oldHue))}}]),i}(re.PureComponent||re.Component);return n.propTypes=Uh({},e.propTypes),n.defaultProps=Uh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Zse=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jse=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var toe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){eoe(i,r);function i(){var s,o,a,l;Qse(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(o=(a=cP(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),cP(a,l)}return Jse(i,[{key:"render",value:function(){return X.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},X.createElement(e,Zse({},this.props,this.state)))}}]),i}(X.Component)},fP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},noe=13,roe=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,d=e.focusStyle,p=d===void 0?{}:d,m=n==="transparent",g=bt({default:{swatch:fP({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?p:{})}}),_=function(M){return s(n,M)},x=function(M){return M.keyCode===noe&&s(n,M)},v=function(M){return o(n,M)},S={};return o&&(S.onMouseOver=v),X.createElement("div",fP({style:g.swatch,onClick:_,title:l,tabIndex:0,onKeyDown:x},S),u,m&&X.createElement(Hf,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const wu=toe(roe);var ioe=function(e){var n=e.direction,r=bt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return X.createElement("div",{style:r.picker})},soe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jO=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,d=e.className,p=d===void 0?"":d,m=bt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return X.createElement("div",{style:m.picker,className:"alpha-picker "+p},X.createElement(Ib,soe({},m.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};jO.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:ioe};ci(jO);function $O(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ooe="__lodash_hash_undefined__";function aoe(t){return this.__data__.set(t,ooe),this}function loe(t){return this.__data__.has(t)}function Av(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ho;++e<n;)this.add(t[e])}Av.prototype.add=Av.prototype.push=aoe;Av.prototype.has=loe;function uoe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function coe(t,e){return t.has(e)}var foe=1,hoe=2;function XO(t,e,n,r,i,s){var o=n&foe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,p=!0,m=n&hoe?new Av:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],_=e[d];if(r)var x=o?r(_,g,d,e,t,s):r(g,_,d,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!uoe(e,function(v,S){if(!coe(m,S)&&(g===v||i(g,v,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(g===_||i(g,_,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function doe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function poe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var moe=1,goe=2,voe="[object Boolean]",yoe="[object Date]",xoe="[object Error]",_oe="[object Map]",Soe="[object Number]",woe="[object RegExp]",boe="[object Set]",Moe="[object String]",Eoe="[object Symbol]",Toe="[object ArrayBuffer]",Aoe="[object DataView]",hP=Va?Va.prototype:void 0,Dx=hP?hP.valueOf:void 0;function Coe(t,e,n,r,i,s,o){switch(n){case Aoe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Toe:return!(t.byteLength!=e.byteLength||!s(new bv(t),new bv(e)));case voe:case yoe:case Soe:return Up(+t,+e);case xoe:return t.name==e.name&&t.message==e.message;case woe:case Moe:return t==e+"";case _oe:var a=doe;case boe:var l=r&moe;if(a||(a=poe),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=goe,o.set(t,e);var c=XO(a(t),a(e),r,i,s,o);return o.delete(t),c;case Eoe:if(Dx)return Dx.call(t)==Dx.call(e)}return!1}function Poe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Roe(t,e,n){var r=e(t);return Oi(t)?r:Poe(r,n(t))}function Loe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Doe(){return[]}var Ioe=Object.prototype,Ooe=Ioe.propertyIsEnumerable,dP=Object.getOwnPropertySymbols,Uoe=dP?function(t){return t==null?[]:(t=Object(t),Loe(dP(t),function(e){return Ooe.call(t,e)}))}:Doe;const Noe=Uoe;function pP(t){return Roe(t,zb,Noe)}var koe=1,Foe=Object.prototype,Boe=Foe.hasOwnProperty;function zoe(t,e,n,r,i,s){var o=n&koe,a=pP(t),l=a.length,u=pP(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:Boe.call(e,p)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var _=!0;s.set(t,e),s.set(e,t);for(var x=o;++d<l;){p=a[d];var v=t[p],S=e[p];if(r)var w=o?r(S,v,p,e,t,s):r(v,S,p,t,e,s);if(!(w===void 0?v===S||i(v,S,n,r,s):w)){_=!1;break}x||(x=p=="constructor")}if(_&&!x){var M=t.constructor,T=e.constructor;M!=T&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof T=="function"&&T instanceof T)&&(_=!1)}return s.delete(t),s.delete(e),_}var Voe=Su(Cs,"DataView");const K2=Voe;var Hoe=Su(Cs,"Promise");const Z2=Hoe;var Goe=Su(Cs,"Set");const J2=Goe;var Woe=Su(Cs,"WeakMap");const Q2=Woe;var mP="[object Map]",joe="[object Object]",gP="[object Promise]",vP="[object Set]",yP="[object WeakMap]",xP="[object DataView]",$oe=_u(K2),Xoe=_u(Zd),Yoe=_u(Z2),qoe=_u(J2),Koe=_u(Q2),Ol=xu;(K2&&Ol(new K2(new ArrayBuffer(1)))!=xP||Zd&&Ol(new Zd)!=mP||Z2&&Ol(Z2.resolve())!=gP||J2&&Ol(new J2)!=vP||Q2&&Ol(new Q2)!=yP)&&(Ol=function(t){var e=xu(t),n=e==joe?t.constructor:void 0,r=n?_u(n):"";if(r)switch(r){case $oe:return xP;case Xoe:return mP;case Yoe:return gP;case qoe:return vP;case Koe:return yP}return e});const _P=Ol;var Zoe=1,SP="[object Arguments]",wP="[object Array]",pg="[object Object]",Joe=Object.prototype,bP=Joe.hasOwnProperty;function Qoe(t,e,n,r,i,s){var o=Oi(t),a=Oi(e),l=o?wP:_P(t),u=a?wP:_P(e);l=l==SP?pg:l,u=u==SP?pg:u;var c=l==pg,d=u==pg,p=l==u;if(p&&Ev(t)){if(!Ev(e))return!1;o=!0,c=!1}if(p&&!c)return s||(s=new Ys),o||Fb(t)?XO(t,e,n,r,i,s):Coe(t,e,l,n,r,i,s);if(!(n&Zoe)){var m=c&&bP.call(t,"__wrapped__"),g=d&&bP.call(e,"__wrapped__");if(m||g){var _=m?t.value():t,x=g?e.value():e;return s||(s=new Ys),i(_,x,n,r,s)}}return p?(s||(s=new Ys),zoe(t,e,n,r,i,s)):!1}function Hb(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ha(t)&&!Ha(e)?t!==t&&e!==e:Qoe(t,e,n,r,Hb,i)}var eae=1,tae=2;function nae(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Ys;if(r)var p=r(u,c,l,t,e,d);if(!(p===void 0?Hb(c,u,eae|tae,r,d):p))return!1}}return!0}function YO(t){return t===t&&!rs(t)}function rae(t){for(var e=zb(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,YO(i)]}return e}function qO(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function iae(t){var e=rae(t);return e.length==1&&e[0][2]?qO(e[0][0],e[0][1]):function(n){return n===t||nae(n,t,e)}}var sae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oae=/^\w*$/;function Gb(t,e){if(Oi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||yy(t)?!0:oae.test(t)||!sae.test(t)||e!=null&&t in Object(e)}var aae="Expected a function";function Wb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(aae);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Wb.Cache||Ho),n}Wb.Cache=Ho;var lae=500;function uae(t){var e=Wb(t,function(r){return n.size===lae&&n.clear(),r}),n=e.cache;return e}var cae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fae=/\\(\\)?/g,hae=uae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(cae,function(n,r,i,s){e.push(i?s.replace(fae,"$1"):r||n)}),e});const dae=hae;var pae=1/0,MP=Va?Va.prototype:void 0,EP=MP?MP.toString:void 0;function KO(t){if(typeof t=="string")return t;if(Oi(t))return $O(t,KO)+"";if(yy(t))return EP?EP.call(t):"";var e=t+"";return e=="0"&&1/t==-pae?"-0":e}function mae(t){return t==null?"":KO(t)}function ZO(t,e){return Oi(t)?t:Gb(t,e)?[t]:dae(mae(t))}var gae=1/0;function Sy(t){if(typeof t=="string"||yy(t))return t;var e=t+"";return e=="0"&&1/t==-gae?"-0":e}function JO(t,e){e=ZO(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Sy(e[n++])];return n&&n==r?t:void 0}function vae(t,e,n){var r=t==null?void 0:JO(t,e);return r===void 0?n:r}function yae(t,e){return t!=null&&e in Object(t)}function xae(t,e,n){e=ZO(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Sy(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&kb(i)&&Bb(o,i)&&(Oi(t)||Mv(t)))}function _ae(t,e){return t!=null&&xae(t,e,yae)}var Sae=1,wae=2;function bae(t,e){return Gb(t)&&YO(e)?qO(Sy(t),e):function(n){var r=vae(n,t);return r===void 0&&r===e?_ae(n,t):Hb(e,r,Sae|wae)}}function Mae(t){return function(e){return e==null?void 0:e[t]}}function Eae(t){return function(e){return JO(e,t)}}function Tae(t){return Gb(t)?Mae(Sy(t)):Eae(t)}function Aae(t){return typeof t=="function"?t:t==null?vy:typeof t=="object"?Oi(t)?bae(t[0],t[1]):iae(t):Tae(t)}function Cae(t,e){var n=-1,r=Wf(t)?Array(t.length):[];return HO(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function bu(t,e){var n=Oi(t)?$O:Cae;return n(t,Aae(e))}var Pae=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=bt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return X.createElement("div",{style:s.swatches},bu(n,function(o){return X.createElement(wu,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),X.createElement("div",{style:s.clear}))},jb=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=i==="transparent",m=function(x,v){Ja(x)&&n({hex:x,source:"hex"},v)},g=bt(ui({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Vb(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return X.createElement("div",{style:g.card,className:"block-picker "+d},X.createElement("div",{style:g.triangle}),X.createElement("div",{style:g.head},p&&X.createElement(Hf,{borderRadius:"6px 6px 0 0"}),X.createElement("div",{style:g.label},i)),X.createElement("div",{style:g.body},X.createElement(Pae,{colors:s,onClick:m,onSwatchHover:r}),X.createElement(Bt,{style:{input:g.input},value:i,onChange:m})))};jb.propTypes={width:Ze.oneOfType([Ze.string,Ze.number]),colors:Ze.arrayOf(Ze.string),triangle:Ze.oneOf(["top","hide"]),styles:Ze.object};jb.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ci(jb);var yc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},xc={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},_c={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Sc={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},wc={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},bc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Mc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Ec={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Tc={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},rd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ac={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Cc={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Pc={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Rc={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Lc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Dc={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ic={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Oc={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},QO=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=bt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return X.createElement("div",{style:u.swatch},X.createElement(wu,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};QO.defaultProps={circleSize:28,circleSpacing:14};const Rae=Db(QO);var $b=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,d=e.className,p=d===void 0?"":d,m=bt(ui({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),g=function(x,v){return r({hex:x,source:"hex"},v)};return X.createElement("div",{style:m.card,className:"circle-picker "+p},bu(s,function(_){return X.createElement(Rae,{key:_,color:_,onClick:g,onSwatchHover:i,active:o===_.toLowerCase(),circleSize:a,circleSpacing:c})}))};$b.propTypes={width:Ze.oneOfType([Ze.string,Ze.number]),circleSize:Ze.number,circleSpacing:Ze.number,styles:Ze.object};$b.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[yc[500],xc[500],_c[500],Sc[500],wc[500],bc[500],Mc[500],Ec[500],Tc[500],rd[500],Ac[500],Cc[500],Pc[500],Rc[500],Lc[500],Dc[500],Ic[500],Oc[500]],styles:{}};ci($b);function TP(t){return t===void 0}var eU={};Object.defineProperty(eU,"__esModule",{value:!0});var AP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lae=re,CP=Dae(Lae);function Dae(t){return t&&t.__esModule?t:{default:t}}function Iae(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var mg=24,Oae=eU.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?mg:r,s=t.height,o=s===void 0?mg:s,a=t.style,l=a===void 0?{}:a,u=Iae(t,["fill","width","height","style"]);return CP.default.createElement("svg",AP({viewBox:"0 0 "+mg+" "+mg,style:AP({fill:n,width:i,height:o},l)},u),CP.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Uae=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Nae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kae(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tU=function(t){Fae(e,t);function e(n){Nae(this,e);var r=kae(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Ja(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(TP(i.s)?r.props.hsl.s:i.s),l:Number(TP(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Uae(e,[{key:"render",value:function(){var r=this,i=bt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=X.createElement("div",{style:i.fields,className:"flexbox-fix"},X.createElement("div",{style:i.field},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=X.createElement("div",{style:i.fields,className:"flexbox-fix"},X.createElement("div",{style:i.field},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),X.createElement("div",{style:i.field},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),X.createElement("div",{style:i.field},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),X.createElement("div",{style:i.alpha},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=X.createElement("div",{style:i.fields,className:"flexbox-fix"},X.createElement("div",{style:i.field},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),X.createElement("div",{style:i.field},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),X.createElement("div",{style:i.field},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),X.createElement("div",{style:i.alpha},X.createElement(Bt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),X.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,X.createElement("div",{style:i.toggle},X.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},X.createElement(Oae,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(X.Component);tU.defaultProps={view:"hex"};var PP=function(){var e=bt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return X.createElement("div",{style:e.picker})},Bae=function(){var e=bt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return X.createElement("div",{style:e.picker})},Xb=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,d=c===void 0?{}:c,p=e.className,m=p===void 0?"":p,g=e.defaultView,_=bt(ui({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return X.createElement("div",{style:_.picker,className:"chrome-picker "+m},X.createElement("div",{style:_.saturation},X.createElement(xy,{style:_.Saturation,hsl:o,hsv:a,pointer:Bae,onChange:r})),X.createElement("div",{style:_.body},X.createElement("div",{style:_.controls,className:"flexbox-fix"},X.createElement("div",{style:_.color},X.createElement("div",{style:_.swatch},X.createElement("div",{style:_.active}),X.createElement(Hf,{renderers:u}))),X.createElement("div",{style:_.toggles},X.createElement("div",{style:_.hue},X.createElement(Gf,{style:_.Hue,hsl:o,pointer:PP,onChange:r})),X.createElement("div",{style:_.alpha},X.createElement(Ib,{style:_.Alpha,rgb:s,hsl:o,pointer:PP,renderers:u,onChange:r})))),X.createElement(tU,{rgb:s,hsl:o,hex:l,view:g,onChange:r,disableAlpha:i})))};Xb.propTypes={width:Ze.oneOfType([Ze.string,Ze.number]),disableAlpha:Ze.bool,styles:Ze.object,defaultView:Ze.oneOf(["hex","rgb","hsl"])};Xb.defaultProps={width:225,disableAlpha:!1,styles:{}};ci(Xb);var zae=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=bt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Vb(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return X.createElement(wu,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},X.createElement("div",{style:a.dot}))},Vae=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=bt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return X.createElement("div",{style:s.fields,className:"flexbox-fix"},X.createElement("div",{style:s.active}),X.createElement(Bt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),X.createElement(Bt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),X.createElement(Bt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),X.createElement(Bt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},Yb=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=bt(ui({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(g,_){g.hex?Ja(g.hex)&&n({hex:g.hex,source:"hex"},_):n(g,_)};return X.createElement(Np,{style:d.Compact,styles:l},X.createElement("div",{style:d.compact,className:"compact-picker "+c},X.createElement("div",null,bu(i,function(m){return X.createElement(zae,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),X.createElement("div",{style:d.clear})),X.createElement(Vae,{hex:s,rgb:o,onChange:p})))};Yb.propTypes={colors:Ze.arrayOf(Ze.string),styles:Ze.object};Yb.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ci(Yb);var Hae=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=bt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return X.createElement("div",{style:a.swatch},X.createElement(wu,{color:r,onClick:i,onHover:s,focusStyle:o}))};const Gae=Db(Hae);var qb=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=bt(ui({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(g,_){return i({hex:g,source:"hex"},_)};return X.createElement("div",{style:d.card,className:"github-picker "+c},X.createElement("div",{style:d.triangleShadow}),X.createElement("div",{style:d.triangle}),bu(r,function(m){return X.createElement(Gae,{color:m,key:m,onClick:p,onSwatchHover:s})}))};qb.propTypes={width:Ze.oneOfType([Ze.string,Ze.number]),colors:Ze.arrayOf(Ze.string),triangle:Ze.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Ze.object};qb.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ci(qb);var Wae=function(e){var n=e.direction,r=bt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return X.createElement("div",{style:r.picker})},jae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=bt(ui({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),m=function(_){return i({a:1,h:_.h,l:.5,s:1})};return X.createElement("div",{style:p.picker,className:"hue-picker "+d},X.createElement(Gf,jae({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};Kb.propTypes={styles:Ze.object};Kb.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Wae,styles:{}};ci(Kb);var $ae=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=bt(ui({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(p,m){p.hex?Ja(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return X.createElement(Np,{styles:o},X.createElement("div",{style:u.material,className:"material-picker "+l},X.createElement(Bt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),X.createElement("div",{style:u.split,className:"flexbox-fix"},X.createElement("div",{style:u.third},X.createElement(Bt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),X.createElement("div",{style:u.third},X.createElement(Bt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),X.createElement("div",{style:u.third},X.createElement(Bt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};ci($ae);var Xae=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=bt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Ja(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return X.createElement("div",{style:o.fields},X.createElement(Bt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),X.createElement(Bt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),X.createElement(Bt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),X.createElement("div",{style:o.divider}),X.createElement(Bt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),X.createElement(Bt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),X.createElement(Bt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),X.createElement("div",{style:o.divider}),X.createElement(Bt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),X.createElement("div",{style:o.fieldSymbols},X.createElement("div",{style:o.symbol},"°"),X.createElement("div",{style:o.symbol},"%"),X.createElement("div",{style:o.symbol},"%")))},Yae=function(e){var n=e.hsl,r=bt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return X.createElement("div",{style:r.picker})},qae=function(){var e=bt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return X.createElement("div",{style:e.pointer},X.createElement("div",{style:e.left},X.createElement("div",{style:e.leftInside})),X.createElement("div",{style:e.right},X.createElement("div",{style:e.rightInside})))},RP=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=bt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return X.createElement("div",{style:o.button,onClick:n},r||i)},Kae=function(e){var n=e.rgb,r=e.currentColor,i=bt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return X.createElement("div",null,X.createElement("div",{style:i.label},"new"),X.createElement("div",{style:i.swatches},X.createElement("div",{style:i.new}),X.createElement("div",{style:i.current})),X.createElement("div",{style:i.label},"current"))},Zae=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qae(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zb=function(t){ele(e,t);function e(n){Jae(this,e);var r=Qae(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return Zae(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=bt(ui({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return X.createElement("div",{style:l.picker,className:"photoshop-picker "+a},X.createElement("div",{style:l.head},this.props.header),X.createElement("div",{style:l.body,className:"flexbox-fix"},X.createElement("div",{style:l.saturation},X.createElement(xy,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Yae,onChange:this.props.onChange})),X.createElement("div",{style:l.hue},X.createElement(Gf,{direction:"vertical",hsl:this.props.hsl,pointer:qae,onChange:this.props.onChange})),X.createElement("div",{style:l.controls},X.createElement("div",{style:l.top,className:"flexbox-fix"},X.createElement("div",{style:l.previews},X.createElement(Kae,{rgb:this.props.rgb,currentColor:this.state.currentColor})),X.createElement("div",{style:l.actions},X.createElement(RP,{label:"OK",onClick:this.props.onAccept,active:!0}),X.createElement(RP,{label:"Cancel",onClick:this.props.onCancel}),X.createElement(Xae,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(X.Component);Zb.propTypes={header:Ze.string,styles:Ze.object};Zb.defaultProps={header:"Color Picker",styles:{}};ci(Zb);var tle=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=bt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,d){c.hex?Ja(c.hex)&&n({hex:c.hex,source:"hex"},d):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},d))};return X.createElement("div",{style:a.fields,className:"flexbox-fix"},X.createElement("div",{style:a.double},X.createElement(Bt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),X.createElement("div",{style:a.single},X.createElement(Bt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),X.createElement("div",{style:a.single},X.createElement(Bt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),X.createElement("div",{style:a.single},X.createElement(Bt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),X.createElement("div",{style:a.alpha},X.createElement(Bt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},nle=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nU=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=bt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return X.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return X.createElement("div",{key:c,style:o.swatchWrap},X.createElement(wu,nle({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};nU.propTypes={colors:Ze.arrayOf(Ze.oneOfType([Ze.string,Ze.shape({color:Ze.string,title:Ze.string})])).isRequired};var rle=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,p=e.styles,m=p===void 0?{}:p,g=e.className,_=g===void 0?"":g,x=bt(ui({default:rle({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:u});return X.createElement("div",{style:x.picker,className:"sketch-picker "+_},X.createElement("div",{style:x.saturation},X.createElement(xy,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),X.createElement("div",{style:x.controls,className:"flexbox-fix"},X.createElement("div",{style:x.sliders},X.createElement("div",{style:x.hue},X.createElement(Gf,{style:x.Hue,hsl:o,onChange:a})),X.createElement("div",{style:x.alpha},X.createElement(Ib,{style:x.Alpha,rgb:r,hsl:o,renderers:d,onChange:a}))),X.createElement("div",{style:x.color},X.createElement(Hf,null),X.createElement("div",{style:x.activeColor}))),X.createElement(tle,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),X.createElement(nU,{colors:c,onClick:a,onSwatchHover:l}))};Jb.propTypes={disableAlpha:Ze.bool,width:Ze.oneOfType([Ze.string,Ze.number]),styles:Ze.object};Jb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};ci(Jb);var Nh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=bt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return X.createElement("div",{style:u.swatch,onClick:c})},ile=function(e){var n=e.onClick,r=e.hsl,i=bt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return X.createElement("div",{style:i.swatches},X.createElement("div",{style:i.swatch},X.createElement(Nh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),X.createElement("div",{style:i.swatch},X.createElement(Nh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),X.createElement("div",{style:i.swatch},X.createElement(Nh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),X.createElement("div",{style:i.swatch},X.createElement(Nh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),X.createElement("div",{style:i.swatch},X.createElement(Nh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),X.createElement("div",{style:i.clear}))},sle=function(){var e=bt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return X.createElement("div",{style:e.picker})},Qb=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=bt(ui({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return X.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},X.createElement("div",{style:u.hue},X.createElement(Gf,{style:u.Hue,hsl:n,pointer:i,onChange:r})),X.createElement("div",{style:u.swatches},X.createElement(ile,{hsl:n,onClick:r})))};Qb.propTypes={styles:Ze.object};Qb.defaultProps={pointer:sle,styles:{}};ci(Qb);var rU={};Object.defineProperty(rU,"__esModule",{value:!0});var LP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ole=re,DP=ale(ole);function ale(t){return t&&t.__esModule?t:{default:t}}function lle(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var gg=24,ule=rU.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?gg:r,s=t.height,o=s===void 0?gg:s,a=t.style,l=a===void 0?{}:a,u=lle(t,["fill","width","height","style"]);return DP.default.createElement("svg",LP({viewBox:"0 0 "+gg+" "+gg,style:LP({fill:n,width:i,height:o},l)},u),DP.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},cle=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=bt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Vb(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return X.createElement(wu,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},X.createElement("div",{style:u.check},X.createElement(ule,null)))},fle=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=bt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return X.createElement("div",{style:o.group},bu(i,function(a,l){return X.createElement(cle,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},eM=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=bt(ui({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),m=function(_,x){return i({hex:_,source:"hex"},x)};return X.createElement("div",{style:p.picker,className:"swatches-picker "+d},X.createElement(Np,null,X.createElement("div",{style:p.overflow},X.createElement("div",{style:p.body},bu(o,function(g){return X.createElement(fle,{key:g.toString(),group:g,active:a,onClick:m,onSwatchHover:s})}),X.createElement("div",{style:p.clear})))))};eM.propTypes={width:Ze.oneOfType([Ze.string,Ze.number]),height:Ze.oneOfType([Ze.string,Ze.number]),colors:Ze.arrayOf(Ze.arrayOf(Ze.string)),styles:Ze.object};eM.defaultProps={width:320,height:240,colors:[[yc[900],yc[700],yc[500],yc[300],yc[100]],[xc[900],xc[700],xc[500],xc[300],xc[100]],[_c[900],_c[700],_c[500],_c[300],_c[100]],[Sc[900],Sc[700],Sc[500],Sc[300],Sc[100]],[wc[900],wc[700],wc[500],wc[300],wc[100]],[bc[900],bc[700],bc[500],bc[300],bc[100]],[Mc[900],Mc[700],Mc[500],Mc[300],Mc[100]],[Ec[900],Ec[700],Ec[500],Ec[300],Ec[100]],[Tc[900],Tc[700],Tc[500],Tc[300],Tc[100]],["#194D33",rd[700],rd[500],rd[300],rd[100]],[Ac[900],Ac[700],Ac[500],Ac[300],Ac[100]],[Cc[900],Cc[700],Cc[500],Cc[300],Cc[100]],[Pc[900],Pc[700],Pc[500],Pc[300],Pc[100]],[Rc[900],Rc[700],Rc[500],Rc[300],Rc[100]],[Lc[900],Lc[700],Lc[500],Lc[300],Lc[100]],[Dc[900],Dc[700],Dc[500],Dc[300],Dc[100]],[Ic[900],Ic[700],Ic[500],Ic[300],Ic[100]],[Oc[900],Oc[700],Oc[500],Oc[300],Oc[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ci(eM);var tM=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=bt(ui({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(_,x){Ja(_)&&n({hex:_,source:"hex"},x)};return X.createElement("div",{style:p.card,className:"twitter-picker "+d},X.createElement("div",{style:p.triangleShadow}),X.createElement("div",{style:p.triangle}),X.createElement("div",{style:p.body},bu(s,function(g,_){return X.createElement(wu,{key:_,color:g,hex:g,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+g}})}),X.createElement("div",{style:p.hash},"#"),X.createElement(Bt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),X.createElement("div",{style:p.clear})))};tM.propTypes={width:Ze.oneOfType([Ze.string,Ze.number]),triangle:Ze.oneOf(["hide","top-left","top-right"]),colors:Ze.arrayOf(Ze.string),styles:Ze.object};tM.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};const hle=ci(tM);var nM=function(e){var n=bt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return X.createElement("div",{style:n.picker})};nM.propTypes={hsl:Ze.shape({h:Ze.number,s:Ze.number,l:Ze.number,a:Ze.number})};nM.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var rM=function(e){var n=bt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return X.createElement("div",{style:n.picker})};rM.propTypes={hsl:Ze.shape({h:Ze.number,s:Ze.number,l:Ze.number,a:Ze.number})};rM.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var dle=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,g){if(m.hex)Ja(m.hex)&&n({hex:m.hex,source:"hex"},g);else if(m.rgb){var _=m.rgb.split(",");Lx(m.rgb,"rgb")&&n({r:_[0],g:_[1],b:_[2],a:1,source:"rgb"},g)}else if(m.hsv){var x=m.hsv.split(",");Lx(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},g))}else if(m.hsl){var v=m.hsl.split(",");Lx(m.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},g))}},l=bt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return X.createElement("div",{style:l.wrap,className:"flexbox-fix"},X.createElement("div",{style:l.fields},X.createElement("div",{style:l.double},X.createElement(Bt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),X.createElement("div",{style:l.column},X.createElement("div",{style:l.single},X.createElement(Bt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),X.createElement("div",{style:l.single},X.createElement(Bt,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),X.createElement("div",{style:l.single},X.createElement(Bt,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},iM=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,d=e.className,p=d===void 0?"":d,m=bt(ui({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return X.createElement("div",{style:m.picker,className:"google-picker "+p},X.createElement("div",{style:m.head},l),X.createElement("div",{style:m.swatch}),X.createElement("div",{style:m.saturation},X.createElement(xy,{hsl:s,hsv:o,pointer:nM,onChange:r})),X.createElement("div",{style:m.body},X.createElement("div",{style:m.controls,className:"flexbox-fix"},X.createElement("div",{style:m.hue},X.createElement(Gf,{style:m.Hue,hsl:s,radius:"4px",pointer:rM,onChange:r}))),X.createElement(dle,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};iM.propTypes={width:Ze.oneOfType([Ze.string,Ze.number]),styles:Ze.object,header:Ze.string};iM.defaultProps={width:652,styles:{},header:"Color picker"};ci(iM);var iU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IP=X.createContext&&X.createContext(iU),La=globalThis&&globalThis.__assign||function(){return La=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},La.apply(this,arguments)},ple=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function sU(t){return t&&t.map(function(e,n){return X.createElement(e.tag,La({key:n},e.attr),sU(e.child))})}function Jt(t){return function(e){return X.createElement(mle,La({attr:La({},t.attr)},e),sU(t.child))}}function mle(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=ple(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),X.createElement("svg",La({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:La(La({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&X.createElement("title",null,s),t.children)};return IP!==void 0?X.createElement(IP.Consumer,null,function(n){return e(n)}):e(iU)}function gle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"}}]})(t)}function vle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.55 8C116.52 8 8 110.34 8 248.57c0 72.3 29.71 134.78 78.07 177.94 8.35 7.51 6.63 11.86 8.05 58.23A19.92 19.92 0 0 0 122 502.31c52.91-23.3 53.59-25.14 62.56-22.7C337.85 521.8 504 423.7 504 248.57 504 110.34 396.59 8 256.55 8zm149.24 185.13l-73 115.57a37.37 37.37 0 0 1-53.91 9.93l-58.08-43.47a15 15 0 0 0-18 0l-78.37 59.44c-10.46 7.93-24.16-4.6-17.11-15.67l73-115.57a37.36 37.36 0 0 1 53.91-9.93l58.06 43.46a15 15 0 0 0 18 0l78.41-59.38c10.44-7.98 24.14 4.54 17.09 15.62z"}}]})(t)}function sM(t){return Jt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(t)}function yle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"}}]})(t)}function xle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"}}]})(t)}function oU(t){return Jt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32v448h448V32H0zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"}}]})(t)}function aU(t){return Jt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function _le(t){return Jt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"}}]})(t)}function lU(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"}}]})(t)}function Sle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(t)}function wle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z"}}]})(t)}function ble(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm292 116V256h70.9c10.7 0 16.1-13 8.5-20.5L264.5 121.2c-4.7-4.7-12.2-4.7-16.9 0l-115 114.3c-7.6 7.6-2.2 20.5 8.5 20.5H212v116c0 6.6 5.4 12 12 12h64c6.6 0 12-5.4 12-12z"}}]})(t)}function Mle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(t)}function Ele(t){return Jt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"}}]})(t)}function uU(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function Tle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(t)}function Ale(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}}]})(t)}function Cle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function Ple(t){return Jt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function Rle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"}}]})(t)}function Lle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(t)}function Dle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(t)}function Ile(t){return Jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(t)}function Ole(t){return Jt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"}}]})(t)}function Ule(t){return Jt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"}}]})(t)}function Nle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}const kle=()=>{const{lightBG:t,setLightBG:e}=Za(Ii),n=r=>{e(r.hex),console.log(t)};return le.jsx(hle,{color:t,onChange:n})},Fle=()=>{const[t,e]=re.useState(!1),[n,r]=re.useState(!1),i=()=>{r(!n),e(!t)};return le.jsxs("div",{className:"relative right-1 z-10 sm:absolute sm:right-auto",children:[le.jsx("button",{className:`flex items-center justify-center w-10 h-10 rounded-full focus:outline-none  ${n?"text-indigo-500":"text-green-500"}`,onClick:i,children:n?le.jsx(Ule,{size:20}):le.jsx(Ole,{size:20})}),t&&le.jsx(kle,{})]})};function Ble(t){return Jt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(t)}function zle(t){return Jt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(t)}const Vle=()=>{const{darkMode:t,toggleDarkMode:e}=Za(Ii);return le.jsx($t.button,{className:"flex items-center justify-center w-10 h-10 rounded-full focus:outline-none  ",onClick:e,whileHover:{scale:1.2},whileTap:{scale:.8},children:t?le.jsx(zle,{className:"text-yellow-500",size:20}):le.jsx(Ble,{className:"text-gray-500",size:20})})};var eS=new Map,vg=new WeakMap,OP=0,Hle=void 0;function Gle(t){return t?(vg.has(t)||(OP+=1,vg.set(t,OP.toString())),vg.get(t)):"0"}function Wle(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?Gle(t.root):t[e]}`).toString()}function jle(t){let e=Wle(t),n=eS.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var u;const l=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=l),(u=r.get(a.target))==null||u.forEach(c=>{c(l,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},eS.set(e,n)}return n}function $le(t,e,n={},r=Hle){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=jle(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),eS.delete(i))}}function oM({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var S;const[c,d]=re.useState(null),p=re.useRef(),[m,g]=re.useState({inView:!!a,entry:void 0});p.current=u,re.useEffect(()=>{if(o||!c)return;let w;return w=$le(c,(M,T)=>{g({inView:M,entry:T}),p.current&&p.current(M,T),T.isIntersecting&&s&&w&&(w(),w=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{w&&w()}},[Array.isArray(t)?t.toString():t,c,i,r,s,o,n,l,e]);const _=(S=m.entry)==null?void 0:S.target,x=re.useRef();!c&&_&&!s&&!o&&x.current!==_&&(x.current=_,g({inView:!!a,entry:void 0}));const v=[d,m.inView,m.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const Xle={visible:{opacity:1,scale:1,transition:{duration:.5}},hidden:{opacity:0,scale:0}},Yle=[{icon:le.jsx(Ele,{className:"text-4xl text-blue-500 mb-2"}),title:"MongoDB",description:"NoSQL Database"},{icon:le.jsx(Ile,{className:"text-4xl text-yellow-500 mb-2"}),title:"Express.js",description:"Web Application Framework"},{icon:le.jsx(lU,{className:"text-4xl text-purple-500 mb-2"}),title:"React",description:"JavaScript Library"},{icon:le.jsx(Mle,{className:"text-4xl text-cyan-500 mb-2"}),title:"Node.js",description:"JavaScript Runtime"},{icon:le.jsx(yle,{className:"text-4xl text-orange-500 mb-2"}),title:"Html",description:""},{icon:le.jsx(gle,{className:"text-4xl  text-sky-500 mb-2"}),title:"CSS",description:""},{icon:le.jsx(oU,{className:"text-4xl text-yellow-500  mb-2"}),title:"Javascript",description:""},{icon:le.jsx(xle,{className:"text-4xl  text-red-500 mb-2"}),title:"Java",description:""}],qle=()=>{const t=hb(),[e,n]=oM(),{darkMode:r,lightBG:i,darkBG:s}=Za(Ii);return re.useEffect(()=>{t.start("visible")},[t,n]),le.jsx("div",{className:"py-12 h-full",children:le.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[le.jsx("h2",{className:"text-3xl font-semibold text-center  mb-8",style:{color:r?s:i},children:"My Skills - MERN Stack"}),le.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:Yle.map((o,a)=>le.jsxs($t.div,{className:`${r?"":"shadow-lg"} rounded-lg p-6 flex flex-col items-center}`,ref:e,variants:Xle,initial:"hidden",animate:t,style:{boxShadow:r&&"2px 2px 2px rgba(255, 255, 255, 0.08), -2px -2px 2px rgba(0, 0, 0, 0.56), -2px -2px 2px rgba(255, 255, 255, 0.08) inset, 2px 2px 2px rgba(0, 0, 0, 0.56) inset",border:r&&"0 solid rgba(0, 0, 0, 0)",backgroundColor:r&&"linear-gradient(330deg, #333, #111)"},children:[o.icon,le.jsx("h3",{className:"text-lg font-medium text-gray-400",children:o.title}),le.jsx("p",{className:"text-sm text-gray-600",children:o.description})]},a))})]})})},UP=[{id:1,title:"Super App",skills:["React","JavaScript","HTML","CSS"],deployedLink:"https://react-capstone-project-virid.vercel.app/",repoLink:"https://github.com/Ashu-lab252001/React-capstone-project"},{id:2,title:"Rock Paper Scissor",skills:["HTML","CSS","JavaScript"],deployedLink:"https://js-test-module.vercel.app/",repoLink:"https://github.com/Ashu-lab252001/JS-test-module-"},{id:3,title:"Pocket Notes",skills:["HTML","CSS","React"],deployedLink:"https://pocket-notes-nine-ochre.vercel.app/",repoLink:"https://github.com/Ashu-lab252001/Pocket-notes"},{id:4,title:"Typebot Form",skills:["NodeJs","CSS","React","Express","MongoDb"],deployedLink:"https://mern-frontend-ivory.vercel.app/",repoLink:"https://github.com/Ashu-lab252001/mern-frontend"}],Kle={visible:{opacity:1,scale:1,transition:{duration:.5}},hidden:{opacity:0,scale:0}},Zle=({title:t,skills:e,darkMode:n,darkBG:r,lightBG:i,deployedLink:s,repoLink:o})=>{const a=hb(),[l,u]=oM();return re.useEffect(()=>{u?a.start("visible"):a.start("hidden")},[a,u]),le.jsxs($t.div,{className:" shadow-lg rounded-lg p-8 flex flex-col items-center justify-center mx-3",style:{backgroundColor:n?r:i,color:"#ffff"},ref:l,variants:Kle,initial:"hidden",animate:a,children:[le.jsx("h3",{className:"text-2xl font-bold mb-2",children:t}),le.jsx("ul",{className:"flex flex-wrap gap-2",children:e.map(c=>le.jsx("li",{className:` ${n?"bg-slate-800 text-white":"bg-white "}  text-gray-600 rounded-full px-3 py-1 text-sm`,children:c},c))}),le.jsxs($t.div,{className:"flex items-center justify-between w-[20%] pt-4 cursor-pointer ",children:[le.jsxs("a",{href:o,target:"_blank",children:[" ",le.jsx(sM,{})," "]}),le.jsxs("a",{href:s,target:"_blank",children:[" ",le.jsx(Lle,{})," "]})]})]})},Jle=()=>{const{darkBG:t,lightBG:e,darkMode:n}=Za(Ii),[r,i]=re.useState(""),s=a=>{i(a)},o=r?UP.filter(a=>a.skills.includes(r)):UP;return le.jsx("section",{className:`py-12 h-full ${n?"bg-slate-800":"text-slate-100"}`,style:{color:n?t:e},children:le.jsxs("div",{className:"container mx-auto",children:[le.jsx("h2",{className:"text-3xl font-bold mb-8  text-center",style:{color:n?t:e},children:"My Projects"}),le.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-between mx-3",children:[le.jsx("h4",{className:"text-lg",children:"Filter by Skill:"}),le.jsxs("div",{className:"flex gap-2",children:[le.jsx("button",{className:`flex items-center justify-center rounded-full bg-transparent border  hover:bg-cyan-200 focus:outline-none p-2 ${r===""?"text-blue-500":""}`,onClick:()=>s(""),style:{borderColor:n?t:e},children:le.jsx(Tle,{})}),le.jsx("button",{className:`flex items-center justify-center rounded-full bg-transparent border border-gray-300 hover:bg-gray-200 focus:outline-none p-2 ${r==="React"?"text-blue-500":""}`,onClick:()=>s("React"),style:{borderColor:n?t:e},children:le.jsx(lU,{})}),le.jsx("button",{className:`flex items-center justify-center rounded-full bg-transparent border border-gray-300 hover:bg-gray-200 focus:outline-none p-2 ${r==="JavaScript"?"text-blue-500":""}`,onClick:()=>s("JavaScript"),style:{borderColor:n?t:e},children:le.jsx(oU,{})}),le.jsx("button",{className:`flex items-center justify-center rounded-full bg-transparent border border-gray-300 hover:bg-gray-200 focus:outline-none p-2 ${r==="Electron"?"text-blue-500":""}`,onClick:()=>s("NodeJs"),style:{borderColor:n?t:e},children:le.jsx(_le,{})})]})]}),le.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(a=>le.jsx(Zle,{title:a.title,skills:a.skills,deployedLink:a.deployedLink,repoLink:a.repoLink,darkBG:t,lightBG:e,darkMode:n},a.id))})]})})},Qle="/assets/full_stack_banner-7562a805.avif",eue=[{year:"2016",title:"Secondary Education",marks:"7.21 CGPA",from:"Podar International School, Jalgaon"},{year:"2019",title:"Computer Engineering Diploma",marks:"56%",from:"CSMSS Polytechnic , Aurangabad"},{year:"2022",title:"Computer Engineering Graduate",marks:"8.81 CGPA",from:"DBATU ,Lonere"}],tue=()=>le.jsx("section",{className:"py-16 ",children:le.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-around overflow-hidden h-full",children:[le.jsx("div",{className:"w-1/2 md:w-2/3 mb-8 md:mb-0",children:le.jsx($t.img,{src:Qle,alt:"My Photo",className:"w-full h-auto rounded-2xl shadow-lg",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5}})}),le.jsxs("div",{className:"w-full md:w-1/2 pl-6",children:[le.jsx("div",{className:"rounded-lg",children:le.jsx("div",{className:"flex flex-col space-y-4",children:eue.map(t=>le.jsxs($t.div,{className:"flex items-center space-x-4",whileHover:{scale:1.05},whileTap:{scale:.95},children:[le.jsx(Cle,{className:"text-2xl"}),le.jsxs("div",{children:[le.jsx("h3",{className:"text-lg font-semibold",children:t.title}),le.jsx("p",{className:"text-gray-500",children:`Year: ${t.year}`}),le.jsx("p",{className:"text-gray-500",children:`Percentage: ${t.marks}`}),le.jsx("p",{className:"text-slate-400",children:`Institute: ${t.from}`})]})]},t.year))})}),le.jsx($t.div,{className:"rounded-lg h-2 mt-8",initial:{width:0},animate:{width:"100%"},transition:{duration:1}})]})]})}),yg={visible:{opacity:1,scale:1,transition:{duration:.5}},hidden:{opacity:0,scale:0}},nue=({darkMode:t,lightBG:e,darkBG:n})=>{const r=hb(),[i,s]=oM();return re.useEffect(()=>{r.start("visible")},[r,s]),le.jsx("section",{className:"py-12 v",children:le.jsxs("div",{className:"container mx-auto",children:[le.jsx("h2",{className:"text-3xl font-bold mb-8  p-6",children:"Contact Me"}),le.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6  mx-3",children:[le.jsxs($t.a,{href:"mailto:example@example.com",target:"_blank",rel:"noopener noreferrer",className:`${t?"bg-transparent  ":e} shadow-lg rounded-lg p-6 flex flex-col items-center justify-center`,style:{color:t?n:e,borderColor:t?"transparent":e,boxShadow:t&&"2px 2px 2px rgba(255, 255, 255, 0.08), -2px -2px 2px rgba(0, 0, 0, 0.56), 2px 2px 2px rgba(255, 255, 255, 0.08) inset, -2px -2px 2px rgba(0, 0, 0, 0.56) inset",border:t&&"1px solid rgba(0, 0, 0, 0.08)",backgroundColor:t&&"linear-gradient(330deg, #333, #111)"},ref:i,variants:yg,initial:"hidden",animate:r,children:[le.jsx(uU,{className:"text-4xl mb-4",style:{color:t?n:e}}),le.jsx("h3",{className:"text-xl font-bold mb-2",children:"Email"}),le.jsx("p",{className:`${t?"text-gray-500":"text-gray-700"}`,children:"ashutoshkoli1539@gmail.com"})]}),le.jsxs($t.a,{href:"tel:+1234567890",target:"_blank",rel:"noopener noreferrer",className:`${t?"bg-transparent border ":e} shadow-lg rounded-lg p-6 flex flex-col items-center justify-center`,style:{color:t?n:e,borderColor:t?"transparent":e,boxShadow:t&&"2px 2px 2px rgba(255, 255, 255, 0.08), -2px -2px 2px rgba(0, 0, 0, 0.56), 2px 2px 2px rgba(255, 255, 255, 0.08) inset, -2px -2px 2px rgba(0, 0, 0, 0.56) inset",border:t&&"1px solid rgba(0, 0, 0, 0.08)",backgroundColor:t&&"linear-gradient(330deg, #333, #111)"},ref:i,variants:yg,initial:"hidden",animate:r,children:[le.jsx(Dle,{className:"text-4xl  mb-4",style:{color:t?n:e}}),le.jsx("h3",{className:"text-xl font-bold mb-2",children:"Phone"}),le.jsx("p",{className:`${t?"text-gray-500":"text-gray-700"}`,children:"+1234567890"})]}),le.jsxs($t.a,{href:"https://www.linkedin.com/in/your-profile",target:"_blank",rel:"noopener noreferrer",className:`${t?"bg-transparent border ":e} shadow-lg rounded-lg p-6 flex flex-col items-center justify-center`,style:{color:t?n:e,borderColor:t?"transparent":e,boxShadow:t&&"2px 2px 2px rgba(255, 255, 255, 0.08), -2px -2px 2px rgba(0, 0, 0, 0.56), 2px 2px 2px rgba(255, 255, 255, 0.08) inset, -2px -2px 2px rgba(0, 0, 0, 0.56) inset",border:t&&"1px solid rgba(0, 0, 0, 0.08)",backgroundColor:t&&"linear-gradient(330deg, #333, #111)"},ref:i,variants:yg,initial:"hidden",animate:r,children:[le.jsx(aU,{className:"text-4xl  mb-4",style:{color:t?n:e}}),le.jsx("h3",{className:"text-xl font-bold mb-2",children:"LinkedIn"}),le.jsx("p",{className:`${t?"text-gray-500":"text-gray-700"}`,children:"linkedin.com/in/ashutoshkoli25"})]}),le.jsxs($t.a,{href:"https://github.com/your-username",target:"_blank",rel:"noopener noreferrer",className:`${t?"bg-transparent border ":e} shadow-lg rounded-lg p-6 flex flex-col items-center justify-center`,style:{color:t?n:e,borderColor:t?"transparent":e,boxShadow:t&&"2px 2px 2px rgba(255, 255, 255, 0.08), -2px -2px 2px rgba(0, 0, 0, 0.56), 2px 2px 2px rgba(255, 255, 255, 0.08) inset, -2px -2px 2px rgba(0, 0, 0, 0.56) inset",border:t&&"1px solid rgba(0, 0, 0, 0.08)",backgroundColor:t&&"linear-gradient(330deg, #333, #111)"},ref:i,variants:yg,initial:"hidden",animate:r,children:[le.jsx(sM,{className:"text-4xl  mb-4",style:{color:t?n:e}}),le.jsx("h3",{className:"text-xl font-bold mb-2",children:"GitHub"}),le.jsx("p",{className:`${t?"text-gray-500":"text-gray-700"}`,children:"github.com/Ashu-labs-252001"})]})]})]})})},rue=({darkMode:t,lightBG:e,darkBG:n})=>le.jsx("footer",{className:"  text-white py-6 px-3 fixed bottom-0 right-0  w-full overflow-hidden",style:{backgroundColor:t?"rgb(30 41 59)":"rgb(243 244 246)"},children:le.jsx("div",{className:"container mx-auto flex items-center justify-between flex-row-reverse",children:le.jsxs("div",{className:"flex items-center",children:[le.jsx($t.a,{href:"https://github.com/Ashu-lab252001",target:"_blank",rel:"noopener noreferrer",className:"text-2xl mr-4",whileHover:{scale:1.2},whileTap:{scale:.8},style:{color:t?n:e},children:le.jsx(sM,{})}),le.jsx($t.a,{href:"https://x.com/Ashutoshkoli5",target:"_blank",rel:"noopener noreferrer",className:"text-2xl mr-4",whileHover:{scale:1.2},whileTap:{scale:.8},style:{color:t?n:e},children:le.jsx(Sle,{})}),le.jsx($t.a,{href:"https://www.linkedin.com/in/ashutoshkoli25",target:"_blank",rel:"noopener noreferrer",className:"text-2xl",whileHover:{scale:1.2},whileTap:{scale:.8},style:{color:t?n:e},children:le.jsx(aU,{})})]})})}),df={type:"spring",duration:.8},NP=t=>({initial:{x:t==="left"?-100:t==="right"?100:0,y:t==="up"?100:t==="down"?-100:0,opacity:0,transition:{...df,delay:.5}},animate:{x:0,y:0,opacity:1,transition:{...df,delay:0}},exit:{x:t==="left"?-100:t==="right"?100:0,y:t==="up"?100:t==="down"?-100:0,transition:{...df,delay:0}}}),Ix={initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:5,stiffness:40,restDelta:.001,duration:.3}},iue={initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:7,stiffness:30,restDelta:.001,duration:.6,delay:.2,delayChildren:.2}},sue={initial:{x:-100,opacity:0,transition:{...df,delay:.5}},animate:{x:0,opacity:1,transition:{...df,delay:0}},exit:{x:-100,opacity:0,transition:{...df,delay:0}}};function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const wy="153",Ul={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Nl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},cU=0,tS=1,fU=2,oue=3,hU=0,by=1,_d=2,ms=3,ko=0,Wr=1,xs=2,aue=2,Lo=0,Kl=1,nS=2,rS=3,iS=4,dU=5,Fl=100,pU=101,mU=102,sS=103,oS=104,gU=200,vU=201,yU=202,xU=203,aM=204,lM=205,_U=206,SU=207,wU=208,bU=209,MU=210,EU=0,TU=1,AU=2,Cv=3,CU=4,PU=5,RU=6,LU=7,kp=0,DU=1,IU=2,bs=0,OU=1,UU=2,NU=3,uM=4,kU=5,My=300,Ga=301,Wa=302,Qd=303,ep=304,jf=306,tp=1e3,Pr=1001,np=1002,kn=1003,Pv=1004,lue=1004,Sd=1005,uue=1005,_n=1006,cM=1007,cue=1007,ja=1008,fue=1008,qs=1009,FU=1010,BU=1011,Ey=1012,fM=1013,Ao=1014,Gs=1015,Tf=1016,hM=1017,dM=1018,Da=1020,zU=1021,ri=1023,VU=1024,HU=1025,Ia=1026,au=1027,GU=1028,pM=1029,WU=1030,mM=1031,gM=1033,C0=33776,P0=33777,R0=33778,L0=33779,aS=35840,lS=35841,uS=35842,cS=35843,jU=36196,fS=37492,hS=37496,dS=37808,pS=37809,mS=37810,gS=37811,vS=37812,yS=37813,xS=37814,_S=37815,SS=37816,wS=37817,bS=37818,MS=37819,ES=37820,TS=37821,D0=36492,$U=36283,AS=36284,CS=36285,PS=36286,XU=2200,YU=2201,qU=2202,rp=2300,ip=2301,I0=2302,Wl=2400,jl=2401,sp=2402,Ty=2500,vM=2501,hue=0,due=1,pue=2,yM=3e3,Oa=3001,KU=3200,xM=3201,Qa=0,ZU=1,Ua="",Ct="srgb",Es="srgb-linear",_M="display-p3",mue=0,O0=7680,gue=7681,vue=7682,yue=7683,xue=34055,_ue=34056,Sue=5386,wue=512,bue=513,Mue=514,Eue=515,Tue=516,Aue=517,Cue=518,JU=519,QU=512,eN=513,tN=514,nN=515,rN=516,iN=517,sN=518,oN=519,op=35044,Pue=35048,Rue=35040,Lue=35045,Due=35049,Iue=35041,Oue=35046,Uue=35050,Nue=35042,kue="100",RS="300 es",Rv=1035,Ws=2e3,ap=2001;let Go=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Tr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kP=1234567;const Zl=Math.PI/180,Af=180/Math.PI;function Ri(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Tr[t&255]+Tr[t>>8&255]+Tr[t>>16&255]+Tr[t>>24&255]+"-"+Tr[e&255]+Tr[e>>8&255]+"-"+Tr[e>>16&15|64]+Tr[e>>24&255]+"-"+Tr[n&63|128]+Tr[n>>8&255]+"-"+Tr[n>>16&255]+Tr[n>>24&255]+Tr[r&255]+Tr[r>>8&255]+Tr[r>>16&255]+Tr[r>>24&255]).toLowerCase()}function Ln(t,e,n){return Math.max(e,Math.min(n,t))}function SM(t,e){return(t%e+e)%e}function Fue(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Bue(t,e,n){return t!==e?(n-t)/(e-t):0}function wd(t,e,n){return(1-n)*t+n*e}function zue(t,e,n,r){return wd(t,e,1-Math.exp(-n*r))}function Vue(t,e=1){return e-Math.abs(SM(t,e*2)-e)}function Hue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Gue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Wue(t,e){return t+Math.floor(Math.random()*(e-t+1))}function jue(t,e){return t+Math.random()*(e-t)}function $ue(t){return t*(.5-Math.random())}function Xue(t){t!==void 0&&(kP=t);let e=kP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Yue(t){return t*Zl}function que(t){return t*Af}function LS(t){return(t&t-1)===0&&t!==0}function aN(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Lv(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Kue(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*d,l*p,a*u);break;case"YZY":t.set(l*p,a*c,l*d,a*u);break;case"ZXZ":t.set(l*d,l*p,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ti(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Dt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Zue={DEG2RAD:Zl,RAD2DEG:Af,generateUUID:Ri,clamp:Ln,euclideanModulo:SM,mapLinear:Fue,inverseLerp:Bue,lerp:wd,damp:zue,pingpong:Vue,smoothstep:Hue,smootherstep:Gue,randInt:Wue,randFloat:jue,randFloatSpread:$ue,seededRandom:Xue,degToRad:Yue,radToDeg:que,isPowerOfTwo:LS,ceilPowerOfTwo:aN,floorPowerOfTwo:Lv,setQuaternionFromProperEuler:Kue,normalize:Dt,denormalize:Ti};class Oe{constructor(e=0,n=0){Oe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rt{constructor(e,n,r,i,s,o,a,l,u){Rt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],d=r[7],p=r[2],m=r[5],g=r[8],_=i[0],x=i[3],v=i[6],S=i[1],w=i[4],M=i[7],T=i[2],A=i[5],R=i[8];return s[0]=o*_+a*S+l*T,s[3]=o*x+a*w+l*A,s[6]=o*v+a*M+l*R,s[1]=u*_+c*S+d*T,s[4]=u*x+c*w+d*A,s[7]=u*v+c*M+d*R,s[2]=p*_+m*S+g*T,s[5]=p*x+m*w+g*A,s[8]=p*v+m*M+g*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*o-a*u,p=a*l-c*s,m=u*s-o*l,g=n*d+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/g;return e[0]=d*_,e[1]=(i*u-c*r)*_,e[2]=(a*r-i*o)*_,e[3]=p*_,e[4]=(c*n-i*l)*_,e[5]=(i*s-a*n)*_,e[6]=m*_,e[7]=(r*l-u*n)*_,e[8]=(o*n-r*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(Ox.makeScale(e,n)),this}rotate(e){return this.premultiply(Ox.makeRotation(-e)),this}translate(e,n){return this.premultiply(Ox.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ox=new Rt;function lN(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Jue={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ef(t,e){return new Jue[t](e)}function lp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const FP={};function bd(t){t in FP||(FP[t]=!0,console.warn(t))}function pf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Ux(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Que=new Rt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),ece=new Rt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function tce(t){return t.convertSRGBToLinear().applyMatrix3(ece)}function nce(t){return t.applyMatrix3(Que).convertLinearToSRGB()}const rce={[Es]:t=>t,[Ct]:t=>t.convertSRGBToLinear(),[_M]:tce},ice={[Es]:t=>t,[Ct]:t=>t.convertLinearToSRGB(),[_M]:nce},Yi={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Es},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=rce[e],i=ice[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Xu;class wM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Xu===void 0&&(Xu=lp("canvas")),Xu.width=e.width,Xu.height=e.height;const r=Xu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Xu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=lp("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=pf(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(pf(n[r]/255)*255):n[r]=pf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sce=0;class $l{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sce++}),this.uuid=Ri(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Nx(i[o].image)):s.push(Nx(i[o]))}else s=Nx(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function Nx(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?wM.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let oce=0;class En extends Go{constructor(e=En.DEFAULT_IMAGE,n=En.DEFAULT_MAPPING,r=Pr,i=Pr,s=_n,o=ja,a=ri,l=qs,u=En.DEFAULT_ANISOTROPY,c=Ua){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:oce++}),this.uuid=Ri(),this.name="",this.source=new $l(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Oe(0,0),this.repeat=new Oe(1,1),this.center=new Oe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(bd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Oa?Ct:Ua),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==My)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case tp:e.x=e.x-Math.floor(e.x);break;case Pr:e.x=e.x<0?0:1;break;case np:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case tp:e.y=e.y-Math.floor(e.y);break;case Pr:e.y=e.y<0?0:1;break;case np:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return bd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ct?Oa:yM}set encoding(e){bd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Oa?Ct:Ua}}En.DEFAULT_IMAGE=null;En.DEFAULT_MAPPING=My;En.DEFAULT_ANISOTROPY=1;class Kt{constructor(e=0,n=0,r=0,i=1){Kt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],d=l[8],p=l[1],m=l[5],g=l[9],_=l[2],x=l[6],v=l[10];if(Math.abs(c-p)<.01&&Math.abs(d-_)<.01&&Math.abs(g-x)<.01){if(Math.abs(c+p)<.1&&Math.abs(d+_)<.1&&Math.abs(g+x)<.1&&Math.abs(u+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,M=(m+1)/2,T=(v+1)/2,A=(c+p)/4,R=(d+_)/4,L=(g+x)/4;return w>M&&w>T?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=A/r,s=R/r):M>T?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=A/i,s=L/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=R/s,i=L/s),this.set(r,i,s,n),this}let S=Math.sqrt((x-g)*(x-g)+(d-_)*(d-_)+(p-c)*(p-c));return Math.abs(S)<.001&&(S=1),this.x=(x-g)/S,this.y=(d-_)/S,this.z=(p-c)/S,this.w=Math.acos((u+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ts extends Go{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Kt(0,0,e,n),this.scissorTest=!1,this.viewport=new Kt(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(bd("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Oa?Ct:Ua),this.texture=new En(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:_n,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new $l(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ay extends En{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=kn,this.minFilter=kn,this.wrapR=Pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ace extends Ts{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ay(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class bM extends En{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=kn,this.minFilter=kn,this.wrapR=Pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lce extends Ts{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new bM(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class uce extends Ts{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Rr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],_=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=g,e[n+3]=_;return}if(d!==_||l!==p||u!==m||c!==g){let x=1-a;const v=l*p+u*m+c*g+d*_,S=v>=0?1:-1,w=1-v*v;if(w>Number.EPSILON){const T=Math.sqrt(w),A=Math.atan2(T,v*S);x=Math.sin(x*A)/T,a=Math.sin(a*A)/T}const M=a*S;if(l=l*x+p*M,u=u*x+m*M,c=c*x+g*M,d=d*x+_*M,x===1-a){const T=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=T,u*=T,c*=T,d*=T}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+c*d+l*m-u*p,e[n+1]=l*g+c*p+u*d-a*m,e[n+2]=u*g+c*m+a*p-l*d,e[n+3]=c*g-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*c*d+u*m*g,this._y=u*m*d-p*c*g,this._z=u*c*g+p*m*d,this._w=u*c*d-p*m*g;break;case"YXZ":this._x=p*c*d+u*m*g,this._y=u*m*d-p*c*g,this._z=u*c*g-p*m*d,this._w=u*c*d+p*m*g;break;case"ZXY":this._x=p*c*d-u*m*g,this._y=u*m*d+p*c*g,this._z=u*c*g+p*m*d,this._w=u*c*d-p*m*g;break;case"ZYX":this._x=p*c*d-u*m*g,this._y=u*m*d+p*c*g,this._z=u*c*g-p*m*d,this._w=u*c*d+p*m*g;break;case"YZX":this._x=p*c*d+u*m*g,this._y=u*m*d+p*c*g,this._z=u*c*g-p*m*d,this._w=u*c*d-p*m*g;break;case"XZY":this._x=p*c*d-u*m*g,this._y=u*m*d-p*c*g,this._z=u*c*g+p*m*d,this._w=u*c*d+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],d=n[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ln(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-n)*c)/u,p=Math.sin(n*c)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class j{constructor(e=0,n=0,r=0){j.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(BP.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(BP.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,d=l*i+s*r-o*n,p=-s*n-o*r-a*i;return this.x=u*l+p*-s+c*-a-d*-o,this.y=c*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return kx.copy(this).projectOnVector(e),this.sub(kx)}reflect(e){return this.sub(kx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const kx=new j,BP=new Rr;class is{constructor(e=new j(1/0,1/0,1/0),n=new j(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ho.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ho.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ho.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Yu.copy(e.boundingBox),Yu.applyMatrix4(e.matrixWorld),this.union(Yu);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)ho.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ho)}else i.boundingBox===null&&i.computeBoundingBox(),Yu.copy(i.boundingBox),Yu.applyMatrix4(e.matrixWorld),this.union(Yu)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ho),ho.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kh),xg.subVectors(this.max,kh),qu.subVectors(e.a,kh),Ku.subVectors(e.b,kh),Zu.subVectors(e.c,kh),ia.subVectors(Ku,qu),sa.subVectors(Zu,Ku),xl.subVectors(qu,Zu);let n=[0,-ia.z,ia.y,0,-sa.z,sa.y,0,-xl.z,xl.y,ia.z,0,-ia.x,sa.z,0,-sa.x,xl.z,0,-xl.x,-ia.y,ia.x,0,-sa.y,sa.x,0,-xl.y,xl.x,0];return!Fx(n,qu,Ku,Zu,xg)||(n=[1,0,0,0,1,0,0,0,1],!Fx(n,qu,Ku,Zu,xg))?!1:(_g.crossVectors(ia,sa),n=[_g.x,_g.y,_g.z],Fx(n,qu,Ku,Zu,xg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ho).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ho).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fo=[new j,new j,new j,new j,new j,new j,new j,new j],ho=new j,Yu=new is,qu=new j,Ku=new j,Zu=new j,ia=new j,sa=new j,xl=new j,kh=new j,xg=new j,_g=new j,_l=new j;function Fx(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){_l.fromArray(t,s);const a=i.x*Math.abs(_l.x)+i.y*Math.abs(_l.y)+i.z*Math.abs(_l.z),l=e.dot(_l),u=n.dot(_l),c=r.dot(_l);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const cce=new is,Fh=new j,Bx=new j;class ss{constructor(e=new j,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):cce.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fh.subVectors(e,this.center);const n=Fh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Fh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Bx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fh.copy(e.center).add(Bx)),this.expandByPoint(Fh.copy(e.center).sub(Bx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const po=new j,zx=new j,Sg=new j,oa=new j,Vx=new j,wg=new j,Hx=new j;class Mu{constructor(e=new j,n=new j(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,po)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=po.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(po.copy(this.origin).addScaledVector(this.direction,n),po.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){zx.copy(e).add(n).multiplyScalar(.5),Sg.copy(n).sub(e).normalize(),oa.copy(this.origin).sub(zx);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Sg),a=oa.dot(this.direction),l=-oa.dot(Sg),u=oa.lengthSq(),c=Math.abs(1-o*o);let d,p,m,g;if(c>0)if(d=o*l-a,p=o*a-l,g=s*c,d>=0)if(p>=-g)if(p<=g){const _=1/c;d*=_,p*=_,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-g?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=g?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(zx).addScaledVector(Sg,p),m}intersectSphere(e,n){po.subVectors(e.center,this.origin);const r=po.dot(this.direction),i=po.dot(po)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(s=(e.min.y-p.y)*c,o=(e.max.y-p.y)*c):(s=(e.max.y-p.y)*c,o=(e.min.y-p.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,po)!==null}intersectTriangle(e,n,r,i,s){Vx.subVectors(n,e),wg.subVectors(r,e),Hx.crossVectors(Vx,wg);let o=this.direction.dot(Hx),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;oa.subVectors(this.origin,e);const l=a*this.direction.dot(wg.crossVectors(oa,wg));if(l<0)return null;const u=a*this.direction.dot(Vx.cross(oa));if(u<0||l+u>o)return null;const c=-a*oa.dot(Hx);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Mt{constructor(e,n,r,i,s,o,a,l,u,c,d,p,m,g,_,x){Mt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,c,d,p,m,g,_,x)}set(e,n,r,i,s,o,a,l,u,c,d,p,m,g,_,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=u,v[6]=c,v[10]=d,v[14]=p,v[3]=m,v[7]=g,v[11]=_,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ju.setFromMatrixColumn(e,0).length(),s=1/Ju.setFromMatrixColumn(e,1).length(),o=1/Ju.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*c,m=o*d,g=a*c,_=a*d;n[0]=l*c,n[4]=-l*d,n[8]=u,n[1]=m+g*u,n[5]=p-_*u,n[9]=-a*l,n[2]=_-p*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*c,m=l*d,g=u*c,_=u*d;n[0]=p+_*a,n[4]=g*a-m,n[8]=o*u,n[1]=o*d,n[5]=o*c,n[9]=-a,n[2]=m*a-g,n[6]=_+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*c,m=l*d,g=u*c,_=u*d;n[0]=p-_*a,n[4]=-o*d,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*c,n[9]=_-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*c,m=o*d,g=a*c,_=a*d;n[0]=l*c,n[4]=g*u-m,n[8]=p*u+_,n[1]=l*d,n[5]=_*u+p,n[9]=m*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,g=a*l,_=a*u;n[0]=l*c,n[4]=_-p*d,n[8]=g*d+m,n[1]=d,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*d+g,n[10]=p-_*d}else if(e.order==="XZY"){const p=o*l,m=o*u,g=a*l,_=a*u;n[0]=l*c,n[4]=-d,n[8]=u*c,n[1]=p*d+_,n[5]=o*c,n[9]=m*d-g,n[2]=g*d-m,n[6]=a*c,n[10]=_*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fce,e,hce)}lookAt(e,n,r){const i=this.elements;return Si.subVectors(e,n),Si.lengthSq()===0&&(Si.z=1),Si.normalize(),aa.crossVectors(r,Si),aa.lengthSq()===0&&(Math.abs(r.z)===1?Si.x+=1e-4:Si.z+=1e-4,Si.normalize(),aa.crossVectors(r,Si)),aa.normalize(),bg.crossVectors(Si,aa),i[0]=aa.x,i[4]=bg.x,i[8]=Si.x,i[1]=aa.y,i[5]=bg.y,i[9]=Si.y,i[2]=aa.z,i[6]=bg.z,i[10]=Si.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],d=r[5],p=r[9],m=r[13],g=r[2],_=r[6],x=r[10],v=r[14],S=r[3],w=r[7],M=r[11],T=r[15],A=i[0],R=i[4],L=i[8],C=i[12],P=i[1],F=i[5],B=i[9],W=i[13],G=i[2],q=i[6],ee=i[10],ne=i[14],U=i[3],z=i[7],k=i[11],N=i[15];return s[0]=o*A+a*P+l*G+u*U,s[4]=o*R+a*F+l*q+u*z,s[8]=o*L+a*B+l*ee+u*k,s[12]=o*C+a*W+l*ne+u*N,s[1]=c*A+d*P+p*G+m*U,s[5]=c*R+d*F+p*q+m*z,s[9]=c*L+d*B+p*ee+m*k,s[13]=c*C+d*W+p*ne+m*N,s[2]=g*A+_*P+x*G+v*U,s[6]=g*R+_*F+x*q+v*z,s[10]=g*L+_*B+x*ee+v*k,s[14]=g*C+_*W+x*ne+v*N,s[3]=S*A+w*P+M*G+T*U,s[7]=S*R+w*F+M*q+T*z,s[11]=S*L+w*B+M*ee+T*k,s[15]=S*C+w*W+M*ne+T*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],p=e[10],m=e[14],g=e[3],_=e[7],x=e[11],v=e[15];return g*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*m-r*l*m)+_*(+n*l*m-n*u*p+s*o*p-i*o*m+i*u*c-s*l*c)+x*(+n*u*d-n*a*m-s*o*d+r*o*m+s*a*c-r*u*c)+v*(-i*a*c-n*l*d+n*a*p+i*o*d-r*o*p+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],p=e[10],m=e[11],g=e[12],_=e[13],x=e[14],v=e[15],S=d*x*u-_*p*u+_*l*m-a*x*m-d*l*v+a*p*v,w=g*p*u-c*x*u-g*l*m+o*x*m+c*l*v-o*p*v,M=c*_*u-g*d*u+g*a*m-o*_*m-c*a*v+o*d*v,T=g*d*l-c*_*l-g*a*p+o*_*p+c*a*x-o*d*x,A=n*S+r*w+i*M+s*T;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/A;return e[0]=S*R,e[1]=(_*p*s-d*x*s-_*i*m+r*x*m+d*i*v-r*p*v)*R,e[2]=(a*x*s-_*l*s+_*i*u-r*x*u-a*i*v+r*l*v)*R,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*m-r*l*m)*R,e[4]=w*R,e[5]=(c*x*s-g*p*s+g*i*m-n*x*m-c*i*v+n*p*v)*R,e[6]=(g*l*s-o*x*s-g*i*u+n*x*u+o*i*v-n*l*v)*R,e[7]=(o*p*s-c*l*s+c*i*u-n*p*u-o*i*m+n*l*m)*R,e[8]=M*R,e[9]=(g*d*s-c*_*s-g*r*m+n*_*m+c*r*v-n*d*v)*R,e[10]=(o*_*s-g*a*s+g*r*u-n*_*u-o*r*v+n*a*v)*R,e[11]=(c*a*s-o*d*s-c*r*u+n*d*u+o*r*m-n*a*m)*R,e[12]=T*R,e[13]=(c*_*i-g*d*i+g*r*p-n*_*p-c*r*x+n*d*x)*R,e[14]=(g*a*i-o*_*i-g*r*l+n*_*l+o*r*x-n*a*x)*R,e[15]=(o*d*i-c*a*i+c*r*l-n*d*l-o*r*p+n*a*p)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,d=a+a,p=s*u,m=s*c,g=s*d,_=o*c,x=o*d,v=a*d,S=l*u,w=l*c,M=l*d,T=r.x,A=r.y,R=r.z;return i[0]=(1-(_+v))*T,i[1]=(m+M)*T,i[2]=(g-w)*T,i[3]=0,i[4]=(m-M)*A,i[5]=(1-(p+v))*A,i[6]=(x+S)*A,i[7]=0,i[8]=(g+w)*R,i[9]=(x-S)*R,i[10]=(1-(p+_))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Ju.set(i[0],i[1],i[2]).length();const o=Ju.set(i[4],i[5],i[6]).length(),a=Ju.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],cs.copy(this);const u=1/s,c=1/o,d=1/a;return cs.elements[0]*=u,cs.elements[1]*=u,cs.elements[2]*=u,cs.elements[4]*=c,cs.elements[5]*=c,cs.elements[6]*=c,cs.elements[8]*=d,cs.elements[9]*=d,cs.elements[10]*=d,n.setFromRotationMatrix(cs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Ws){const l=this.elements,u=2*s/(n-e),c=2*s/(r-i),d=(n+e)/(n-e),p=(r+i)/(r-i);let m,g;if(a===Ws)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===ap)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=c,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Ws){const l=this.elements,u=1/(n-e),c=1/(r-i),d=1/(o-s),p=(n+e)*u,m=(r+i)*c;let g,_;if(a===Ws)g=(o+s)*d,_=-2*d;else if(a===ap)g=s*d,_=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ju=new j,cs=new Mt,fce=new j(0,0,0),hce=new j(1,1,1),aa=new j,bg=new j,Si=new j,zP=new Mt,VP=new Rr;class Fp{constructor(e=0,n=0,r=0,i=Fp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],d=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Ln(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ln(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ln(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ln(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ln(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Ln(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return zP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zP,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return VP.setFromEuler(this),this.setFromQuaternion(VP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Fp.DEFAULT_ORDER="XYZ";class Jl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let dce=0;const HP=new j,Qu=new Rr,mo=new Mt,Mg=new j,Bh=new j,pce=new j,mce=new Rr,GP=new j(1,0,0),WP=new j(0,1,0),jP=new j(0,0,1),gce={type:"added"},$P={type:"removed"};class Xt extends Go{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dce++}),this.uuid=Ri(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xt.DEFAULT_UP.clone();const e=new j,n=new Fp,r=new Rr,i=new j(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Mt},normalMatrix:{value:new Rt}}),this.matrix=new Mt,this.matrixWorld=new Mt,this.matrixAutoUpdate=Xt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Xt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Jl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Qu.setFromAxisAngle(e,n),this.quaternion.multiply(Qu),this}rotateOnWorldAxis(e,n){return Qu.setFromAxisAngle(e,n),this.quaternion.premultiply(Qu),this}rotateX(e){return this.rotateOnAxis(GP,e)}rotateY(e){return this.rotateOnAxis(WP,e)}rotateZ(e){return this.rotateOnAxis(jP,e)}translateOnAxis(e,n){return HP.copy(e).applyQuaternion(this.quaternion),this.position.add(HP.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(GP,e)}translateY(e){return this.translateOnAxis(WP,e)}translateZ(e){return this.translateOnAxis(jP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(mo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Mg.copy(e):Mg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Bh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mo.lookAt(Bh,Mg,this.up):mo.lookAt(Mg,Bh,this.up),this.quaternion.setFromRotationMatrix(mo),i&&(mo.extractRotation(i.matrixWorld),Qu.setFromRotationMatrix(mo),this.quaternion.premultiply(Qu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(gce)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent($P)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent($P)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),mo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),mo.multiply(e.parent.matrixWorld)),e.applyMatrix4(mo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bh,e,pce),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bh,mce,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Xt.DEFAULT_UP=new j(0,1,0);Xt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Xt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fs=new j,go=new j,Gx=new j,vo=new j,ec=new j,tc=new j,XP=new j,Wx=new j,jx=new j,$x=new j;let Eg=!1;class ni{constructor(e=new j,n=new j,r=new j){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),fs.subVectors(e,n),i.cross(fs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){fs.subVectors(i,n),go.subVectors(r,n),Gx.subVectors(e,n);const o=fs.dot(fs),a=fs.dot(go),l=fs.dot(Gx),u=go.dot(go),c=go.dot(Gx),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*c)*p,g=(o*c-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,vo),vo.x>=0&&vo.y>=0&&vo.x+vo.y<=1}static getUV(e,n,r,i,s,o,a,l){return Eg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Eg=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,vo),l.setScalar(0),l.addScaledVector(s,vo.x),l.addScaledVector(o,vo.y),l.addScaledVector(a,vo.z),l}static isFrontFacing(e,n,r,i){return fs.subVectors(r,n),go.subVectors(e,n),fs.cross(go).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fs.subVectors(this.c,this.b),go.subVectors(this.a,this.b),fs.cross(go).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ni.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ni.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Eg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Eg=!0),ni.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return ni.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return ni.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ni.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;ec.subVectors(i,r),tc.subVectors(s,r),Wx.subVectors(e,r);const l=ec.dot(Wx),u=tc.dot(Wx);if(l<=0&&u<=0)return n.copy(r);jx.subVectors(e,i);const c=ec.dot(jx),d=tc.dot(jx);if(c>=0&&d<=c)return n.copy(i);const p=l*d-c*u;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(ec,o);$x.subVectors(e,s);const m=ec.dot($x),g=tc.dot($x);if(g>=0&&m<=g)return n.copy(s);const _=m*u-l*g;if(_<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(tc,a);const x=c*g-m*d;if(x<=0&&d-c>=0&&m-g>=0)return XP.subVectors(s,i),a=(d-c)/(d-c+(m-g)),n.copy(i).addScaledVector(XP,a);const v=1/(x+_+p);return o=_*v,a=p*v,n.copy(r).addScaledVector(ec,o).addScaledVector(tc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let vce=0;class gr extends Go{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vce++}),this.uuid=Ri(),this.name="",this.type="Material",this.blending=Kl,this.side=ko,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=aM,this.blendDst=lM,this.blendEquation=Fl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Cv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=O0,this.stencilZFail=O0,this.stencilZPass=O0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Kl&&(r.blending=this.blending),this.side!==ko&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const uN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hs={h:0,s:0,l:0},Tg={h:0,s:0,l:0};function Xx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class et{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ct){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Yi.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Yi.workingColorSpace){return this.r=e,this.g=n,this.b=r,Yi.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Yi.workingColorSpace){if(e=SM(e,1),n=Ln(n,0,1),r=Ln(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=Xx(o,s,e+1/3),this.g=Xx(o,s,e),this.b=Xx(o,s,e-1/3)}return Yi.toWorkingColorSpace(this,i),this}setStyle(e,n=Ct){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ct){const r=uN[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=pf(e.r),this.g=pf(e.g),this.b=pf(e.b),this}copyLinearToSRGB(e){return this.r=Ux(e.r),this.g=Ux(e.g),this.b=Ux(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ct){return Yi.fromWorkingColorSpace(Ar.copy(this),e),Math.round(Ln(Ar.r*255,0,255))*65536+Math.round(Ln(Ar.g*255,0,255))*256+Math.round(Ln(Ar.b*255,0,255))}getHexString(e=Ct){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Yi.workingColorSpace){Yi.fromWorkingColorSpace(Ar.copy(this),n);const r=Ar.r,i=Ar.g,s=Ar.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=c<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Yi.workingColorSpace){return Yi.fromWorkingColorSpace(Ar.copy(this),n),e.r=Ar.r,e.g=Ar.g,e.b=Ar.b,e}getStyle(e=Ct){Yi.fromWorkingColorSpace(Ar.copy(this),e);const n=Ar.r,r=Ar.g,i=Ar.b;return e!==Ct?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(hs),hs.h+=e,hs.s+=n,hs.l+=r,this.setHSL(hs.h,hs.s,hs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(hs),e.getHSL(Tg);const r=wd(hs.h,Tg.h,n),i=wd(hs.s,Tg.s,n),s=wd(hs.l,Tg.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ar=new et;et.NAMES=uN;class Wo extends gr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=kp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bo=yce();function yce(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ei(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Ln(t,-65504,65504),bo.floatView[0]=t;const e=bo.uint32View[0],n=e>>23&511;return bo.baseTable[n]+((e&8388607)>>bo.shiftTable[n])}function id(t){const e=t>>10;return bo.uint32View[0]=bo.mantissaTable[bo.offsetTable[e]+(t&1023)]+bo.exponentTable[e],bo.floatView[0]}const xce={toHalfFloat:ei,fromHalfFloat:id},Gn=new j,Ag=new Oe;class tn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=op,this.updateRange={offset:0,count:-1},this.gpuType=Gs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Ag.fromBufferAttribute(this,n),Ag.applyMatrix3(e),this.setXY(n,Ag.x,Ag.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.applyMatrix3(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.applyMatrix4(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.applyNormalMatrix(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.transformDirection(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ti(n,this.array)),n}setX(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ti(n,this.array)),n}setY(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ti(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ti(n,this.array)),n}setW(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array),s=Dt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==op&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class _ce extends tn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Sce extends tn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class wce extends tn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class bce extends tn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class MM extends tn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Mce extends tn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class EM extends tn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Ece extends tn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=id(this.array[e*this.itemSize]);return this.normalized&&(n=Ti(n,this.array)),n}setX(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize]=ei(n),this}getY(e){let n=id(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ti(n,this.array)),n}setY(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+1]=ei(n),this}getZ(e){let n=id(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ti(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+2]=ei(n),this}getW(e){let n=id(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ti(n,this.array)),n}setW(e,n){return this.normalized&&(n=Dt(n,this.array)),this.array[e*this.itemSize+3]=ei(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array)),this.array[e+0]=ei(n),this.array[e+1]=ei(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array)),this.array[e+0]=ei(n),this.array[e+1]=ei(r),this.array[e+2]=ei(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array),s=Dt(s,this.array)),this.array[e+0]=ei(n),this.array[e+1]=ei(r),this.array[e+2]=ei(i),this.array[e+3]=ei(s),this}}class ot extends tn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Tce extends tn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Ace=0;const Xi=new Mt,Yx=new Xt,nc=new j,wi=new is,zh=new is,lr=new j;class It extends Go{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ace++}),this.uuid=Ri(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lN(e)?EM:MM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Rt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xi.makeRotationFromQuaternion(e),this.applyMatrix4(Xi),this}rotateX(e){return Xi.makeRotationX(e),this.applyMatrix4(Xi),this}rotateY(e){return Xi.makeRotationY(e),this.applyMatrix4(Xi),this}rotateZ(e){return Xi.makeRotationZ(e),this.applyMatrix4(Xi),this}translate(e,n,r){return Xi.makeTranslation(e,n,r),this.applyMatrix4(Xi),this}scale(e,n,r){return Xi.makeScale(e,n,r),this.applyMatrix4(Xi),this}lookAt(e){return Yx.lookAt(e),Yx.updateMatrix(),this.applyMatrix4(Yx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(nc).negate(),this.translate(nc.x,nc.y,nc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ot(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new j(-1/0,-1/0,-1/0),new j(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];wi.setFromBufferAttribute(s),this.morphTargetsRelative?(lr.addVectors(this.boundingBox.min,wi.min),this.boundingBox.expandByPoint(lr),lr.addVectors(this.boundingBox.max,wi.max),this.boundingBox.expandByPoint(lr)):(this.boundingBox.expandByPoint(wi.min),this.boundingBox.expandByPoint(wi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ss);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new j,1/0);return}if(e){const r=this.boundingSphere.center;if(wi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];zh.setFromBufferAttribute(a),this.morphTargetsRelative?(lr.addVectors(wi.min,zh.min),wi.expandByPoint(lr),lr.addVectors(wi.max,zh.max),wi.expandByPoint(lr)):(wi.expandByPoint(zh.min),wi.expandByPoint(zh.max))}wi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)lr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(lr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)lr.fromBufferAttribute(a,u),l&&(nc.fromBufferAttribute(e,u),lr.add(nc)),i=Math.max(i,r.distanceToSquared(lr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new tn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let P=0;P<a;P++)u[P]=new j,c[P]=new j;const d=new j,p=new j,m=new j,g=new Oe,_=new Oe,x=new Oe,v=new j,S=new j;function w(P,F,B){d.fromArray(i,P*3),p.fromArray(i,F*3),m.fromArray(i,B*3),g.fromArray(o,P*2),_.fromArray(o,F*2),x.fromArray(o,B*2),p.sub(d),m.sub(d),_.sub(g),x.sub(g);const W=1/(_.x*x.y-x.x*_.y);isFinite(W)&&(v.copy(p).multiplyScalar(x.y).addScaledVector(m,-_.y).multiplyScalar(W),S.copy(m).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(W),u[P].add(v),u[F].add(v),u[B].add(v),c[P].add(S),c[F].add(S),c[B].add(S))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let P=0,F=M.length;P<F;++P){const B=M[P],W=B.start,G=B.count;for(let q=W,ee=W+G;q<ee;q+=3)w(r[q+0],r[q+1],r[q+2])}const T=new j,A=new j,R=new j,L=new j;function C(P){R.fromArray(s,P*3),L.copy(R);const F=u[P];T.copy(F),T.sub(R.multiplyScalar(R.dot(F))).normalize(),A.crossVectors(L,F);const W=A.dot(c[P])<0?-1:1;l[P*4]=T.x,l[P*4+1]=T.y,l[P*4+2]=T.z,l[P*4+3]=W}for(let P=0,F=M.length;P<F;++P){const B=M[P],W=B.start,G=B.count;for(let q=W,ee=W+G;q<ee;q+=3)C(r[q+0]),C(r[q+1]),C(r[q+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new tn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new j,s=new j,o=new j,a=new j,l=new j,u=new j,c=new j,d=new j;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,_),o.fromBufferAttribute(n,x),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,x),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)lr.fromBufferAttribute(e,n),lr.normalize(),e.setXYZ(n,lr.x,lr.y,lr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,p=new u.constructor(l.length*c);let m=0,g=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*c;for(let v=0;v<c;v++)p[g++]=u[m++]}return new tn(p,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new It,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,d=u.length;c<d;c++){const p=u[c],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],d=s[u];for(let p=0,m=d.length;p<m;p++)c.push(d[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const YP=new Mt,Sl=new Mu,Cg=new ss,qP=new j,rc=new j,ic=new j,sc=new j,qx=new j,Pg=new j,Rg=new Oe,Lg=new Oe,Dg=new Oe,KP=new j,ZP=new j,JP=new j,Ig=new j,Og=new j;class $n extends Xt{constructor(e=new It,n=new Wo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Pg.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],d=s[l];c!==0&&(qx.fromBufferAttribute(d,e),o?Pg.addScaledVector(qx,c):Pg.addScaledVector(qx.sub(n),c))}n.add(Pg)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Cg.copy(r.boundingSphere),Cg.applyMatrix4(s),Sl.copy(e.ray).recast(e.near),!(Cg.containsPoint(Sl.origin)===!1&&(Sl.intersectSphere(Cg,qP)===null||Sl.origin.distanceToSquared(qP)>(e.far-e.near)**2))&&(YP.copy(s).invert(),Sl.copy(e.ray).applyMatrix4(YP),!(r.boundingBox!==null&&Sl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Sl)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,_=p.length;g<_;g++){const x=p[g],v=o[x.materialIndex],S=Math.max(x.start,m.start),w=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let M=S,T=w;M<T;M+=3){const A=a.getX(M),R=a.getX(M+1),L=a.getX(M+2);i=Ug(this,v,e,r,u,c,d,A,R,L),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=g,v=_;x<v;x+=3){const S=a.getX(x),w=a.getX(x+1),M=a.getX(x+2);i=Ug(this,o,e,r,u,c,d,S,w,M),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,_=p.length;g<_;g++){const x=p[g],v=o[x.materialIndex],S=Math.max(x.start,m.start),w=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let M=S,T=w;M<T;M+=3){const A=M,R=M+1,L=M+2;i=Ug(this,v,e,r,u,c,d,A,R,L),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=g,v=_;x<v;x+=3){const S=x,w=x+1,M=x+2;i=Ug(this,o,e,r,u,c,d,S,w,M),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function Cce(t,e,n,r,i,s,o,a){let l;if(e.side===Wr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ko,a),l===null)return null;Og.copy(a),Og.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Og);return u<n.near||u>n.far?null:{distance:u,point:Og.clone(),object:t}}function Ug(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,rc),t.getVertexPosition(l,ic),t.getVertexPosition(u,sc);const c=Cce(t,e,n,r,rc,ic,sc,Ig);if(c){i&&(Rg.fromBufferAttribute(i,a),Lg.fromBufferAttribute(i,l),Dg.fromBufferAttribute(i,u),c.uv=ni.getInterpolation(Ig,rc,ic,sc,Rg,Lg,Dg,new Oe)),s&&(Rg.fromBufferAttribute(s,a),Lg.fromBufferAttribute(s,l),Dg.fromBufferAttribute(s,u),c.uv1=ni.getInterpolation(Ig,rc,ic,sc,Rg,Lg,Dg,new Oe),c.uv2=c.uv1),o&&(KP.fromBufferAttribute(o,a),ZP.fromBufferAttribute(o,l),JP.fromBufferAttribute(o,u),c.normal=ni.getInterpolation(Ig,rc,ic,sc,KP,ZP,JP,new j),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new j,materialIndex:0};ni.getNormal(rc,ic,sc,d.normal),c.face=d}return c}class el extends It{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],d=[];let p=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ot(u,3)),this.setAttribute("normal",new ot(c,3)),this.setAttribute("uv",new ot(d,2));function g(_,x,v,S,w,M,T,A,R,L,C){const P=M/R,F=T/L,B=M/2,W=T/2,G=A/2,q=R+1,ee=L+1;let ne=0,U=0;const z=new j;for(let k=0;k<ee;k++){const N=k*F-W;for(let I=0;I<q;I++){const J=I*P-B;z[_]=J*S,z[x]=N*w,z[v]=G,u.push(z.x,z.y,z.z),z[_]=0,z[x]=0,z[v]=A>0?1:-1,c.push(z.x,z.y,z.z),d.push(I/R),d.push(1-k/L),ne+=1}}for(let k=0;k<L;k++)for(let N=0;N<R;N++){const I=p+N+q*k,J=p+N+q*(k+1),Z=p+(N+1)+q*(k+1),te=p+(N+1)+q*k;l.push(I,J,te),l.push(J,Z,te),U+=6}a.addGroup(m,U,C),m+=U,p+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new el(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Cf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function zr(t){const e={};for(let n=0;n<t.length;n++){const r=Cf(t[n]);for(const i in r)e[i]=r[i]}return e}function Pce(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function cN(t){return t.getRenderTarget()===null?t.outputColorSpace:Es}const TM={clone:Cf,merge:zr};var Rce=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Lce=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Zs extends gr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Rce,this.fragmentShader=Lce,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Cf(e.uniforms),this.uniformsGroups=Pce(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Bp extends Xt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Mt,this.projectionMatrix=new Mt,this.projectionMatrixInverse=new Mt,this.coordinateSystem=Ws}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Bn extends Bp{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Af*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Zl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Af*2*Math.atan(Math.tan(Zl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Zl*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const oc=-90,ac=1;class fN extends Xt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Bn(oc,ac,e,n);i.layers=this.layers,this.add(i);const s=new Bn(oc,ac,e,n);s.layers=this.layers,this.add(s);const o=new Bn(oc,ac,e,n);o.layers=this.layers,this.add(o);const a=new Bn(oc,ac,e,n);a.layers=this.layers,this.add(a);const l=new Bn(oc,ac,e,n);l.layers=this.layers,this.add(l);const u=new Bn(oc,ac,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Ws)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ap)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=bs,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class zp extends En{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Ga,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class hN extends Ts{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(bd("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Oa?Ct:Ua),this.texture=new zp(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:_n}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new el(5,5,5),s=new Zs({name:"CubemapFromEquirect",uniforms:Cf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Wr,blending:Lo});s.uniforms.tEquirect.value=n;const o=new $n(i,s),a=n.minFilter;return n.minFilter===ja&&(n.minFilter=_n),new fN(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const Kx=new j,Dce=new j,Ice=new Rt;class wo{constructor(e=new j(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Kx.subVectors(r,n).cross(Dce.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Kx),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Ice.getNormalMatrix(e),i=this.coplanarPoint(Kx).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wl=new ss,Ng=new j;class Cy{constructor(e=new wo,n=new wo,r=new wo,i=new wo,s=new wo,o=new wo){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ws){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],c=i[5],d=i[6],p=i[7],m=i[8],g=i[9],_=i[10],x=i[11],v=i[12],S=i[13],w=i[14],M=i[15];if(r[0].setComponents(l-s,p-u,x-m,M-v).normalize(),r[1].setComponents(l+s,p+u,x+m,M+v).normalize(),r[2].setComponents(l+o,p+c,x+g,M+S).normalize(),r[3].setComponents(l-o,p-c,x-g,M-S).normalize(),r[4].setComponents(l-a,p-d,x-_,M-w).normalize(),n===Ws)r[5].setComponents(l+a,p+d,x+_,M+w).normalize();else if(n===ap)r[5].setComponents(a,d,_,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wl)}intersectsSprite(e){return wl.center.set(0,0,0),wl.radius=.7071067811865476,wl.applyMatrix4(e.matrixWorld),this.intersectsSphere(wl)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Ng.x=i.normal.x>0?e.max.x:e.min.x,Ng.y=i.normal.y>0?e.max.y:e.min.y,Ng.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ng)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function dN(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Oce(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const d=u.array,p=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,d,p),u.onUploadCallback();let g;if(d instanceof Float32Array)g=t.FLOAT;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)g=t.SHORT;else if(d instanceof Uint32Array)g=t.UNSIGNED_INT;else if(d instanceof Int32Array)g=t.INT;else if(d instanceof Int8Array)g=t.BYTE;else if(d instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,d){const p=c.array,m=c.updateRange;t.bindBuffer(d,u),m.count===-1?t.bufferSubData(d,0,p):(n?t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,c)):d.version<u.version&&(s(d.buffer,u,c),d.version=u.version)}return{get:o,remove:a,update:l}}class jo extends It{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,d=e/a,p=n/l,m=[],g=[],_=[],x=[];for(let v=0;v<c;v++){const S=v*p-o;for(let w=0;w<u;w++){const M=w*d-s;g.push(M,-S,0),_.push(0,0,1),x.push(w/a),x.push(1-v/l)}}for(let v=0;v<l;v++)for(let S=0;S<a;S++){const w=S+u*v,M=S+u*(v+1),T=S+1+u*(v+1),A=S+1+u*v;m.push(w,M,A),m.push(M,T,A)}this.setIndex(m),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(_,3)),this.setAttribute("uv",new ot(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jo(e.width,e.height,e.widthSegments,e.heightSegments)}}var Uce=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Nce=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kce=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Fce=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Bce=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,zce=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Vce="vec3 transformed = vec3( position );",Hce=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Gce=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Wce=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,jce=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$ce=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Xce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Yce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qce=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Kce=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Zce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Jce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Qce=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,efe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tfe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,nfe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rfe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ife=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,sfe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ofe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,afe="gl_FragColor = linearToOutputTexel( gl_FragColor );",lfe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ufe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,cfe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ffe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hfe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,pfe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,mfe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gfe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vfe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,yfe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xfe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,_fe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Sfe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,wfe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,bfe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Mfe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Efe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Tfe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Afe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Cfe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Pfe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Rfe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Lfe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Dfe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Ife=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Ofe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Ufe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Nfe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,kfe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Ffe=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Bfe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,zfe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Vfe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hfe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Gfe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Wfe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,jfe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,$fe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Xfe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Yfe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,qfe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Kfe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Zfe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jfe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Qfe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ehe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,the=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,nhe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rhe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ihe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,she=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ohe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ahe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,lhe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uhe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,che=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,fhe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hhe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,dhe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,phe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,mhe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ghe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vhe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,yhe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xhe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_he=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,She=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,whe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,bhe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Mhe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ehe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,The=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ahe=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Che=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Phe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Rhe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Lhe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Dhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ihe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Ohe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Uhe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Nhe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,khe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Fhe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Bhe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Vhe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Hhe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ghe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Whe=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,jhe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$he=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xhe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yhe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qhe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Khe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Zhe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Jhe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qhe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ede=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tde=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nde=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rde=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ide=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sde=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ode=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ade=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,lde=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ude=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Pt={alphamap_fragment:Uce,alphamap_pars_fragment:Nce,alphatest_fragment:kce,alphatest_pars_fragment:Fce,aomap_fragment:Bce,aomap_pars_fragment:zce,begin_vertex:Vce,beginnormal_vertex:Hce,bsdfs:Gce,iridescence_fragment:Wce,bumpmap_pars_fragment:jce,clipping_planes_fragment:$ce,clipping_planes_pars_fragment:Xce,clipping_planes_pars_vertex:Yce,clipping_planes_vertex:qce,color_fragment:Kce,color_pars_fragment:Zce,color_pars_vertex:Jce,color_vertex:Qce,common:efe,cube_uv_reflection_fragment:tfe,defaultnormal_vertex:nfe,displacementmap_pars_vertex:rfe,displacementmap_vertex:ife,emissivemap_fragment:sfe,emissivemap_pars_fragment:ofe,encodings_fragment:afe,encodings_pars_fragment:lfe,envmap_fragment:ufe,envmap_common_pars_fragment:cfe,envmap_pars_fragment:ffe,envmap_pars_vertex:hfe,envmap_physical_pars_fragment:Mfe,envmap_vertex:dfe,fog_vertex:pfe,fog_pars_vertex:mfe,fog_fragment:gfe,fog_pars_fragment:vfe,gradientmap_pars_fragment:yfe,lightmap_fragment:xfe,lightmap_pars_fragment:_fe,lights_lambert_fragment:Sfe,lights_lambert_pars_fragment:wfe,lights_pars_begin:bfe,lights_toon_fragment:Efe,lights_toon_pars_fragment:Tfe,lights_phong_fragment:Afe,lights_phong_pars_fragment:Cfe,lights_physical_fragment:Pfe,lights_physical_pars_fragment:Rfe,lights_fragment_begin:Lfe,lights_fragment_maps:Dfe,lights_fragment_end:Ife,logdepthbuf_fragment:Ofe,logdepthbuf_pars_fragment:Ufe,logdepthbuf_pars_vertex:Nfe,logdepthbuf_vertex:kfe,map_fragment:Ffe,map_pars_fragment:Bfe,map_particle_fragment:zfe,map_particle_pars_fragment:Vfe,metalnessmap_fragment:Hfe,metalnessmap_pars_fragment:Gfe,morphcolor_vertex:Wfe,morphnormal_vertex:jfe,morphtarget_pars_vertex:$fe,morphtarget_vertex:Xfe,normal_fragment_begin:Yfe,normal_fragment_maps:qfe,normal_pars_fragment:Kfe,normal_pars_vertex:Zfe,normal_vertex:Jfe,normalmap_pars_fragment:Qfe,clearcoat_normal_fragment_begin:ehe,clearcoat_normal_fragment_maps:the,clearcoat_pars_fragment:nhe,iridescence_pars_fragment:rhe,output_fragment:ihe,packing:she,premultiplied_alpha_fragment:ohe,project_vertex:ahe,dithering_fragment:lhe,dithering_pars_fragment:uhe,roughnessmap_fragment:che,roughnessmap_pars_fragment:fhe,shadowmap_pars_fragment:hhe,shadowmap_pars_vertex:dhe,shadowmap_vertex:phe,shadowmask_pars_fragment:mhe,skinbase_vertex:ghe,skinning_pars_vertex:vhe,skinning_vertex:yhe,skinnormal_vertex:xhe,specularmap_fragment:_he,specularmap_pars_fragment:She,tonemapping_fragment:whe,tonemapping_pars_fragment:bhe,transmission_fragment:Mhe,transmission_pars_fragment:Ehe,uv_pars_fragment:The,uv_pars_vertex:Ahe,uv_vertex:Che,worldpos_vertex:Phe,background_vert:Rhe,background_frag:Lhe,backgroundCube_vert:Dhe,backgroundCube_frag:Ihe,cube_vert:Ohe,cube_frag:Uhe,depth_vert:Nhe,depth_frag:khe,distanceRGBA_vert:Fhe,distanceRGBA_frag:Bhe,equirect_vert:zhe,equirect_frag:Vhe,linedashed_vert:Hhe,linedashed_frag:Ghe,meshbasic_vert:Whe,meshbasic_frag:jhe,meshlambert_vert:$he,meshlambert_frag:Xhe,meshmatcap_vert:Yhe,meshmatcap_frag:qhe,meshnormal_vert:Khe,meshnormal_frag:Zhe,meshphong_vert:Jhe,meshphong_frag:Qhe,meshphysical_vert:ede,meshphysical_frag:tde,meshtoon_vert:nde,meshtoon_frag:rde,points_vert:ide,points_frag:sde,shadow_vert:ode,shadow_frag:ade,sprite_vert:lde,sprite_frag:ude},Je={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Rt},alphaMap:{value:null},alphaMapTransform:{value:new Rt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Rt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Rt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Rt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Rt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Rt},normalScale:{value:new Oe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Rt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Rt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Rt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Rt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Rt},alphaTest:{value:0},uvTransform:{value:new Rt}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Oe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Rt},alphaMap:{value:null},alphaMapTransform:{value:new Rt},alphaTest:{value:0}}},ys={basic:{uniforms:zr([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:Pt.meshbasic_vert,fragmentShader:Pt.meshbasic_frag},lambert:{uniforms:zr([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new et(0)}}]),vertexShader:Pt.meshlambert_vert,fragmentShader:Pt.meshlambert_frag},phong:{uniforms:zr([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:Pt.meshphong_vert,fragmentShader:Pt.meshphong_frag},standard:{uniforms:zr([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Pt.meshphysical_vert,fragmentShader:Pt.meshphysical_frag},toon:{uniforms:zr([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new et(0)}}]),vertexShader:Pt.meshtoon_vert,fragmentShader:Pt.meshtoon_frag},matcap:{uniforms:zr([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:Pt.meshmatcap_vert,fragmentShader:Pt.meshmatcap_frag},points:{uniforms:zr([Je.points,Je.fog]),vertexShader:Pt.points_vert,fragmentShader:Pt.points_frag},dashed:{uniforms:zr([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Pt.linedashed_vert,fragmentShader:Pt.linedashed_frag},depth:{uniforms:zr([Je.common,Je.displacementmap]),vertexShader:Pt.depth_vert,fragmentShader:Pt.depth_frag},normal:{uniforms:zr([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:Pt.meshnormal_vert,fragmentShader:Pt.meshnormal_frag},sprite:{uniforms:zr([Je.sprite,Je.fog]),vertexShader:Pt.sprite_vert,fragmentShader:Pt.sprite_frag},background:{uniforms:{uvTransform:{value:new Rt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Pt.background_vert,fragmentShader:Pt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Pt.backgroundCube_vert,fragmentShader:Pt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Pt.cube_vert,fragmentShader:Pt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Pt.equirect_vert,fragmentShader:Pt.equirect_frag},distanceRGBA:{uniforms:zr([Je.common,Je.displacementmap,{referencePosition:{value:new j},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Pt.distanceRGBA_vert,fragmentShader:Pt.distanceRGBA_frag},shadow:{uniforms:zr([Je.lights,Je.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:Pt.shadow_vert,fragmentShader:Pt.shadow_frag}};ys.physical={uniforms:zr([ys.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Rt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Rt},clearcoatNormalScale:{value:new Oe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Rt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Rt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Rt},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Rt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Rt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Rt},transmissionSamplerSize:{value:new Oe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Rt},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Rt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Rt},anisotropyVector:{value:new Oe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Rt}}]),vertexShader:Pt.meshphysical_vert,fragmentShader:Pt.meshphysical_frag};const kg={r:0,b:0,g:0};function cde(t,e,n,r,i,s,o){const a=new et(0);let l=s===!0?0:1,u,c,d=null,p=0,m=null;function g(x,v){let S=!1,w=v.isScene===!0?v.background:null;switch(w&&w.isTexture&&(w=(v.backgroundBlurriness>0?n:e).get(w)),w===null?_(a,l):w&&w.isColor&&(_(w,1),S=!0),t.xr.getEnvironmentBlendMode()){case"opaque":S=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),S=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),S=!0;break}(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===jf)?(c===void 0&&(c=new $n(new el(1,1,1),new Zs({name:"BackgroundCubeMaterial",uniforms:Cf(ys.backgroundCube.uniforms),vertexShader:ys.backgroundCube.vertexShader,fragmentShader:ys.backgroundCube.fragmentShader,side:Wr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(A,R,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=w.colorSpace!==Ct,(d!==w||p!==w.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=w,p=w.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new $n(new jo(2,2),new Zs({name:"BackgroundMaterial",uniforms:Cf(ys.background.uniforms),vertexShader:ys.background.vertexShader,fragmentShader:ys.background.fragmentShader,side:ko,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=w.colorSpace!==Ct,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||p!==w.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=w,p=w.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function _(x,v){x.getRGB(kg,cN(t)),r.buffers.color.setClear(kg.r,kg.g,kg.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(x,v=1){a.set(x),l=v,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,_(a,l)},render:g}}function fde(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let u=l,c=!1;function d(G,q,ee,ne,U){let z=!1;if(o){const k=_(ne,ee,q);u!==k&&(u=k,m(u.object)),z=v(G,ne,ee,U),z&&S(G,ne,ee,U)}else{const k=q.wireframe===!0;(u.geometry!==ne.id||u.program!==ee.id||u.wireframe!==k)&&(u.geometry=ne.id,u.program=ee.id,u.wireframe=k,z=!0)}U!==null&&n.update(U,t.ELEMENT_ARRAY_BUFFER),(z||c)&&(c=!1,L(G,q,ee,ne),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(U).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(G){return r.isWebGL2?t.bindVertexArray(G):s.bindVertexArrayOES(G)}function g(G){return r.isWebGL2?t.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function _(G,q,ee){const ne=ee.wireframe===!0;let U=a[G.id];U===void 0&&(U={},a[G.id]=U);let z=U[q.id];z===void 0&&(z={},U[q.id]=z);let k=z[ne];return k===void 0&&(k=x(p()),z[ne]=k),k}function x(G){const q=[],ee=[],ne=[];for(let U=0;U<i;U++)q[U]=0,ee[U]=0,ne[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:ee,attributeDivisors:ne,object:G,attributes:{},index:null}}function v(G,q,ee,ne){const U=u.attributes,z=q.attributes;let k=0;const N=ee.getAttributes();for(const I in N)if(N[I].location>=0){const Z=U[I];let te=z[I];if(te===void 0&&(I==="instanceMatrix"&&G.instanceMatrix&&(te=G.instanceMatrix),I==="instanceColor"&&G.instanceColor&&(te=G.instanceColor)),Z===void 0||Z.attribute!==te||te&&Z.data!==te.data)return!0;k++}return u.attributesNum!==k||u.index!==ne}function S(G,q,ee,ne){const U={},z=q.attributes;let k=0;const N=ee.getAttributes();for(const I in N)if(N[I].location>=0){let Z=z[I];Z===void 0&&(I==="instanceMatrix"&&G.instanceMatrix&&(Z=G.instanceMatrix),I==="instanceColor"&&G.instanceColor&&(Z=G.instanceColor));const te={};te.attribute=Z,Z&&Z.data&&(te.data=Z.data),U[I]=te,k++}u.attributes=U,u.attributesNum=k,u.index=ne}function w(){const G=u.newAttributes;for(let q=0,ee=G.length;q<ee;q++)G[q]=0}function M(G){T(G,0)}function T(G,q){const ee=u.newAttributes,ne=u.enabledAttributes,U=u.attributeDivisors;ee[G]=1,ne[G]===0&&(t.enableVertexAttribArray(G),ne[G]=1),U[G]!==q&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,q),U[G]=q)}function A(){const G=u.newAttributes,q=u.enabledAttributes;for(let ee=0,ne=q.length;ee<ne;ee++)q[ee]!==G[ee]&&(t.disableVertexAttribArray(ee),q[ee]=0)}function R(G,q,ee,ne,U,z,k){k===!0?t.vertexAttribIPointer(G,q,ee,U,z):t.vertexAttribPointer(G,q,ee,ne,U,z)}function L(G,q,ee,ne){if(r.isWebGL2===!1&&(G.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const U=ne.attributes,z=ee.getAttributes(),k=q.defaultAttributeValues;for(const N in z){const I=z[N];if(I.location>=0){let J=U[N];if(J===void 0&&(N==="instanceMatrix"&&G.instanceMatrix&&(J=G.instanceMatrix),N==="instanceColor"&&G.instanceColor&&(J=G.instanceColor)),J!==void 0){const Z=J.normalized,te=J.itemSize,ie=n.get(J);if(ie===void 0)continue;const se=ie.buffer,_e=ie.type,Ie=ie.bytesPerElement,We=r.isWebGL2===!0&&(_e===t.INT||_e===t.UNSIGNED_INT||J.gpuType===fM);if(J.isInterleavedBufferAttribute){const Se=J.data,H=Se.stride,be=J.offset;if(Se.isInstancedInterleavedBuffer){for(let he=0;he<I.locationSize;he++)T(I.location+he,Se.meshPerAttribute);G.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let he=0;he<I.locationSize;he++)M(I.location+he);t.bindBuffer(t.ARRAY_BUFFER,se);for(let he=0;he<I.locationSize;he++)R(I.location+he,te/I.locationSize,_e,Z,H*Ie,(be+te/I.locationSize*he)*Ie,We)}else{if(J.isInstancedBufferAttribute){for(let Se=0;Se<I.locationSize;Se++)T(I.location+Se,J.meshPerAttribute);G.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let Se=0;Se<I.locationSize;Se++)M(I.location+Se);t.bindBuffer(t.ARRAY_BUFFER,se);for(let Se=0;Se<I.locationSize;Se++)R(I.location+Se,te/I.locationSize,_e,Z,te*Ie,te/I.locationSize*Se*Ie,We)}}else if(k!==void 0){const Z=k[N];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(I.location,Z);break;case 3:t.vertexAttrib3fv(I.location,Z);break;case 4:t.vertexAttrib4fv(I.location,Z);break;default:t.vertexAttrib1fv(I.location,Z)}}}}A()}function C(){B();for(const G in a){const q=a[G];for(const ee in q){const ne=q[ee];for(const U in ne)g(ne[U].object),delete ne[U];delete q[ee]}delete a[G]}}function P(G){if(a[G.id]===void 0)return;const q=a[G.id];for(const ee in q){const ne=q[ee];for(const U in ne)g(ne[U].object),delete ne[U];delete q[ee]}delete a[G.id]}function F(G){for(const q in a){const ee=a[q];if(ee[G.id]===void 0)continue;const ne=ee[G.id];for(const U in ne)g(ne[U].object),delete ne[U];delete ee[G.id]}}function B(){W(),c=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:B,resetDefaultState:W,dispose:C,releaseStatesOfGeometry:P,releaseStatesOfProgram:F,initAttributes:w,enableAttribute:M,disableUnusedAttributes:A}}function hde(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,d){if(d===0)return;let p,m;if(i)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,c,d),n.update(c,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function dde(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,M=o||e.has("OES_texture_float"),T=w&&M,A=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:_,maxVertexUniforms:x,maxVaryings:v,maxFragmentUniforms:S,vertexTextures:w,floatFragmentTextures:M,floatVertexTextures:T,maxSamples:A}}function pde(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new wo,a=new Rt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||r!==0||i;return i=p,r=d.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=c(d,p,0)},this.setState=function(d,p,m){const g=d.clippingPlanes,_=d.clipIntersection,x=d.clipShadows,v=t.get(d);if(!i||g===null||g.length===0||s&&!x)s?c(null):u();else{const S=s?0:r,w=S*4;let M=v.clippingState||null;l.value=M,M=c(g,p,w,m);for(let T=0;T!==w;++T)M[T]=n[T];v.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,p,m,g){const _=d!==null?d.length:0;let x=null;if(_!==0){if(x=l.value,g!==!0||x===null){const v=m+_*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(x===null||x.length<v)&&(x=new Float32Array(v));for(let w=0,M=m;w!==_;++w,M+=4)o.copy(d[w]).applyMatrix4(S,a),o.normal.toArray(x,M),x[M+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function mde(t){let e=new WeakMap;function n(o,a){return a===Qd?o.mapping=Ga:a===ep&&(o.mapping=Wa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Qd||a===ep)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new hN(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Na extends Bp{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const tf=4,QP=[.125,.215,.35,.446,.526,.582],Bl=20,Zx=new Na,eR=new et;let Jx=null;const kl=(1+Math.sqrt(5))/2,lc=1/kl,tR=[new j(1,1,1),new j(-1,1,1),new j(1,1,-1),new j(-1,1,-1),new j(0,kl,lc),new j(0,kl,-lc),new j(lc,0,kl),new j(-lc,0,kl),new j(kl,lc,0),new j(-kl,lc,0)];class DS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Jx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Jx),e.scissorTest=!1,Fg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ga||e.mapping===Wa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Jx=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:_n,minFilter:_n,generateMipmaps:!1,type:Tf,format:ri,colorSpace:Es,depthBuffer:!1},i=nR(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nR(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gde(s)),this._blurMaterial=vde(s,e,n)}return i}_compileMaterial(e){const n=new $n(this._lodPlanes[0],e);this._renderer.compile(n,Zx)}_sceneToCubeUV(e,n,r,i){const a=new Bn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,p=c.toneMapping;c.getClearColor(eR),c.toneMapping=bs,c.autoClear=!1;const m=new Wo({name:"PMREM.Background",side:Wr,depthWrite:!1,depthTest:!1}),g=new $n(new el,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(eR),_=!0);for(let v=0;v<6;v++){const S=v%3;S===0?(a.up.set(0,l[v],0),a.lookAt(u[v],0,0)):S===1?(a.up.set(0,0,l[v]),a.lookAt(0,u[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,u[v]));const w=this._cubeSize;Fg(i,S*w,v>2?w:0,w,w),c.setRenderTarget(i),_&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=p,c.autoClear=d,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ga||e.mapping===Wa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=iR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new $n(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Fg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,Zx)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=tR[(i-1)%tR.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new $n(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Bl-1),_=s/g,x=isFinite(s)?1+Math.floor(c*_):Bl;x>Bl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Bl}`);const v=[];let S=0;for(let R=0;R<Bl;++R){const L=R/_,C=Math.exp(-L*L/2);v.push(C),R===0?S+=C:R<x&&(S+=2*C)}for(let R=0;R<v.length;R++)v[R]=v[R]/S;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=g,p.mipInt.value=w-r;const M=this._sizeLods[i],T=3*M*(i>w-tf?i-w+tf:0),A=4*(this._cubeSize-M);Fg(n,T,A,3*M,2*M),l.setRenderTarget(n),l.render(d,Zx)}}function gde(t){const e=[],n=[],r=[];let i=t;const s=t-tf+1+QP.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-tf?l=QP[o-t+tf-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,d=1+u,p=[c,c,d,c,d,d,c,c,d,d,c,d],m=6,g=6,_=3,x=2,v=1,S=new Float32Array(_*g*m),w=new Float32Array(x*g*m),M=new Float32Array(v*g*m);for(let A=0;A<m;A++){const R=A%3*2/3-1,L=A>2?0:-1,C=[R,L,0,R+2/3,L,0,R+2/3,L+1,0,R,L,0,R+2/3,L+1,0,R,L+1,0];S.set(C,_*g*A),w.set(p,x*g*A);const P=[A,A,A,A,A,A];M.set(P,v*g*A)}const T=new It;T.setAttribute("position",new tn(S,_)),T.setAttribute("uv",new tn(w,x)),T.setAttribute("faceIndex",new tn(M,v)),e.push(T),i>tf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function nR(t,e,n){const r=new Ts(t,e,n);return r.texture.mapping=jf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Fg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function vde(t,e,n){const r=new Float32Array(Bl),i=new j(0,1,0);return new Zs({name:"SphericalGaussianBlur",defines:{n:Bl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:AM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lo,depthTest:!1,depthWrite:!1})}function rR(){return new Zs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:AM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lo,depthTest:!1,depthWrite:!1})}function iR(){return new Zs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:AM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lo,depthTest:!1,depthWrite:!1})}function AM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yde(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Qd||l===ep,c=l===Ga||l===Wa;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new DS(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||c&&d&&i(d)){n===null&&(n=new DS(t));const p=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function xde(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function _de(t,e,n,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);for(const g in p.morphAttributes){const _=p.morphAttributes[g];for(let x=0,v=_.length;x<v;x++)e.remove(_[x])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const g in m){const _=m[g];for(let x=0,v=_.length;x<v;x++)e.update(_[x],t.ARRAY_BUFFER)}}function u(d){const p=[],m=d.index,g=d.attributes.position;let _=0;if(m!==null){const S=m.array;_=m.version;for(let w=0,M=S.length;w<M;w+=3){const T=S[w+0],A=S[w+1],R=S[w+2];p.push(T,A,A,R,R,T)}}else{const S=g.array;_=g.version;for(let w=0,M=S.length/3-1;w<M;w+=3){const T=w+0,A=w+1,R=w+2;p.push(T,A,A,R,R,T)}}const x=new(lN(p)?EM:MM)(p,1);x.version=_;const v=s.get(d);v&&e.remove(v),s.set(d,x)}function c(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function Sde(t,e,n,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function c(p,m){t.drawElements(s,m,a,p*l),n.update(m,s,1)}function d(p,m,g){if(g===0)return;let _,x;if(i)_=t,x="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[x](s,m,a,p*l,g),n.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=d}function wde(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function bde(t,e){return t[0]-e[0]}function Mde(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Ede(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Kt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,_=g!==void 0?g.length:0;let x=s.get(c);if(x===void 0||x.count!==_){let q=function(){W.dispose(),s.delete(c),c.removeEventListener("dispose",q)};var m=q;x!==void 0&&x.texture.dispose();const w=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,T=c.morphAttributes.color!==void 0,A=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],L=c.morphAttributes.color||[];let C=0;w===!0&&(C=1),M===!0&&(C=2),T===!0&&(C=3);let P=c.attributes.position.count*C,F=1;P>e.maxTextureSize&&(F=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const B=new Float32Array(P*F*4*_),W=new Ay(B,P,F,_);W.type=Gs,W.needsUpdate=!0;const G=C*4;for(let ee=0;ee<_;ee++){const ne=A[ee],U=R[ee],z=L[ee],k=P*F*4*ee;for(let N=0;N<ne.count;N++){const I=N*G;w===!0&&(o.fromBufferAttribute(ne,N),B[k+I+0]=o.x,B[k+I+1]=o.y,B[k+I+2]=o.z,B[k+I+3]=0),M===!0&&(o.fromBufferAttribute(U,N),B[k+I+4]=o.x,B[k+I+5]=o.y,B[k+I+6]=o.z,B[k+I+7]=0),T===!0&&(o.fromBufferAttribute(z,N),B[k+I+8]=o.x,B[k+I+9]=o.y,B[k+I+10]=o.z,B[k+I+11]=z.itemSize===4?o.w:1)}}x={count:_,texture:W,size:new Oe(P,F)},s.set(c,x),c.addEventListener("dispose",q)}let v=0;for(let w=0;w<p.length;w++)v+=p[w];const S=c.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",S),d.getUniforms().setValue(t,"morphTargetInfluences",p),d.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const g=p===void 0?0:p.length;let _=r[c.id];if(_===void 0||_.length!==g){_=[];for(let M=0;M<g;M++)_[M]=[M,0];r[c.id]=_}for(let M=0;M<g;M++){const T=_[M];T[0]=M,T[1]=p[M]}_.sort(Mde);for(let M=0;M<8;M++)M<g&&_[M][1]?(a[M][0]=_[M][0],a[M][1]=_[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(bde);const x=c.morphAttributes.position,v=c.morphAttributes.normal;let S=0;for(let M=0;M<8;M++){const T=a[M],A=T[0],R=T[1];A!==Number.MAX_SAFE_INTEGER&&R?(x&&c.getAttribute("morphTarget"+M)!==x[A]&&c.setAttribute("morphTarget"+M,x[A]),v&&c.getAttribute("morphNormal"+M)!==v[A]&&c.setAttribute("morphNormal"+M,v[A]),i[M]=R,S+=R):(x&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),v&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const w=c.morphTargetsRelative?1:1-S;d.getUniforms().setValue(t,"morphTargetBaseInfluence",w),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Tde(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);return i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER)),d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const pN=new En,mN=new Ay,gN=new bM,vN=new zp,sR=[],oR=[],aR=new Float32Array(16),lR=new Float32Array(9),uR=new Float32Array(4);function $f(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=sR[i];if(s===void 0&&(s=new Float32Array(i),sR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Qn(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function er(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Py(t,e){let n=oR[e];n===void 0&&(n=new Int32Array(e),oR[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Ade(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Cde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qn(n,e))return;t.uniform2fv(this.addr,e),er(n,e)}}function Pde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Qn(n,e))return;t.uniform3fv(this.addr,e),er(n,e)}}function Rde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qn(n,e))return;t.uniform4fv(this.addr,e),er(n,e)}}function Lde(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),er(n,e)}else{if(Qn(n,r))return;uR.set(r),t.uniformMatrix2fv(this.addr,!1,uR),er(n,r)}}function Dde(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),er(n,e)}else{if(Qn(n,r))return;lR.set(r),t.uniformMatrix3fv(this.addr,!1,lR),er(n,r)}}function Ide(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),er(n,e)}else{if(Qn(n,r))return;aR.set(r),t.uniformMatrix4fv(this.addr,!1,aR),er(n,r)}}function Ode(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Ude(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qn(n,e))return;t.uniform2iv(this.addr,e),er(n,e)}}function Nde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Qn(n,e))return;t.uniform3iv(this.addr,e),er(n,e)}}function kde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qn(n,e))return;t.uniform4iv(this.addr,e),er(n,e)}}function Fde(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Bde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qn(n,e))return;t.uniform2uiv(this.addr,e),er(n,e)}}function zde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Qn(n,e))return;t.uniform3uiv(this.addr,e),er(n,e)}}function Vde(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qn(n,e))return;t.uniform4uiv(this.addr,e),er(n,e)}}function Hde(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||pN,i)}function Gde(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||gN,i)}function Wde(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||vN,i)}function jde(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||mN,i)}function $de(t){switch(t){case 5126:return Ade;case 35664:return Cde;case 35665:return Pde;case 35666:return Rde;case 35674:return Lde;case 35675:return Dde;case 35676:return Ide;case 5124:case 35670:return Ode;case 35667:case 35671:return Ude;case 35668:case 35672:return Nde;case 35669:case 35673:return kde;case 5125:return Fde;case 36294:return Bde;case 36295:return zde;case 36296:return Vde;case 35678:case 36198:case 36298:case 36306:case 35682:return Hde;case 35679:case 36299:case 36307:return Gde;case 35680:case 36300:case 36308:case 36293:return Wde;case 36289:case 36303:case 36311:case 36292:return jde}}function Xde(t,e){t.uniform1fv(this.addr,e)}function Yde(t,e){const n=$f(e,this.size,2);t.uniform2fv(this.addr,n)}function qde(t,e){const n=$f(e,this.size,3);t.uniform3fv(this.addr,n)}function Kde(t,e){const n=$f(e,this.size,4);t.uniform4fv(this.addr,n)}function Zde(t,e){const n=$f(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Jde(t,e){const n=$f(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Qde(t,e){const n=$f(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function epe(t,e){t.uniform1iv(this.addr,e)}function tpe(t,e){t.uniform2iv(this.addr,e)}function npe(t,e){t.uniform3iv(this.addr,e)}function rpe(t,e){t.uniform4iv(this.addr,e)}function ipe(t,e){t.uniform1uiv(this.addr,e)}function spe(t,e){t.uniform2uiv(this.addr,e)}function ope(t,e){t.uniform3uiv(this.addr,e)}function ape(t,e){t.uniform4uiv(this.addr,e)}function lpe(t,e,n){const r=this.cache,i=e.length,s=Py(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||pN,s[o])}function upe(t,e,n){const r=this.cache,i=e.length,s=Py(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||gN,s[o])}function cpe(t,e,n){const r=this.cache,i=e.length,s=Py(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||vN,s[o])}function fpe(t,e,n){const r=this.cache,i=e.length,s=Py(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||mN,s[o])}function hpe(t){switch(t){case 5126:return Xde;case 35664:return Yde;case 35665:return qde;case 35666:return Kde;case 35674:return Zde;case 35675:return Jde;case 35676:return Qde;case 5124:case 35670:return epe;case 35667:case 35671:return tpe;case 35668:case 35672:return npe;case 35669:case 35673:return rpe;case 5125:return ipe;case 36294:return spe;case 36295:return ope;case 36296:return ape;case 35678:case 36198:case 36298:case 36306:case 35682:return lpe;case 35679:case 36299:case 36307:return upe;case 35680:case 36300:case 36308:case 36293:return cpe;case 36289:case 36303:case 36311:case 36292:return fpe}}class dpe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=$de(n.type)}}class ppe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=hpe(n.type)}}class mpe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const Qx=/(\w+)(\])?(\[|\.)?/g;function cR(t,e){t.seq.push(e),t.map[e.id]=e}function gpe(t,e,n){const r=t.name,i=r.length;for(Qx.lastIndex=0;;){const s=Qx.exec(r),o=Qx.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){cR(n,u===void 0?new dpe(a,t,e):new ppe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new mpe(a),cR(n,d)),n=d}}}class U0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);gpe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function fR(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let vpe=0;function ype(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function xpe(t){switch(t){case Es:return["Linear","( value )"];case Ct:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function hR(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+ype(t.getShaderSource(e),o)}else return i}function _pe(t,e){const n=xpe(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Spe(t,e){let n;switch(e){case OU:n="Linear";break;case UU:n="Reinhard";break;case NU:n="OptimizedCineon";break;case uM:n="ACESFilmic";break;case kU:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function wpe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sd).join(`
`)}function bpe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Mpe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function sd(t){return t!==""}function dR(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function pR(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Epe=/^[ \t]*#include +<([\w\d./]+)>/gm;function IS(t){return t.replace(Epe,Tpe)}function Tpe(t,e){const n=Pt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return IS(n)}const Ape=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mR(t){return t.replace(Ape,Cpe)}function Cpe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function gR(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Ppe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===by?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===_d?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ms&&(e="SHADOWMAP_TYPE_VSM"),e}function Rpe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ga:case Wa:e="ENVMAP_TYPE_CUBE";break;case jf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Lpe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Wa:e="ENVMAP_MODE_REFRACTION";break}return e}function Dpe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case kp:e="ENVMAP_BLENDING_MULTIPLY";break;case DU:e="ENVMAP_BLENDING_MIX";break;case IU:e="ENVMAP_BLENDING_ADD";break}return e}function Ipe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Ope(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Ppe(n),u=Rpe(n),c=Lpe(n),d=Dpe(n),p=Ipe(n),m=n.isWebGL2?"":wpe(n),g=bpe(s),_=i.createProgram();let x,v,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(sd).join(`
`),x.length>0&&(x+=`
`),v=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(sd).join(`
`),v.length>0&&(v+=`
`)):(x=[gR(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sd).join(`
`),v=[m,gR(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==bs?"#define TONE_MAPPING":"",n.toneMapping!==bs?Pt.tonemapping_pars_fragment:"",n.toneMapping!==bs?Spe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Pt.encodings_pars_fragment,_pe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(sd).join(`
`)),o=IS(o),o=dR(o,n),o=pR(o,n),a=IS(a),a=dR(a,n),a=pR(a,n),o=mR(o),a=mR(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",n.glslVersion===RS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===RS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const w=S+x+o,M=S+v+a,T=fR(i,i.VERTEX_SHADER,w),A=fR(i,i.FRAGMENT_SHADER,M);if(i.attachShader(_,T),i.attachShader(_,A),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_),t.debug.checkShaderErrors){const C=i.getProgramInfoLog(_).trim(),P=i.getShaderInfoLog(T).trim(),F=i.getShaderInfoLog(A).trim();let B=!0,W=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(B=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,T,A);else{const G=hR(i,T,"vertex"),q=hR(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+G+`
`+q)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(P===""||F==="")&&(W=!1);W&&(this.diagnostics={runnable:B,programLog:C,vertexShader:{log:P,prefix:x},fragmentShader:{log:F,prefix:v}})}i.deleteShader(T),i.deleteShader(A);let R;this.getUniforms=function(){return R===void 0&&(R=new U0(i,_)),R};let L;return this.getAttributes=function(){return L===void 0&&(L=Mpe(i,_)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=vpe++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=A,this}let Upe=0;class Npe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new kpe(e),n.set(e,r)),r}}class kpe{constructor(e){this.id=Upe++,this.code=e,this.usedTimes=0}}function Fpe(t,e,n,r,i,s,o){const a=new Jl,l=new Npe,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(C){return C===0?"uv":`uv${C}`}function x(C,P,F,B,W){const G=B.fog,q=W.geometry,ee=C.isMeshStandardMaterial?B.environment:null,ne=(C.isMeshStandardMaterial?n:e).get(C.envMap||ee),U=ne&&ne.mapping===jf?ne.image.height:null,z=g[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const k=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,N=k!==void 0?k.length:0;let I=0;q.morphAttributes.position!==void 0&&(I=1),q.morphAttributes.normal!==void 0&&(I=2),q.morphAttributes.color!==void 0&&(I=3);let J,Z,te,ie;if(z){const ct=ys[z];J=ct.vertexShader,Z=ct.fragmentShader}else J=C.vertexShader,Z=C.fragmentShader,l.update(C),te=l.getVertexShaderID(C),ie=l.getFragmentShaderID(C);const se=t.getRenderTarget(),_e=W.isInstancedMesh===!0,Ie=!!C.map,We=!!C.matcap,Se=!!ne,H=!!C.aoMap,be=!!C.lightMap,he=!!C.bumpMap,Te=!!C.normalMap,pe=!!C.displacementMap,Be=!!C.emissiveMap,ye=!!C.metalnessMap,Re=!!C.roughnessMap,Ne=C.anisotropy>0,me=C.clearcoat>0,Ke=C.iridescence>0,V=C.sheen>0,O=C.transmission>0,oe=Ne&&!!C.anisotropyMap,Ue=me&&!!C.clearcoatMap,ge=me&&!!C.clearcoatNormalMap,Ae=me&&!!C.clearcoatRoughnessMap,Fe=Ke&&!!C.iridescenceMap,ke=Ke&&!!C.iridescenceThicknessMap,de=V&&!!C.sheenColorMap,qe=V&&!!C.sheenRoughnessMap,je=!!C.specularMap,He=!!C.specularColorMap,De=!!C.specularIntensityMap,Y=O&&!!C.transmissionMap,we=O&&!!C.thicknessMap,Xe=!!C.gradientMap,Q=!!C.alphaMap,Me=C.alphaTest>0,ue=!!C.extensions,Ge=!!q.attributes.uv1,ze=!!q.attributes.uv2,Qe=!!q.attributes.uv3;return{isWebGL2:c,shaderID:z,shaderType:C.type,shaderName:C.name,vertexShader:J,fragmentShader:Z,defines:C.defines,customVertexShaderID:te,customFragmentShaderID:ie,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:_e,instancingColor:_e&&W.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:se===null?t.outputColorSpace:se.isXRRenderTarget===!0?se.texture.colorSpace:Es,map:Ie,matcap:We,envMap:Se,envMapMode:Se&&ne.mapping,envMapCubeUVHeight:U,aoMap:H,lightMap:be,bumpMap:he,normalMap:Te,displacementMap:p&&pe,emissiveMap:Be,normalMapObjectSpace:Te&&C.normalMapType===ZU,normalMapTangentSpace:Te&&C.normalMapType===Qa,metalnessMap:ye,roughnessMap:Re,anisotropy:Ne,anisotropyMap:oe,clearcoat:me,clearcoatMap:Ue,clearcoatNormalMap:ge,clearcoatRoughnessMap:Ae,iridescence:Ke,iridescenceMap:Fe,iridescenceThicknessMap:ke,sheen:V,sheenColorMap:de,sheenRoughnessMap:qe,specularMap:je,specularColorMap:He,specularIntensityMap:De,transmission:O,transmissionMap:Y,thicknessMap:we,gradientMap:Xe,opaque:C.transparent===!1&&C.blending===Kl,alphaMap:Q,alphaTest:Me,combine:C.combine,mapUv:Ie&&_(C.map.channel),aoMapUv:H&&_(C.aoMap.channel),lightMapUv:be&&_(C.lightMap.channel),bumpMapUv:he&&_(C.bumpMap.channel),normalMapUv:Te&&_(C.normalMap.channel),displacementMapUv:pe&&_(C.displacementMap.channel),emissiveMapUv:Be&&_(C.emissiveMap.channel),metalnessMapUv:ye&&_(C.metalnessMap.channel),roughnessMapUv:Re&&_(C.roughnessMap.channel),anisotropyMapUv:oe&&_(C.anisotropyMap.channel),clearcoatMapUv:Ue&&_(C.clearcoatMap.channel),clearcoatNormalMapUv:ge&&_(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ae&&_(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Fe&&_(C.iridescenceMap.channel),iridescenceThicknessMapUv:ke&&_(C.iridescenceThicknessMap.channel),sheenColorMapUv:de&&_(C.sheenColorMap.channel),sheenRoughnessMapUv:qe&&_(C.sheenRoughnessMap.channel),specularMapUv:je&&_(C.specularMap.channel),specularColorMapUv:He&&_(C.specularColorMap.channel),specularIntensityMapUv:De&&_(C.specularIntensityMap.channel),transmissionMapUv:Y&&_(C.transmissionMap.channel),thicknessMapUv:we&&_(C.thicknessMap.channel),alphaMapUv:Q&&_(C.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Te||Ne),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,vertexUv1s:Ge,vertexUv2s:ze,vertexUv3s:Qe,pointsUvs:W.isPoints===!0&&!!q.attributes.uv&&(Ie||Q),fog:!!G,useFog:C.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:W.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:N,morphTextureStride:I,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:C.toneMapped?t.toneMapping:bs,useLegacyLights:t.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===xs,flipSided:C.side===Wr,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:ue&&C.extensions.derivatives===!0,extensionFragDepth:ue&&C.extensions.fragDepth===!0,extensionDrawBuffers:ue&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:ue&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const P=[];if(C.shaderID?P.push(C.shaderID):(P.push(C.customVertexShaderID),P.push(C.customFragmentShaderID)),C.defines!==void 0)for(const F in C.defines)P.push(F),P.push(C.defines[F]);return C.isRawShaderMaterial===!1&&(S(P,C),w(P,C),P.push(t.outputColorSpace)),P.push(C.customProgramCacheKey),P.join()}function S(C,P){C.push(P.precision),C.push(P.outputColorSpace),C.push(P.envMapMode),C.push(P.envMapCubeUVHeight),C.push(P.mapUv),C.push(P.alphaMapUv),C.push(P.lightMapUv),C.push(P.aoMapUv),C.push(P.bumpMapUv),C.push(P.normalMapUv),C.push(P.displacementMapUv),C.push(P.emissiveMapUv),C.push(P.metalnessMapUv),C.push(P.roughnessMapUv),C.push(P.anisotropyMapUv),C.push(P.clearcoatMapUv),C.push(P.clearcoatNormalMapUv),C.push(P.clearcoatRoughnessMapUv),C.push(P.iridescenceMapUv),C.push(P.iridescenceThicknessMapUv),C.push(P.sheenColorMapUv),C.push(P.sheenRoughnessMapUv),C.push(P.specularMapUv),C.push(P.specularColorMapUv),C.push(P.specularIntensityMapUv),C.push(P.transmissionMapUv),C.push(P.thicknessMapUv),C.push(P.combine),C.push(P.fogExp2),C.push(P.sizeAttenuation),C.push(P.morphTargetsCount),C.push(P.morphAttributeCount),C.push(P.numDirLights),C.push(P.numPointLights),C.push(P.numSpotLights),C.push(P.numSpotLightMaps),C.push(P.numHemiLights),C.push(P.numRectAreaLights),C.push(P.numDirLightShadows),C.push(P.numPointLightShadows),C.push(P.numSpotLightShadows),C.push(P.numSpotLightShadowsWithMaps),C.push(P.shadowMapType),C.push(P.toneMapping),C.push(P.numClippingPlanes),C.push(P.numClipIntersection),C.push(P.depthPacking)}function w(C,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),C.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.useLegacyLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),C.push(a.mask)}function M(C){const P=g[C.type];let F;if(P){const B=ys[P];F=TM.clone(B.uniforms)}else F=C.uniforms;return F}function T(C,P){let F;for(let B=0,W=u.length;B<W;B++){const G=u[B];if(G.cacheKey===P){F=G,++F.usedTimes;break}}return F===void 0&&(F=new Ope(t,P,C,s),u.push(F)),F}function A(C){if(--C.usedTimes===0){const P=u.indexOf(C);u[P]=u[u.length-1],u.pop(),C.destroy()}}function R(C){l.remove(C)}function L(){l.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:M,acquireProgram:T,releaseProgram:A,releaseShaderCache:R,programs:u,dispose:L}}function Bpe(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function zpe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function vR(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function yR(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,p,m,g,_,x){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:p,material:m,groupOrder:g,renderOrder:d.renderOrder,z:_,group:x},t[e]=v):(v.id=d.id,v.object=d,v.geometry=p,v.material=m,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=_,v.group=x),e++,v}function a(d,p,m,g,_,x){const v=o(d,p,m,g,_,x);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):n.push(v)}function l(d,p,m,g,_,x){const v=o(d,p,m,g,_,x);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):n.unshift(v)}function u(d,p){n.length>1&&n.sort(d||zpe),r.length>1&&r.sort(p||vR),i.length>1&&i.sort(p||vR)}function c(){for(let d=e,p=t.length;d<p;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function Vpe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new yR,t.set(r,[o])):i>=s.length?(o=new yR,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Hpe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new j,color:new et};break;case"SpotLight":n={position:new j,direction:new j,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new j,color:new et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new j,skyColor:new et,groundColor:new et};break;case"RectAreaLight":n={color:new et,position:new j,halfWidth:new j,halfHeight:new j};break}return t[e.id]=n,n}}}function Gpe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Wpe=0;function jpe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function $pe(t,e){const n=new Hpe,r=Gpe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new j);const s=new j,o=new Mt,a=new Mt;function l(c,d){let p=0,m=0,g=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let _=0,x=0,v=0,S=0,w=0,M=0,T=0,A=0,R=0,L=0;c.sort(jpe);const C=d===!0?Math.PI:1;for(let F=0,B=c.length;F<B;F++){const W=c[F],G=W.color,q=W.intensity,ee=W.distance,ne=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=G.r*q*C,m+=G.g*q*C,g+=G.b*q*C;else if(W.isLightProbe)for(let U=0;U<9;U++)i.probe[U].addScaledVector(W.sh.coefficients[U],q);else if(W.isDirectionalLight){const U=n.get(W);if(U.color.copy(W.color).multiplyScalar(W.intensity*C),W.castShadow){const z=W.shadow,k=r.get(W);k.shadowBias=z.bias,k.shadowNormalBias=z.normalBias,k.shadowRadius=z.radius,k.shadowMapSize=z.mapSize,i.directionalShadow[_]=k,i.directionalShadowMap[_]=ne,i.directionalShadowMatrix[_]=W.shadow.matrix,M++}i.directional[_]=U,_++}else if(W.isSpotLight){const U=n.get(W);U.position.setFromMatrixPosition(W.matrixWorld),U.color.copy(G).multiplyScalar(q*C),U.distance=ee,U.coneCos=Math.cos(W.angle),U.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),U.decay=W.decay,i.spot[v]=U;const z=W.shadow;if(W.map&&(i.spotLightMap[R]=W.map,R++,z.updateMatrices(W),W.castShadow&&L++),i.spotLightMatrix[v]=z.matrix,W.castShadow){const k=r.get(W);k.shadowBias=z.bias,k.shadowNormalBias=z.normalBias,k.shadowRadius=z.radius,k.shadowMapSize=z.mapSize,i.spotShadow[v]=k,i.spotShadowMap[v]=ne,A++}v++}else if(W.isRectAreaLight){const U=n.get(W);U.color.copy(G).multiplyScalar(q),U.halfWidth.set(W.width*.5,0,0),U.halfHeight.set(0,W.height*.5,0),i.rectArea[S]=U,S++}else if(W.isPointLight){const U=n.get(W);if(U.color.copy(W.color).multiplyScalar(W.intensity*C),U.distance=W.distance,U.decay=W.decay,W.castShadow){const z=W.shadow,k=r.get(W);k.shadowBias=z.bias,k.shadowNormalBias=z.normalBias,k.shadowRadius=z.radius,k.shadowMapSize=z.mapSize,k.shadowCameraNear=z.camera.near,k.shadowCameraFar=z.camera.far,i.pointShadow[x]=k,i.pointShadowMap[x]=ne,i.pointShadowMatrix[x]=W.shadow.matrix,T++}i.point[x]=U,x++}else if(W.isHemisphereLight){const U=n.get(W);U.skyColor.copy(W.color).multiplyScalar(q*C),U.groundColor.copy(W.groundColor).multiplyScalar(q*C),i.hemi[w]=U,w++}}S>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_FLOAT_1,i.rectAreaLTC2=Je.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_HALF_1,i.rectAreaLTC2=Je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const P=i.hash;(P.directionalLength!==_||P.pointLength!==x||P.spotLength!==v||P.rectAreaLength!==S||P.hemiLength!==w||P.numDirectionalShadows!==M||P.numPointShadows!==T||P.numSpotShadows!==A||P.numSpotMaps!==R)&&(i.directional.length=_,i.spot.length=v,i.rectArea.length=S,i.point.length=x,i.hemi.length=w,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=A+R-L,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=L,P.directionalLength=_,P.pointLength=x,P.spotLength=v,P.rectAreaLength=S,P.hemiLength=w,P.numDirectionalShadows=M,P.numPointShadows=T,P.numSpotShadows=A,P.numSpotMaps=R,i.version=Wpe++)}function u(c,d){let p=0,m=0,g=0,_=0,x=0;const v=d.matrixWorldInverse;for(let S=0,w=c.length;S<w;S++){const M=c[S];if(M.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),p++}else if(M.isSpotLight){const T=i.spot[g];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(v),T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),g++}else if(M.isRectAreaLight){const T=i.rectArea[_];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(v),a.identity(),o.copy(M.matrixWorld),o.premultiply(v),a.extractRotation(o),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),_++}else if(M.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(v),m++}else if(M.isHemisphereLight){const T=i.hemi[x];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(v),x++}}}return{setup:l,setupView:u,state:i}}function xR(t,e){const n=new $pe(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function u(d){n.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function Xpe(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new xR(t,e),n.set(s,[l])):o>=a.length?(l=new xR(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class Ry extends gr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=KU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Ly extends gr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Ype=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,qpe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Kpe(t,e,n){let r=new Cy;const i=new Oe,s=new Oe,o=new Kt,a=new Ry({depthPacking:xM}),l=new Ly,u={},c=n.maxTextureSize,d={[ko]:Wr,[Wr]:ko,[xs]:xs},p=new Zs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Oe},radius:{value:4}},vertexShader:Ype,fragmentShader:qpe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new It;g.setAttribute("position",new tn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new $n(g,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=by;let v=this.type;this.render=function(T,A,R){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||T.length===0)return;const L=t.getRenderTarget(),C=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),F=t.state;F.setBlending(Lo),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const B=v!==ms&&this.type===ms,W=v===ms&&this.type!==ms;for(let G=0,q=T.length;G<q;G++){const ee=T[G],ne=ee.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;i.copy(ne.mapSize);const U=ne.getFrameExtents();if(i.multiply(U),s.copy(ne.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/U.x),i.x=s.x*U.x,ne.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/U.y),i.y=s.y*U.y,ne.mapSize.y=s.y)),ne.map===null||B===!0||W===!0){const k=this.type!==ms?{minFilter:kn,magFilter:kn}:{};ne.map!==null&&ne.map.dispose(),ne.map=new Ts(i.x,i.y,k),ne.map.texture.name=ee.name+".shadowMap",ne.camera.updateProjectionMatrix()}t.setRenderTarget(ne.map),t.clear();const z=ne.getViewportCount();for(let k=0;k<z;k++){const N=ne.getViewport(k);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),F.viewport(o),ne.updateMatrices(ee,k),r=ne.getFrustum(),M(A,R,ne.camera,ee,this.type)}ne.isPointLightShadow!==!0&&this.type===ms&&S(ne,R),ne.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(L,C,P)};function S(T,A){const R=e.update(_);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Ts(i.x,i.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(A,null,R,p,_,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(A,null,R,m,_,null)}function w(T,A,R,L){let C=null;const P=R.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(P!==void 0)C=P;else if(C=R.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const F=C.uuid,B=A.uuid;let W=u[F];W===void 0&&(W={},u[F]=W);let G=W[B];G===void 0&&(G=C.clone(),W[B]=G),C=G}if(C.visible=A.visible,C.wireframe=A.wireframe,L===ms?C.side=A.shadowSide!==null?A.shadowSide:A.side:C.side=A.shadowSide!==null?A.shadowSide:d[A.side],C.alphaMap=A.alphaMap,C.alphaTest=A.alphaTest,C.map=A.map,C.clipShadows=A.clipShadows,C.clippingPlanes=A.clippingPlanes,C.clipIntersection=A.clipIntersection,C.displacementMap=A.displacementMap,C.displacementScale=A.displacementScale,C.displacementBias=A.displacementBias,C.wireframeLinewidth=A.wireframeLinewidth,C.linewidth=A.linewidth,R.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const F=t.properties.get(C);F.light=R}return C}function M(T,A,R,L,C){if(T.visible===!1)return;if(T.layers.test(A.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===ms)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,T.matrixWorld);const B=e.update(T),W=T.material;if(Array.isArray(W)){const G=B.groups;for(let q=0,ee=G.length;q<ee;q++){const ne=G[q],U=W[ne.materialIndex];if(U&&U.visible){const z=w(T,U,L,C);t.renderBufferDirect(R,null,B,z,T,ne)}}}else if(W.visible){const G=w(T,W,L,C);t.renderBufferDirect(R,null,B,G,T,null)}}const F=T.children;for(let B=0,W=F.length;B<W;B++)M(F[B],A,R,L,C)}}function Zpe(t,e,n){const r=n.isWebGL2;function i(){let Q=!1;const Me=new Kt;let ue=null;const Ge=new Kt(0,0,0,0);return{setMask:function(ze){ue!==ze&&!Q&&(t.colorMask(ze,ze,ze,ze),ue=ze)},setLocked:function(ze){Q=ze},setClear:function(ze,Qe,ht,ct,lt){lt===!0&&(ze*=ct,Qe*=ct,ht*=ct),Me.set(ze,Qe,ht,ct),Ge.equals(Me)===!1&&(t.clearColor(ze,Qe,ht,ct),Ge.copy(Me))},reset:function(){Q=!1,ue=null,Ge.set(-1,0,0,0)}}}function s(){let Q=!1,Me=null,ue=null,Ge=null;return{setTest:function(ze){ze?se(t.DEPTH_TEST):_e(t.DEPTH_TEST)},setMask:function(ze){Me!==ze&&!Q&&(t.depthMask(ze),Me=ze)},setFunc:function(ze){if(ue!==ze){switch(ze){case EU:t.depthFunc(t.NEVER);break;case TU:t.depthFunc(t.ALWAYS);break;case AU:t.depthFunc(t.LESS);break;case Cv:t.depthFunc(t.LEQUAL);break;case CU:t.depthFunc(t.EQUAL);break;case PU:t.depthFunc(t.GEQUAL);break;case RU:t.depthFunc(t.GREATER);break;case LU:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ue=ze}},setLocked:function(ze){Q=ze},setClear:function(ze){Ge!==ze&&(t.clearDepth(ze),Ge=ze)},reset:function(){Q=!1,Me=null,ue=null,Ge=null}}}function o(){let Q=!1,Me=null,ue=null,Ge=null,ze=null,Qe=null,ht=null,ct=null,lt=null;return{setTest:function(dt){Q||(dt?se(t.STENCIL_TEST):_e(t.STENCIL_TEST))},setMask:function(dt){Me!==dt&&!Q&&(t.stencilMask(dt),Me=dt)},setFunc:function(dt,Ft,Ot){(ue!==dt||Ge!==Ft||ze!==Ot)&&(t.stencilFunc(dt,Ft,Ot),ue=dt,Ge=Ft,ze=Ot)},setOp:function(dt,Ft,Ot){(Qe!==dt||ht!==Ft||ct!==Ot)&&(t.stencilOp(dt,Ft,Ot),Qe=dt,ht=Ft,ct=Ot)},setLocked:function(dt){Q=dt},setClear:function(dt){lt!==dt&&(t.clearStencil(dt),lt=dt)},reset:function(){Q=!1,Me=null,ue=null,Ge=null,ze=null,Qe=null,ht=null,ct=null,lt=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,d=new WeakMap;let p={},m={},g=new WeakMap,_=[],x=null,v=!1,S=null,w=null,M=null,T=null,A=null,R=null,L=null,C=!1,P=null,F=null,B=null,W=null,G=null;const q=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,ne=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(U)[1]),ee=ne>=1):U.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),ee=ne>=2);let z=null,k={};const N=t.getParameter(t.SCISSOR_BOX),I=t.getParameter(t.VIEWPORT),J=new Kt().fromArray(N),Z=new Kt().fromArray(I);function te(Q,Me,ue,Ge){const ze=new Uint8Array(4),Qe=t.createTexture();t.bindTexture(Q,Qe),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ht=0;ht<ue;ht++)r&&(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)?t.texImage3D(Me,0,t.RGBA,1,1,Ge,0,t.RGBA,t.UNSIGNED_BYTE,ze):t.texImage2D(Me+ht,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ze);return Qe}const ie={};ie[t.TEXTURE_2D]=te(t.TEXTURE_2D,t.TEXTURE_2D,1),ie[t.TEXTURE_CUBE_MAP]=te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ie[t.TEXTURE_2D_ARRAY]=te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ie[t.TEXTURE_3D]=te(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),se(t.DEPTH_TEST),l.setFunc(Cv),pe(!1),Be(tS),se(t.CULL_FACE),he(Lo);function se(Q){p[Q]!==!0&&(t.enable(Q),p[Q]=!0)}function _e(Q){p[Q]!==!1&&(t.disable(Q),p[Q]=!1)}function Ie(Q,Me){return m[Q]!==Me?(t.bindFramebuffer(Q,Me),m[Q]=Me,r&&(Q===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Me),Q===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Me)),!0):!1}function We(Q,Me){let ue=_,Ge=!1;if(Q)if(ue=g.get(Me),ue===void 0&&(ue=[],g.set(Me,ue)),Q.isWebGLMultipleRenderTargets){const ze=Q.texture;if(ue.length!==ze.length||ue[0]!==t.COLOR_ATTACHMENT0){for(let Qe=0,ht=ze.length;Qe<ht;Qe++)ue[Qe]=t.COLOR_ATTACHMENT0+Qe;ue.length=ze.length,Ge=!0}}else ue[0]!==t.COLOR_ATTACHMENT0&&(ue[0]=t.COLOR_ATTACHMENT0,Ge=!0);else ue[0]!==t.BACK&&(ue[0]=t.BACK,Ge=!0);Ge&&(n.isWebGL2?t.drawBuffers(ue):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ue))}function Se(Q){return x!==Q?(t.useProgram(Q),x=Q,!0):!1}const H={[Fl]:t.FUNC_ADD,[pU]:t.FUNC_SUBTRACT,[mU]:t.FUNC_REVERSE_SUBTRACT};if(r)H[sS]=t.MIN,H[oS]=t.MAX;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(H[sS]=Q.MIN_EXT,H[oS]=Q.MAX_EXT)}const be={[gU]:t.ZERO,[vU]:t.ONE,[yU]:t.SRC_COLOR,[aM]:t.SRC_ALPHA,[MU]:t.SRC_ALPHA_SATURATE,[wU]:t.DST_COLOR,[_U]:t.DST_ALPHA,[xU]:t.ONE_MINUS_SRC_COLOR,[lM]:t.ONE_MINUS_SRC_ALPHA,[bU]:t.ONE_MINUS_DST_COLOR,[SU]:t.ONE_MINUS_DST_ALPHA};function he(Q,Me,ue,Ge,ze,Qe,ht,ct){if(Q===Lo){v===!0&&(_e(t.BLEND),v=!1);return}if(v===!1&&(se(t.BLEND),v=!0),Q!==dU){if(Q!==S||ct!==C){if((w!==Fl||A!==Fl)&&(t.blendEquation(t.FUNC_ADD),w=Fl,A=Fl),ct)switch(Q){case Kl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case nS:t.blendFunc(t.ONE,t.ONE);break;case rS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case iS:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case Kl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case nS:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case rS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case iS:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}M=null,T=null,R=null,L=null,S=Q,C=ct}return}ze=ze||Me,Qe=Qe||ue,ht=ht||Ge,(Me!==w||ze!==A)&&(t.blendEquationSeparate(H[Me],H[ze]),w=Me,A=ze),(ue!==M||Ge!==T||Qe!==R||ht!==L)&&(t.blendFuncSeparate(be[ue],be[Ge],be[Qe],be[ht]),M=ue,T=Ge,R=Qe,L=ht),S=Q,C=!1}function Te(Q,Me){Q.side===xs?_e(t.CULL_FACE):se(t.CULL_FACE);let ue=Q.side===Wr;Me&&(ue=!ue),pe(ue),Q.blending===Kl&&Q.transparent===!1?he(Lo):he(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),l.setFunc(Q.depthFunc),l.setTest(Q.depthTest),l.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const Ge=Q.stencilWrite;u.setTest(Ge),Ge&&(u.setMask(Q.stencilWriteMask),u.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),u.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),Re(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?se(t.SAMPLE_ALPHA_TO_COVERAGE):_e(t.SAMPLE_ALPHA_TO_COVERAGE)}function pe(Q){P!==Q&&(Q?t.frontFace(t.CW):t.frontFace(t.CCW),P=Q)}function Be(Q){Q!==cU?(se(t.CULL_FACE),Q!==F&&(Q===tS?t.cullFace(t.BACK):Q===fU?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):_e(t.CULL_FACE),F=Q}function ye(Q){Q!==B&&(ee&&t.lineWidth(Q),B=Q)}function Re(Q,Me,ue){Q?(se(t.POLYGON_OFFSET_FILL),(W!==Me||G!==ue)&&(t.polygonOffset(Me,ue),W=Me,G=ue)):_e(t.POLYGON_OFFSET_FILL)}function Ne(Q){Q?se(t.SCISSOR_TEST):_e(t.SCISSOR_TEST)}function me(Q){Q===void 0&&(Q=t.TEXTURE0+q-1),z!==Q&&(t.activeTexture(Q),z=Q)}function Ke(Q,Me,ue){ue===void 0&&(z===null?ue=t.TEXTURE0+q-1:ue=z);let Ge=k[ue];Ge===void 0&&(Ge={type:void 0,texture:void 0},k[ue]=Ge),(Ge.type!==Q||Ge.texture!==Me)&&(z!==ue&&(t.activeTexture(ue),z=ue),t.bindTexture(Q,Me||ie[Q]),Ge.type=Q,Ge.texture=Me)}function V(){const Q=k[z];Q!==void 0&&Q.type!==void 0&&(t.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function O(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function oe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ue(){try{t.texSubImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ge(){try{t.texSubImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ae(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Fe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ke(){try{t.texStorage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function de(){try{t.texStorage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function qe(){try{t.texImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function je(){try{t.texImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function He(Q){J.equals(Q)===!1&&(t.scissor(Q.x,Q.y,Q.z,Q.w),J.copy(Q))}function De(Q){Z.equals(Q)===!1&&(t.viewport(Q.x,Q.y,Q.z,Q.w),Z.copy(Q))}function Y(Q,Me){let ue=d.get(Me);ue===void 0&&(ue=new WeakMap,d.set(Me,ue));let Ge=ue.get(Q);Ge===void 0&&(Ge=t.getUniformBlockIndex(Me,Q.name),ue.set(Q,Ge))}function we(Q,Me){const Ge=d.get(Me).get(Q);c.get(Me)!==Ge&&(t.uniformBlockBinding(Me,Ge,Q.__bindingPointIndex),c.set(Me,Ge))}function Xe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},z=null,k={},m={},g=new WeakMap,_=[],x=null,v=!1,S=null,w=null,M=null,T=null,A=null,R=null,L=null,C=!1,P=null,F=null,B=null,W=null,G=null,J.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:se,disable:_e,bindFramebuffer:Ie,drawBuffers:We,useProgram:Se,setBlending:he,setMaterial:Te,setFlipSided:pe,setCullFace:Be,setLineWidth:ye,setPolygonOffset:Re,setScissorTest:Ne,activeTexture:me,bindTexture:Ke,unbindTexture:V,compressedTexImage2D:O,compressedTexImage3D:oe,texImage2D:qe,texImage3D:je,updateUBOMapping:Y,uniformBlockBinding:we,texStorage2D:ke,texStorage3D:de,texSubImage2D:Ue,texSubImage3D:ge,compressedTexSubImage2D:Ae,compressedTexSubImage3D:Fe,scissor:He,viewport:De,reset:Xe}}function Jpe(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let _;const x=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(V,O){return v?new OffscreenCanvas(V,O):lp("canvas")}function w(V,O,oe,Ue){let ge=1;if((V.width>Ue||V.height>Ue)&&(ge=Ue/Math.max(V.width,V.height)),ge<1||O===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const Ae=O?Lv:Math.floor,Fe=Ae(ge*V.width),ke=Ae(ge*V.height);_===void 0&&(_=S(Fe,ke));const de=oe?S(Fe,ke):_;return de.width=Fe,de.height=ke,de.getContext("2d").drawImage(V,0,0,Fe,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+Fe+"x"+ke+")."),de}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function M(V){return LS(V.width)&&LS(V.height)}function T(V){return a?!1:V.wrapS!==Pr||V.wrapT!==Pr||V.minFilter!==kn&&V.minFilter!==_n}function A(V,O){return V.generateMipmaps&&O&&V.minFilter!==kn&&V.minFilter!==_n}function R(V){t.generateMipmap(V)}function L(V,O,oe,Ue,ge=!1){if(a===!1)return O;if(V!==null){if(t[V]!==void 0)return t[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let Ae=O;return O===t.RED&&(oe===t.FLOAT&&(Ae=t.R32F),oe===t.HALF_FLOAT&&(Ae=t.R16F),oe===t.UNSIGNED_BYTE&&(Ae=t.R8)),O===t.RG&&(oe===t.FLOAT&&(Ae=t.RG32F),oe===t.HALF_FLOAT&&(Ae=t.RG16F),oe===t.UNSIGNED_BYTE&&(Ae=t.RG8)),O===t.RGBA&&(oe===t.FLOAT&&(Ae=t.RGBA32F),oe===t.HALF_FLOAT&&(Ae=t.RGBA16F),oe===t.UNSIGNED_BYTE&&(Ae=Ue===Ct&&ge===!1?t.SRGB8_ALPHA8:t.RGBA8),oe===t.UNSIGNED_SHORT_4_4_4_4&&(Ae=t.RGBA4),oe===t.UNSIGNED_SHORT_5_5_5_1&&(Ae=t.RGB5_A1)),(Ae===t.R16F||Ae===t.R32F||Ae===t.RG16F||Ae===t.RG32F||Ae===t.RGBA16F||Ae===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ae}function C(V,O,oe){return A(V,oe)===!0||V.isFramebufferTexture&&V.minFilter!==kn&&V.minFilter!==_n?Math.log2(Math.max(O.width,O.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?O.mipmaps.length:1}function P(V){return V===kn||V===Pv||V===Sd?t.NEAREST:t.LINEAR}function F(V){const O=V.target;O.removeEventListener("dispose",F),W(O),O.isVideoTexture&&g.delete(O)}function B(V){const O=V.target;O.removeEventListener("dispose",B),q(O)}function W(V){const O=r.get(V);if(O.__webglInit===void 0)return;const oe=V.source,Ue=x.get(oe);if(Ue){const ge=Ue[O.__cacheKey];ge.usedTimes--,ge.usedTimes===0&&G(V),Object.keys(Ue).length===0&&x.delete(oe)}r.remove(V)}function G(V){const O=r.get(V);t.deleteTexture(O.__webglTexture);const oe=V.source,Ue=x.get(oe);delete Ue[O.__cacheKey],o.memory.textures--}function q(V){const O=V.texture,oe=r.get(V),Ue=r.get(O);if(Ue.__webglTexture!==void 0&&(t.deleteTexture(Ue.__webglTexture),o.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++)t.deleteFramebuffer(oe.__webglFramebuffer[ge]),oe.__webglDepthbuffer&&t.deleteRenderbuffer(oe.__webglDepthbuffer[ge]);else{if(t.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&t.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let ge=0;ge<oe.__webglColorRenderbuffer.length;ge++)oe.__webglColorRenderbuffer[ge]&&t.deleteRenderbuffer(oe.__webglColorRenderbuffer[ge]);oe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let ge=0,Ae=O.length;ge<Ae;ge++){const Fe=r.get(O[ge]);Fe.__webglTexture&&(t.deleteTexture(Fe.__webglTexture),o.memory.textures--),r.remove(O[ge])}r.remove(O),r.remove(V)}let ee=0;function ne(){ee=0}function U(){const V=ee;return V>=l&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+l),ee+=1,V}function z(V){const O=[];return O.push(V.wrapS),O.push(V.wrapT),O.push(V.wrapR||0),O.push(V.magFilter),O.push(V.minFilter),O.push(V.anisotropy),O.push(V.internalFormat),O.push(V.format),O.push(V.type),O.push(V.generateMipmaps),O.push(V.premultiplyAlpha),O.push(V.flipY),O.push(V.unpackAlignment),O.push(V.colorSpace),O.join()}function k(V,O){const oe=r.get(V);if(V.isVideoTexture&&me(V),V.isRenderTargetTexture===!1&&V.version>0&&oe.__version!==V.version){const Ue=V.image;if(Ue===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ue.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ie(oe,V,O);return}}n.bindTexture(t.TEXTURE_2D,oe.__webglTexture,t.TEXTURE0+O)}function N(V,O){const oe=r.get(V);if(V.version>0&&oe.__version!==V.version){Ie(oe,V,O);return}n.bindTexture(t.TEXTURE_2D_ARRAY,oe.__webglTexture,t.TEXTURE0+O)}function I(V,O){const oe=r.get(V);if(V.version>0&&oe.__version!==V.version){Ie(oe,V,O);return}n.bindTexture(t.TEXTURE_3D,oe.__webglTexture,t.TEXTURE0+O)}function J(V,O){const oe=r.get(V);if(V.version>0&&oe.__version!==V.version){We(oe,V,O);return}n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture,t.TEXTURE0+O)}const Z={[tp]:t.REPEAT,[Pr]:t.CLAMP_TO_EDGE,[np]:t.MIRRORED_REPEAT},te={[kn]:t.NEAREST,[Pv]:t.NEAREST_MIPMAP_NEAREST,[Sd]:t.NEAREST_MIPMAP_LINEAR,[_n]:t.LINEAR,[cM]:t.LINEAR_MIPMAP_NEAREST,[ja]:t.LINEAR_MIPMAP_LINEAR},ie={[QU]:t.NEVER,[oN]:t.ALWAYS,[eN]:t.LESS,[nN]:t.LEQUAL,[tN]:t.EQUAL,[sN]:t.GEQUAL,[rN]:t.GREATER,[iN]:t.NOTEQUAL};function se(V,O,oe){if(oe?(t.texParameteri(V,t.TEXTURE_WRAP_S,Z[O.wrapS]),t.texParameteri(V,t.TEXTURE_WRAP_T,Z[O.wrapT]),(V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY)&&t.texParameteri(V,t.TEXTURE_WRAP_R,Z[O.wrapR]),t.texParameteri(V,t.TEXTURE_MAG_FILTER,te[O.magFilter]),t.texParameteri(V,t.TEXTURE_MIN_FILTER,te[O.minFilter])):(t.texParameteri(V,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(V,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY)&&t.texParameteri(V,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(O.wrapS!==Pr||O.wrapT!==Pr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(V,t.TEXTURE_MAG_FILTER,P(O.magFilter)),t.texParameteri(V,t.TEXTURE_MIN_FILTER,P(O.minFilter)),O.minFilter!==kn&&O.minFilter!==_n&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),O.compareFunction&&(t.texParameteri(V,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(V,t.TEXTURE_COMPARE_FUNC,ie[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ue=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===kn||O.minFilter!==Sd&&O.minFilter!==ja||O.type===Gs&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===Tf&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(t.texParameterf(V,Ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function _e(V,O){let oe=!1;V.__webglInit===void 0&&(V.__webglInit=!0,O.addEventListener("dispose",F));const Ue=O.source;let ge=x.get(Ue);ge===void 0&&(ge={},x.set(Ue,ge));const Ae=z(O);if(Ae!==V.__cacheKey){ge[Ae]===void 0&&(ge[Ae]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),ge[Ae].usedTimes++;const Fe=ge[V.__cacheKey];Fe!==void 0&&(ge[V.__cacheKey].usedTimes--,Fe.usedTimes===0&&G(O)),V.__cacheKey=Ae,V.__webglTexture=ge[Ae].texture}return oe}function Ie(V,O,oe){let Ue=t.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(Ue=t.TEXTURE_2D_ARRAY),O.isData3DTexture&&(Ue=t.TEXTURE_3D);const ge=_e(V,O),Ae=O.source;n.bindTexture(Ue,V.__webglTexture,t.TEXTURE0+oe);const Fe=r.get(Ae);if(Ae.version!==Fe.__version||ge===!0){n.activeTexture(t.TEXTURE0+oe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ke=T(O)&&M(O.image)===!1;let de=w(O.image,ke,!1,c);de=Ke(O,de);const qe=M(de)||a,je=s.convert(O.format,O.colorSpace);let He=s.convert(O.type),De=L(O.internalFormat,je,He,O.colorSpace);se(Ue,O,qe);let Y;const we=O.mipmaps,Xe=a&&O.isVideoTexture!==!0,Q=Fe.__version===void 0||ge===!0,Me=C(O,de,qe);if(O.isDepthTexture)De=t.DEPTH_COMPONENT,a?O.type===Gs?De=t.DEPTH_COMPONENT32F:O.type===Ao?De=t.DEPTH_COMPONENT24:O.type===Da?De=t.DEPTH24_STENCIL8:De=t.DEPTH_COMPONENT16:O.type===Gs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===Ia&&De===t.DEPTH_COMPONENT&&O.type!==Ey&&O.type!==Ao&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=Ao,He=s.convert(O.type)),O.format===au&&De===t.DEPTH_COMPONENT&&(De=t.DEPTH_STENCIL,O.type!==Da&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Da,He=s.convert(O.type))),Q&&(Xe?n.texStorage2D(t.TEXTURE_2D,1,De,de.width,de.height):n.texImage2D(t.TEXTURE_2D,0,De,de.width,de.height,0,je,He,null));else if(O.isDataTexture)if(we.length>0&&qe){Xe&&Q&&n.texStorage2D(t.TEXTURE_2D,Me,De,we[0].width,we[0].height);for(let ue=0,Ge=we.length;ue<Ge;ue++)Y=we[ue],Xe?n.texSubImage2D(t.TEXTURE_2D,ue,0,0,Y.width,Y.height,je,He,Y.data):n.texImage2D(t.TEXTURE_2D,ue,De,Y.width,Y.height,0,je,He,Y.data);O.generateMipmaps=!1}else Xe?(Q&&n.texStorage2D(t.TEXTURE_2D,Me,De,de.width,de.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,de.width,de.height,je,He,de.data)):n.texImage2D(t.TEXTURE_2D,0,De,de.width,de.height,0,je,He,de.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Xe&&Q&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Me,De,we[0].width,we[0].height,de.depth);for(let ue=0,Ge=we.length;ue<Ge;ue++)Y=we[ue],O.format!==ri?je!==null?Xe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ue,0,0,0,Y.width,Y.height,de.depth,je,Y.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ue,De,Y.width,Y.height,de.depth,0,Y.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ue,0,0,0,Y.width,Y.height,de.depth,je,He,Y.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ue,De,Y.width,Y.height,de.depth,0,je,He,Y.data)}else{Xe&&Q&&n.texStorage2D(t.TEXTURE_2D,Me,De,we[0].width,we[0].height);for(let ue=0,Ge=we.length;ue<Ge;ue++)Y=we[ue],O.format!==ri?je!==null?Xe?n.compressedTexSubImage2D(t.TEXTURE_2D,ue,0,0,Y.width,Y.height,je,Y.data):n.compressedTexImage2D(t.TEXTURE_2D,ue,De,Y.width,Y.height,0,Y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?n.texSubImage2D(t.TEXTURE_2D,ue,0,0,Y.width,Y.height,je,He,Y.data):n.texImage2D(t.TEXTURE_2D,ue,De,Y.width,Y.height,0,je,He,Y.data)}else if(O.isDataArrayTexture)Xe?(Q&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Me,De,de.width,de.height,de.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,de.width,de.height,de.depth,je,He,de.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,De,de.width,de.height,de.depth,0,je,He,de.data);else if(O.isData3DTexture)Xe?(Q&&n.texStorage3D(t.TEXTURE_3D,Me,De,de.width,de.height,de.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,de.width,de.height,de.depth,je,He,de.data)):n.texImage3D(t.TEXTURE_3D,0,De,de.width,de.height,de.depth,0,je,He,de.data);else if(O.isFramebufferTexture){if(Q)if(Xe)n.texStorage2D(t.TEXTURE_2D,Me,De,de.width,de.height);else{let ue=de.width,Ge=de.height;for(let ze=0;ze<Me;ze++)n.texImage2D(t.TEXTURE_2D,ze,De,ue,Ge,0,je,He,null),ue>>=1,Ge>>=1}}else if(we.length>0&&qe){Xe&&Q&&n.texStorage2D(t.TEXTURE_2D,Me,De,we[0].width,we[0].height);for(let ue=0,Ge=we.length;ue<Ge;ue++)Y=we[ue],Xe?n.texSubImage2D(t.TEXTURE_2D,ue,0,0,je,He,Y):n.texImage2D(t.TEXTURE_2D,ue,De,je,He,Y);O.generateMipmaps=!1}else Xe?(Q&&n.texStorage2D(t.TEXTURE_2D,Me,De,de.width,de.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,je,He,de)):n.texImage2D(t.TEXTURE_2D,0,De,je,He,de);A(O,qe)&&R(Ue),Fe.__version=Ae.version,O.onUpdate&&O.onUpdate(O)}V.__version=O.version}function We(V,O,oe){if(O.image.length!==6)return;const Ue=_e(V,O),ge=O.source;n.bindTexture(t.TEXTURE_CUBE_MAP,V.__webglTexture,t.TEXTURE0+oe);const Ae=r.get(ge);if(ge.version!==Ae.__version||Ue===!0){n.activeTexture(t.TEXTURE0+oe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Fe=O.isCompressedTexture||O.image[0].isCompressedTexture,ke=O.image[0]&&O.image[0].isDataTexture,de=[];for(let ue=0;ue<6;ue++)!Fe&&!ke?de[ue]=w(O.image[ue],!1,!0,u):de[ue]=ke?O.image[ue].image:O.image[ue],de[ue]=Ke(O,de[ue]);const qe=de[0],je=M(qe)||a,He=s.convert(O.format,O.colorSpace),De=s.convert(O.type),Y=L(O.internalFormat,He,De,O.colorSpace),we=a&&O.isVideoTexture!==!0,Xe=Ae.__version===void 0||Ue===!0;let Q=C(O,qe,je);se(t.TEXTURE_CUBE_MAP,O,je);let Me;if(Fe){we&&Xe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Q,Y,qe.width,qe.height);for(let ue=0;ue<6;ue++){Me=de[ue].mipmaps;for(let Ge=0;Ge<Me.length;Ge++){const ze=Me[Ge];O.format!==ri?He!==null?we?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge,0,0,ze.width,ze.height,He,ze.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge,Y,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):we?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge,0,0,ze.width,ze.height,He,De,ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge,Y,ze.width,ze.height,0,He,De,ze.data)}}}else{Me=O.mipmaps,we&&Xe&&(Me.length>0&&Q++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Q,Y,de[0].width,de[0].height));for(let ue=0;ue<6;ue++)if(ke){we?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,0,0,de[ue].width,de[ue].height,He,De,de[ue].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,Y,de[ue].width,de[ue].height,0,He,De,de[ue].data);for(let Ge=0;Ge<Me.length;Ge++){const Qe=Me[Ge].image[ue].image;we?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge+1,0,0,Qe.width,Qe.height,He,De,Qe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge+1,Y,Qe.width,Qe.height,0,He,De,Qe.data)}}else{we?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,0,0,He,De,de[ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,Y,He,De,de[ue]);for(let Ge=0;Ge<Me.length;Ge++){const ze=Me[Ge];we?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge+1,0,0,He,De,ze.image[ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ge+1,Y,He,De,ze.image[ue])}}}A(O,je)&&R(t.TEXTURE_CUBE_MAP),Ae.__version=ge.version,O.onUpdate&&O.onUpdate(O)}V.__version=O.version}function Se(V,O,oe,Ue,ge){const Ae=s.convert(oe.format,oe.colorSpace),Fe=s.convert(oe.type),ke=L(oe.internalFormat,Ae,Fe,oe.colorSpace);r.get(O).__hasExternalTextures||(ge===t.TEXTURE_3D||ge===t.TEXTURE_2D_ARRAY?n.texImage3D(ge,0,ke,O.width,O.height,O.depth,0,Ae,Fe,null):n.texImage2D(ge,0,ke,O.width,O.height,0,Ae,Fe,null)),n.bindFramebuffer(t.FRAMEBUFFER,V),Ne(O)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ue,ge,r.get(oe).__webglTexture,0,Re(O)):(ge===t.TEXTURE_2D||ge>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ge<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ue,ge,r.get(oe).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function H(V,O,oe){if(t.bindRenderbuffer(t.RENDERBUFFER,V),O.depthBuffer&&!O.stencilBuffer){let Ue=t.DEPTH_COMPONENT16;if(oe||Ne(O)){const ge=O.depthTexture;ge&&ge.isDepthTexture&&(ge.type===Gs?Ue=t.DEPTH_COMPONENT32F:ge.type===Ao&&(Ue=t.DEPTH_COMPONENT24));const Ae=Re(O);Ne(O)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ae,Ue,O.width,O.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ae,Ue,O.width,O.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ue,O.width,O.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,V)}else if(O.depthBuffer&&O.stencilBuffer){const Ue=Re(O);oe&&Ne(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ue,t.DEPTH24_STENCIL8,O.width,O.height):Ne(O)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ue,t.DEPTH24_STENCIL8,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,V)}else{const Ue=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let ge=0;ge<Ue.length;ge++){const Ae=Ue[ge],Fe=s.convert(Ae.format,Ae.colorSpace),ke=s.convert(Ae.type),de=L(Ae.internalFormat,Fe,ke,Ae.colorSpace),qe=Re(O);oe&&Ne(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,qe,de,O.width,O.height):Ne(O)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,qe,de,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,de,O.width,O.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function be(V,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,V),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),k(O.depthTexture,0);const Ue=r.get(O.depthTexture).__webglTexture,ge=Re(O);if(O.depthTexture.format===Ia)Ne(O)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ue,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ue,0);else if(O.depthTexture.format===au)Ne(O)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ue,0,ge):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ue,0);else throw new Error("Unknown depthTexture format")}function he(V){const O=r.get(V),oe=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!O.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");be(O.__webglFramebuffer,V)}else if(oe){O.__webglDepthbuffer=[];for(let Ue=0;Ue<6;Ue++)n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[Ue]),O.__webglDepthbuffer[Ue]=t.createRenderbuffer(),H(O.__webglDepthbuffer[Ue],V,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer=t.createRenderbuffer(),H(O.__webglDepthbuffer,V,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(V,O,oe){const Ue=r.get(V);O!==void 0&&Se(Ue.__webglFramebuffer,V,V.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),oe!==void 0&&he(V)}function pe(V){const O=V.texture,oe=r.get(V),Ue=r.get(O);V.addEventListener("dispose",B),V.isWebGLMultipleRenderTargets!==!0&&(Ue.__webglTexture===void 0&&(Ue.__webglTexture=t.createTexture()),Ue.__version=O.version,o.memory.textures++);const ge=V.isWebGLCubeRenderTarget===!0,Ae=V.isWebGLMultipleRenderTargets===!0,Fe=M(V)||a;if(ge){oe.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)oe.__webglFramebuffer[ke]=t.createFramebuffer()}else{if(oe.__webglFramebuffer=t.createFramebuffer(),Ae)if(i.drawBuffers){const ke=V.texture;for(let de=0,qe=ke.length;de<qe;de++){const je=r.get(ke[de]);je.__webglTexture===void 0&&(je.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&V.samples>0&&Ne(V)===!1){const ke=Ae?O:[O];oe.__webglMultisampledFramebuffer=t.createFramebuffer(),oe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let de=0;de<ke.length;de++){const qe=ke[de];oe.__webglColorRenderbuffer[de]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,oe.__webglColorRenderbuffer[de]);const je=s.convert(qe.format,qe.colorSpace),He=s.convert(qe.type),De=L(qe.internalFormat,je,He,qe.colorSpace,V.isXRRenderTarget===!0),Y=Re(V);t.renderbufferStorageMultisample(t.RENDERBUFFER,Y,De,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+de,t.RENDERBUFFER,oe.__webglColorRenderbuffer[de])}t.bindRenderbuffer(t.RENDERBUFFER,null),V.depthBuffer&&(oe.__webglDepthRenderbuffer=t.createRenderbuffer(),H(oe.__webglDepthRenderbuffer,V,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ge){n.bindTexture(t.TEXTURE_CUBE_MAP,Ue.__webglTexture),se(t.TEXTURE_CUBE_MAP,O,Fe);for(let ke=0;ke<6;ke++)Se(oe.__webglFramebuffer[ke],V,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ke);A(O,Fe)&&R(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ae){const ke=V.texture;for(let de=0,qe=ke.length;de<qe;de++){const je=ke[de],He=r.get(je);n.bindTexture(t.TEXTURE_2D,He.__webglTexture),se(t.TEXTURE_2D,je,Fe),Se(oe.__webglFramebuffer,V,je,t.COLOR_ATTACHMENT0+de,t.TEXTURE_2D),A(je,Fe)&&R(t.TEXTURE_2D)}n.unbindTexture()}else{let ke=t.TEXTURE_2D;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(a?ke=V.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ke,Ue.__webglTexture),se(ke,O,Fe),Se(oe.__webglFramebuffer,V,O,t.COLOR_ATTACHMENT0,ke),A(O,Fe)&&R(ke),n.unbindTexture()}V.depthBuffer&&he(V)}function Be(V){const O=M(V)||a,oe=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let Ue=0,ge=oe.length;Ue<ge;Ue++){const Ae=oe[Ue];if(A(Ae,O)){const Fe=V.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ke=r.get(Ae).__webglTexture;n.bindTexture(Fe,ke),R(Fe),n.unbindTexture()}}}function ye(V){if(a&&V.samples>0&&Ne(V)===!1){const O=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],oe=V.width,Ue=V.height;let ge=t.COLOR_BUFFER_BIT;const Ae=[],Fe=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=r.get(V),de=V.isWebGLMultipleRenderTargets===!0;if(de)for(let qe=0;qe<O.length;qe++)n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let qe=0;qe<O.length;qe++){Ae.push(t.COLOR_ATTACHMENT0+qe),V.depthBuffer&&Ae.push(Fe);const je=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(je===!1&&(V.depthBuffer&&(ge|=t.DEPTH_BUFFER_BIT),V.stencilBuffer&&(ge|=t.STENCIL_BUFFER_BIT)),de&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ke.__webglColorRenderbuffer[qe]),je===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Fe]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Fe])),de){const He=r.get(O[qe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,He,0)}t.blitFramebuffer(0,0,oe,Ue,0,0,oe,Ue,ge,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ae)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),de)for(let qe=0;qe<O.length;qe++){n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.RENDERBUFFER,ke.__webglColorRenderbuffer[qe]);const je=r.get(O[qe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.TEXTURE_2D,je,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}}function Re(V){return Math.min(d,V.samples)}function Ne(V){const O=r.get(V);return a&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function me(V){const O=o.render.frame;g.get(V)!==O&&(g.set(V,O),V.update())}function Ke(V,O){const oe=V.colorSpace,Ue=V.format,ge=V.type;return V.isCompressedTexture===!0||V.format===Rv||oe!==Es&&oe!==Ua&&(oe===Ct?a===!1?e.has("EXT_sRGB")===!0&&Ue===ri?(V.format=Rv,V.minFilter=_n,V.generateMipmaps=!1):O=wM.sRGBToLinear(O):(Ue!==ri||ge!==qs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),O}this.allocateTextureUnit=U,this.resetTextureUnits=ne,this.setTexture2D=k,this.setTexture2DArray=N,this.setTexture3D=I,this.setTextureCube=J,this.rebindTextures=Te,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=ye,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=Ne}function yN(t,e,n){const r=n.isWebGL2;function i(s,o=Ua){let a;if(s===qs)return t.UNSIGNED_BYTE;if(s===hM)return t.UNSIGNED_SHORT_4_4_4_4;if(s===dM)return t.UNSIGNED_SHORT_5_5_5_1;if(s===FU)return t.BYTE;if(s===BU)return t.SHORT;if(s===Ey)return t.UNSIGNED_SHORT;if(s===fM)return t.INT;if(s===Ao)return t.UNSIGNED_INT;if(s===Gs)return t.FLOAT;if(s===Tf)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===zU)return t.ALPHA;if(s===ri)return t.RGBA;if(s===VU)return t.LUMINANCE;if(s===HU)return t.LUMINANCE_ALPHA;if(s===Ia)return t.DEPTH_COMPONENT;if(s===au)return t.DEPTH_STENCIL;if(s===Rv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===GU)return t.RED;if(s===pM)return t.RED_INTEGER;if(s===WU)return t.RG;if(s===mM)return t.RG_INTEGER;if(s===gM)return t.RGBA_INTEGER;if(s===C0||s===P0||s===R0||s===L0)if(o===Ct)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===C0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===P0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===R0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===L0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===C0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===P0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===R0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===L0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===aS||s===lS||s===uS||s===cS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===aS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===lS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===uS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===cS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===jU)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===fS||s===hS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===fS)return o===Ct?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===hS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===dS||s===pS||s===mS||s===gS||s===vS||s===yS||s===xS||s===_S||s===SS||s===wS||s===bS||s===MS||s===ES||s===TS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===dS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===pS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===mS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===gS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===vS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===yS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===xS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===_S)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===SS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===wS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===bS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===MS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===ES)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===TS)return o===Ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===D0)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===D0)return o===Ct?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===$U||s===AS||s===CS||s===PS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===D0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===AS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===CS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===PS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Da?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class xN extends Bn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class nf extends Xt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Qpe={type:"move"};class e_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new nf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new nf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new j,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new j),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new nf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new j,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new j),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const x=n.getJointPose(_,r),v=this._getHandJoint(u,_);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=c.position.distanceTo(d.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Qpe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new nf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class _N extends En{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:Ia,c!==Ia&&c!==au)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Ia&&(r=Ao),r===void 0&&c===au&&(r=Da),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:kn,this.minFilter=l!==void 0?l:kn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class eme extends Go{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,d=null,p=null,m=null,g=null;const _=n.getContextAttributes();let x=null,v=null;const S=[],w=[];let M=null;const T=new Bn;T.layers.enable(1),T.viewport=new Kt;const A=new Bn;A.layers.enable(2),A.viewport=new Kt;const R=[T,A],L=new xN;L.layers.enable(1),L.layers.enable(2);let C=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(I){M=I},this.getController=function(I){let J=S[I];return J===void 0&&(J=new e_,S[I]=J),J.getTargetRaySpace()},this.getControllerGrip=function(I){let J=S[I];return J===void 0&&(J=new e_,S[I]=J),J.getGripSpace()},this.getHand=function(I){let J=S[I];return J===void 0&&(J=new e_,S[I]=J),J.getHandSpace()};function F(I){const J=w.indexOf(I.inputSource);if(J===-1)return;const Z=S[J];Z!==void 0&&(Z.update(I.inputSource,I.frame,u||o),Z.dispatchEvent({type:I.type,data:I.inputSource}))}function B(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",B),i.removeEventListener("inputsourceschange",W);for(let I=0;I<S.length;I++){const J=w[I];J!==null&&(w[I]=null,S[I].disconnect(J))}C=null,P=null,e.setRenderTarget(x),m=null,p=null,d=null,i=null,v=null,N.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(I){s=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(I){a=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(I){u=I},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(I){if(i=I,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",B),i.addEventListener("inputsourceschange",W),_.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,J),i.updateRenderState({baseLayer:m}),v=new Ts(m.framebufferWidth,m.framebufferHeight,{format:ri,type:qs,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let J=null,Z=null,te=null;_.depth&&(te=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,J=_.stencil?au:Ia,Z=_.stencil?Da:Ao);const ie={colorFormat:n.RGBA8,depthFormat:te,scaleFactor:s};d=new XRWebGLBinding(i,n),p=d.createProjectionLayer(ie),i.updateRenderState({layers:[p]}),v=new Ts(p.textureWidth,p.textureHeight,{format:ri,type:qs,depthTexture:new _N(p.textureWidth,p.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const se=e.properties.get(v);se.__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),N.setContext(i),N.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function W(I){for(let J=0;J<I.removed.length;J++){const Z=I.removed[J],te=w.indexOf(Z);te>=0&&(w[te]=null,S[te].disconnect(Z))}for(let J=0;J<I.added.length;J++){const Z=I.added[J];let te=w.indexOf(Z);if(te===-1){for(let se=0;se<S.length;se++)if(se>=w.length){w.push(Z),te=se;break}else if(w[se]===null){w[se]=Z,te=se;break}if(te===-1)break}const ie=S[te];ie&&ie.connect(Z)}}const G=new j,q=new j;function ee(I,J,Z){G.setFromMatrixPosition(J.matrixWorld),q.setFromMatrixPosition(Z.matrixWorld);const te=G.distanceTo(q),ie=J.projectionMatrix.elements,se=Z.projectionMatrix.elements,_e=ie[14]/(ie[10]-1),Ie=ie[14]/(ie[10]+1),We=(ie[9]+1)/ie[5],Se=(ie[9]-1)/ie[5],H=(ie[8]-1)/ie[0],be=(se[8]+1)/se[0],he=_e*H,Te=_e*be,pe=te/(-H+be),Be=pe*-H;J.matrixWorld.decompose(I.position,I.quaternion,I.scale),I.translateX(Be),I.translateZ(pe),I.matrixWorld.compose(I.position,I.quaternion,I.scale),I.matrixWorldInverse.copy(I.matrixWorld).invert();const ye=_e+pe,Re=Ie+pe,Ne=he-Be,me=Te+(te-Be),Ke=We*Ie/Re*ye,V=Se*Ie/Re*ye;I.projectionMatrix.makePerspective(Ne,me,Ke,V,ye,Re),I.projectionMatrixInverse.copy(I.projectionMatrix).invert()}function ne(I,J){J===null?I.matrixWorld.copy(I.matrix):I.matrixWorld.multiplyMatrices(J.matrixWorld,I.matrix),I.matrixWorldInverse.copy(I.matrixWorld).invert()}this.updateCameraXR=function(I){if(i===null)return I;M&&(I=M),L.near=A.near=T.near=I.near,L.far=A.far=T.far=I.far,(C!==L.near||P!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),C=L.near,P=L.far);const J=I.parent,Z=L.cameras;ne(L,J);for(let te=0;te<Z.length;te++)ne(Z[te],J);return Z.length===2?ee(L,T,A):L.projectionMatrix.copy(T.projectionMatrix),M&&U(L,J),L};function U(I,J){const Z=M;J===null?Z.matrix.copy(I.matrixWorld):(Z.matrix.copy(J.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(I.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0);const te=Z.children;for(let ie=0,se=te.length;ie<se;ie++)te[ie].updateMatrixWorld(!0);Z.projectionMatrix.copy(I.projectionMatrix),Z.projectionMatrixInverse.copy(I.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=Af*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(I){l=I,p!==null&&(p.fixedFoveation=I),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=I)};let z=null;function k(I,J){if(c=J.getViewerPose(u||o),g=J,c!==null){const Z=c.views;m!==null&&(e.setRenderTargetFramebuffer(v,m.framebuffer),e.setRenderTarget(v));let te=!1;Z.length!==L.cameras.length&&(L.cameras.length=0,te=!0);for(let ie=0;ie<Z.length;ie++){const se=Z[ie];let _e=null;if(m!==null)_e=m.getViewport(se);else{const We=d.getViewSubImage(p,se);_e=We.viewport,ie===0&&(e.setRenderTargetTextures(v,We.colorTexture,p.ignoreDepthValues?void 0:We.depthStencilTexture),e.setRenderTarget(v))}let Ie=R[ie];Ie===void 0&&(Ie=new Bn,Ie.layers.enable(ie),Ie.viewport=new Kt,R[ie]=Ie),Ie.matrix.fromArray(se.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(se.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(_e.x,_e.y,_e.width,_e.height),ie===0&&(L.matrix.copy(Ie.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),te===!0&&L.cameras.push(Ie)}}for(let Z=0;Z<S.length;Z++){const te=w[Z],ie=S[Z];te!==null&&ie!==void 0&&ie.update(te,J,u||o)}z&&z(I,J),J.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:J}),g=null}const N=new dN;N.setAnimationLoop(k),this.setAnimationLoop=function(I){z=I},this.dispose=function(){}}}function tme(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function r(x,v){v.color.getRGB(x.fogColor.value,cN(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function i(x,v,S,w,M){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(x,v):v.isMeshToonMaterial?(s(x,v),d(x,v)):v.isMeshPhongMaterial?(s(x,v),c(x,v)):v.isMeshStandardMaterial?(s(x,v),p(x,v),v.isMeshPhysicalMaterial&&m(x,v,M)):v.isMeshMatcapMaterial?(s(x,v),g(x,v)):v.isMeshDepthMaterial?s(x,v):v.isMeshDistanceMaterial?(s(x,v),_(x,v)):v.isMeshNormalMaterial?s(x,v):v.isLineBasicMaterial?(o(x,v),v.isLineDashedMaterial&&a(x,v)):v.isPointsMaterial?l(x,v,S,w):v.isSpriteMaterial?u(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===Wr&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===Wr&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const S=e.get(v).envMap;if(S&&(x.envMap.value=S,x.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap){x.lightMap.value=v.lightMap;const w=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=v.lightMapIntensity*w,n(v.lightMap,x.lightMapTransform)}v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function o(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function a(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function l(x,v,S,w){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*S,x.scale.value=w*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function d(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function p(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),e.get(v).envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function m(x,v,S){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Wr&&x.clearcoatNormalScale.value.negate())),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=S.texture,x.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function g(x,v){v.matcap&&(x.matcap.value=v.matcap)}function _(x,v){const S=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(S.matrixWorld),x.nearDistance.value=S.shadow.camera.near,x.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function nme(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,w){const M=w.program;r.uniformBlockBinding(S,M)}function u(S,w){let M=i[S.id];M===void 0&&(g(S),M=c(S),i[S.id]=M,S.addEventListener("dispose",x));const T=w.program;r.updateUBOMapping(S,T);const A=e.render.frame;s[S.id]!==A&&(p(S),s[S.id]=A)}function c(S){const w=d();S.__bindingPointIndex=w;const M=t.createBuffer(),T=S.__size,A=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,T,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,M),M}function d(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const w=i[S.id],M=S.uniforms,T=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let A=0,R=M.length;A<R;A++){const L=M[A];if(m(L,A,T)===!0){const C=L.__offset,P=Array.isArray(L.value)?L.value:[L.value];let F=0;for(let B=0;B<P.length;B++){const W=P[B],G=_(W);typeof W=="number"?(L.__data[0]=W,t.bufferSubData(t.UNIFORM_BUFFER,C+F,L.__data)):W.isMatrix3?(L.__data[0]=W.elements[0],L.__data[1]=W.elements[1],L.__data[2]=W.elements[2],L.__data[3]=W.elements[0],L.__data[4]=W.elements[3],L.__data[5]=W.elements[4],L.__data[6]=W.elements[5],L.__data[7]=W.elements[0],L.__data[8]=W.elements[6],L.__data[9]=W.elements[7],L.__data[10]=W.elements[8],L.__data[11]=W.elements[0]):(W.toArray(L.__data,F),F+=G.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,C,L.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(S,w,M){const T=S.value;if(M[w]===void 0){if(typeof T=="number")M[w]=T;else{const A=Array.isArray(T)?T:[T],R=[];for(let L=0;L<A.length;L++)R.push(A[L].clone());M[w]=R}return!0}else if(typeof T=="number"){if(M[w]!==T)return M[w]=T,!0}else{const A=Array.isArray(M[w])?M[w]:[M[w]],R=Array.isArray(T)?T:[T];for(let L=0;L<A.length;L++){const C=A[L];if(C.equals(R[L])===!1)return C.copy(R[L]),!0}}return!1}function g(S){const w=S.uniforms;let M=0;const T=16;let A=0;for(let R=0,L=w.length;R<L;R++){const C=w[R],P={boundary:0,storage:0},F=Array.isArray(C.value)?C.value:[C.value];for(let B=0,W=F.length;B<W;B++){const G=F[B],q=_(G);P.boundary+=q.boundary,P.storage+=q.storage}if(C.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=M,R>0){A=M%T;const B=T-A;A!==0&&B-P.boundary<0&&(M+=T-A,C.__offset=M)}M+=P.storage}return A=M%T,A>0&&(M+=T-A),S.__size=M,S.__cache={},this}function _(S){const w={boundary:0,storage:0};return typeof S=="number"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),w}function x(S){const w=S.target;w.removeEventListener("dispose",x);const M=o.indexOf(w.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function v(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:v}}function rme(){const t=lp("canvas");return t.style.display="block",t}class CM{constructor(e={}){const{canvas:n=rme(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),g=new Int32Array(4);let _=null,x=null;const v=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Ct,this.useLegacyLights=!0,this.toneMapping=bs,this.toneMappingExposure=1;const w=this;let M=!1,T=0,A=0,R=null,L=-1,C=null;const P=new Kt,F=new Kt;let B=null;const W=new et(0);let G=0,q=n.width,ee=n.height,ne=1,U=null,z=null;const k=new Kt(0,0,q,ee),N=new Kt(0,0,q,ee);let I=!1;const J=new Cy;let Z=!1,te=!1,ie=null;const se=new Mt,_e=new Oe,Ie=new j,We={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Se(){return R===null?ne:1}let H=r;function be($,ve){for(let Pe=0;Pe<$.length;Pe++){const fe=$[Pe],Le=n.getContext(fe,ve);if(Le!==null)return Le}return null}try{const $={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${wy}`),n.addEventListener("webglcontextlost",Me,!1),n.addEventListener("webglcontextrestored",ue,!1),n.addEventListener("webglcontextcreationerror",Ge,!1),H===null){const ve=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&ve.shift(),H=be(ve,$),H===null)throw be(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}H instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let he,Te,pe,Be,ye,Re,Ne,me,Ke,V,O,oe,Ue,ge,Ae,Fe,ke,de,qe,je,He,De,Y,we;function Xe(){he=new xde(H),Te=new dde(H,he,e),he.init(Te),De=new yN(H,he,Te),pe=new Zpe(H,he,Te),Be=new wde(H),ye=new Bpe,Re=new Jpe(H,he,pe,ye,Te,De,Be),Ne=new mde(w),me=new yde(w),Ke=new Oce(H,Te),Y=new fde(H,he,Ke,Te),V=new _de(H,Ke,Be,Y),O=new Tde(H,V,Ke,Be),qe=new Ede(H,Te,Re),Fe=new pde(ye),oe=new Fpe(w,Ne,me,he,Te,Y,Fe),Ue=new tme(w,ye),ge=new Vpe,Ae=new Xpe(he,Te),de=new cde(w,Ne,me,pe,O,p,l),ke=new Kpe(w,O,Te),we=new nme(H,Be,Te,pe),je=new hde(H,he,Be,Te),He=new Sde(H,he,Be,Te),Be.programs=oe.programs,w.capabilities=Te,w.extensions=he,w.properties=ye,w.renderLists=ge,w.shadowMap=ke,w.state=pe,w.info=Be}Xe();const Q=new eme(w,H);this.xr=Q,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const $=he.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=he.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function($){$!==void 0&&(ne=$,this.setSize(q,ee,!1))},this.getSize=function($){return $.set(q,ee)},this.setSize=function($,ve,Pe=!0){if(Q.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=$,ee=ve,n.width=Math.floor($*ne),n.height=Math.floor(ve*ne),Pe===!0&&(n.style.width=$+"px",n.style.height=ve+"px"),this.setViewport(0,0,$,ve)},this.getDrawingBufferSize=function($){return $.set(q*ne,ee*ne).floor()},this.setDrawingBufferSize=function($,ve,Pe){q=$,ee=ve,ne=Pe,n.width=Math.floor($*Pe),n.height=Math.floor(ve*Pe),this.setViewport(0,0,$,ve)},this.getCurrentViewport=function($){return $.copy(P)},this.getViewport=function($){return $.copy(k)},this.setViewport=function($,ve,Pe,fe){$.isVector4?k.set($.x,$.y,$.z,$.w):k.set($,ve,Pe,fe),pe.viewport(P.copy(k).multiplyScalar(ne).floor())},this.getScissor=function($){return $.copy(N)},this.setScissor=function($,ve,Pe,fe){$.isVector4?N.set($.x,$.y,$.z,$.w):N.set($,ve,Pe,fe),pe.scissor(F.copy(N).multiplyScalar(ne).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function($){pe.setScissorTest(I=$)},this.setOpaqueSort=function($){U=$},this.setTransparentSort=function($){z=$},this.getClearColor=function($){return $.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor.apply(de,arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha.apply(de,arguments)},this.clear=function($=!0,ve=!0,Pe=!0){let fe=0;if($){let Le=!1;if(R!==null){const rt=R.texture.format;Le=rt===gM||rt===mM||rt===pM}if(Le){const rt=R.texture.type,pt=rt===qs||rt===Ao||rt===Ey||rt===Da||rt===hM||rt===dM,mt=de.getClearColor(),xt=de.getClearAlpha(),Et=mt.r,Ve=mt.g,gt=mt.b,Yt=ye.get(R).__webglFramebuffer;pt?(m[0]=Et,m[1]=Ve,m[2]=gt,m[3]=xt,H.clearBufferuiv(H.COLOR,Yt,m)):(g[0]=Et,g[1]=Ve,g[2]=gt,g[3]=xt,H.clearBufferiv(H.COLOR,Yt,g))}else fe|=H.COLOR_BUFFER_BIT}ve&&(fe|=H.DEPTH_BUFFER_BIT),Pe&&(fe|=H.STENCIL_BUFFER_BIT),H.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Me,!1),n.removeEventListener("webglcontextrestored",ue,!1),n.removeEventListener("webglcontextcreationerror",Ge,!1),ge.dispose(),Ae.dispose(),ye.dispose(),Ne.dispose(),me.dispose(),O.dispose(),Y.dispose(),we.dispose(),oe.dispose(),Q.dispose(),Q.removeEventListener("sessionstart",dt),Q.removeEventListener("sessionend",Ft),ie&&(ie.dispose(),ie=null),Ot.stop()};function Me($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const $=Be.autoReset,ve=ke.enabled,Pe=ke.autoUpdate,fe=ke.needsUpdate,Le=ke.type;Xe(),Be.autoReset=$,ke.enabled=ve,ke.autoUpdate=Pe,ke.needsUpdate=fe,ke.type=Le}function Ge($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function ze($){const ve=$.target;ve.removeEventListener("dispose",ze),Qe(ve)}function Qe($){ht($),ye.remove($)}function ht($){const ve=ye.get($).programs;ve!==void 0&&(ve.forEach(function(Pe){oe.releaseProgram(Pe)}),$.isShaderMaterial&&oe.releaseShaderCache($))}this.renderBufferDirect=function($,ve,Pe,fe,Le,rt){ve===null&&(ve=We);const pt=Le.isMesh&&Le.matrixWorld.determinant()<0,mt=Yn($,ve,Pe,fe,Le);pe.setMaterial(fe,pt);let xt=Pe.index,Et=1;fe.wireframe===!0&&(xt=V.getWireframeAttribute(Pe),Et=2);const Ve=Pe.drawRange,gt=Pe.attributes.position;let Yt=Ve.start*Et,Gt=(Ve.start+Ve.count)*Et;rt!==null&&(Yt=Math.max(Yt,rt.start*Et),Gt=Math.min(Gt,(rt.start+rt.count)*Et)),xt!==null?(Yt=Math.max(Yt,0),Gt=Math.min(Gt,xt.count)):gt!=null&&(Yt=Math.max(Yt,0),Gt=Math.min(Gt,gt.count));const rr=Gt-Yt;if(rr<0||rr===1/0)return;Y.setup(Le,fe,mt,Pe,xt);let yr,qt=je;if(xt!==null&&(yr=Ke.get(xt),qt=He,qt.setIndex(yr)),Le.isMesh)fe.wireframe===!0?(pe.setLineWidth(fe.wireframeLinewidth*Se()),qt.setMode(H.LINES)):qt.setMode(H.TRIANGLES);else if(Le.isLine){let St=fe.linewidth;St===void 0&&(St=1),pe.setLineWidth(St*Se()),Le.isLineSegments?qt.setMode(H.LINES):Le.isLineLoop?qt.setMode(H.LINE_LOOP):qt.setMode(H.LINE_STRIP)}else Le.isPoints?qt.setMode(H.POINTS):Le.isSprite&&qt.setMode(H.TRIANGLES);if(Le.isInstancedMesh)qt.renderInstances(Yt,rr,Le.count);else if(Pe.isInstancedBufferGeometry){const St=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,zt=Math.min(Pe.instanceCount,St);qt.renderInstances(Yt,rr,zt)}else qt.render(Yt,rr)},this.compile=function($,ve){function Pe(fe,Le,rt){fe.transparent===!0&&fe.side===xs&&fe.forceSinglePass===!1?(fe.side=Wr,fe.needsUpdate=!0,nr(fe,Le,rt),fe.side=ko,fe.needsUpdate=!0,nr(fe,Le,rt),fe.side=xs):nr(fe,Le,rt)}x=Ae.get($),x.init(),S.push(x),$.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ve.layers)&&(x.pushLight(fe),fe.castShadow&&x.pushShadow(fe))}),x.setupLights(w.useLegacyLights),$.traverse(function(fe){const Le=fe.material;if(Le)if(Array.isArray(Le))for(let rt=0;rt<Le.length;rt++){const pt=Le[rt];Pe(pt,$,fe)}else Pe(Le,$,fe)}),S.pop(),x=null};let ct=null;function lt($){ct&&ct($)}function dt(){Ot.stop()}function Ft(){Ot.start()}const Ot=new dN;Ot.setAnimationLoop(lt),typeof self<"u"&&Ot.setContext(self),this.setAnimationLoop=function($){ct=$,Q.setAnimationLoop($),$===null?Ot.stop():Ot.start()},Q.addEventListener("sessionstart",dt),Q.addEventListener("sessionend",Ft),this.render=function($,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),Q.enabled===!0&&Q.isPresenting===!0&&(ve=Q.updateCameraXR(ve)),$.isScene===!0&&$.onBeforeRender(w,$,ve,R),x=Ae.get($,S.length),x.init(),S.push(x),se.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),J.setFromProjectionMatrix(se),te=this.localClippingEnabled,Z=Fe.init(this.clippingPlanes,te),_=ge.get($,v.length),_.init(),v.push(_),cn($,ve,0,w.sortObjects),_.finish(),w.sortObjects===!0&&_.sort(U,z),Z===!0&&Fe.beginShadows();const Pe=x.state.shadowsArray;if(ke.render(Pe,$,ve),Z===!0&&Fe.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,de.render(_,$),x.setupLights(w.useLegacyLights),ve.isArrayCamera){const fe=ve.cameras;for(let Le=0,rt=fe.length;Le<rt;Le++){const pt=fe[Le];vr(_,$,pt,pt.viewport)}}else vr(_,$,ve);R!==null&&(Re.updateMultisampleRenderTarget(R),Re.updateRenderTargetMipmap(R)),$.isScene===!0&&$.onAfterRender(w,$,ve),Y.resetDefaultState(),L=-1,C=null,S.pop(),S.length>0?x=S[S.length-1]:x=null,v.pop(),v.length>0?_=v[v.length-1]:_=null};function cn($,ve,Pe,fe){if($.visible===!1)return;if($.layers.test(ve.layers)){if($.isGroup)Pe=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(ve);else if($.isLight)x.pushLight($),$.castShadow&&x.pushShadow($);else if($.isSprite){if(!$.frustumCulled||J.intersectsSprite($)){fe&&Ie.setFromMatrixPosition($.matrixWorld).applyMatrix4(se);const pt=O.update($),mt=$.material;mt.visible&&_.push($,pt,mt,Pe,Ie.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&(!$.frustumCulled||J.intersectsObject($))){$.isSkinnedMesh&&$.skeleton.frame!==Be.render.frame&&($.skeleton.update(),$.skeleton.frame=Be.render.frame);const pt=O.update($),mt=$.material;if(fe&&($.boundingSphere!==void 0?($.boundingSphere===null&&$.computeBoundingSphere(),Ie.copy($.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),Ie.copy(pt.boundingSphere.center)),Ie.applyMatrix4($.matrixWorld).applyMatrix4(se)),Array.isArray(mt)){const xt=pt.groups;for(let Et=0,Ve=xt.length;Et<Ve;Et++){const gt=xt[Et],Yt=mt[gt.materialIndex];Yt&&Yt.visible&&_.push($,pt,Yt,Pe,Ie.z,gt)}}else mt.visible&&_.push($,pt,mt,Pe,Ie.z,null)}}const rt=$.children;for(let pt=0,mt=rt.length;pt<mt;pt++)cn(rt[pt],ve,Pe,fe)}function vr($,ve,Pe,fe){const Le=$.opaque,rt=$.transmissive,pt=$.transparent;x.setupLightsView(Pe),Z===!0&&Fe.setGlobalState(w.clippingPlanes,Pe),rt.length>0&&fi(Le,rt,ve,Pe),fe&&pe.viewport(P.copy(fe)),Le.length>0&&tr(Le,ve,Pe),rt.length>0&&tr(rt,ve,Pe),pt.length>0&&tr(pt,ve,Pe),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function fi($,ve,Pe,fe){const Le=Te.isWebGL2;ie===null&&(ie=new Ts(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?Tf:qs,minFilter:ja,samples:Le&&a===!0?4:0})),w.getDrawingBufferSize(_e),Le?ie.setSize(_e.x,_e.y):ie.setSize(Lv(_e.x),Lv(_e.y));const rt=w.getRenderTarget();w.setRenderTarget(ie),w.getClearColor(W),G=w.getClearAlpha(),G<1&&w.setClearColor(16777215,.5),w.clear();const pt=w.toneMapping;w.toneMapping=bs,tr($,Pe,fe),Re.updateMultisampleRenderTarget(ie),Re.updateRenderTargetMipmap(ie);let mt=!1;for(let xt=0,Et=ve.length;xt<Et;xt++){const Ve=ve[xt],gt=Ve.object,Yt=Ve.geometry,Gt=Ve.material,rr=Ve.group;if(Gt.side===xs&&gt.layers.test(fe.layers)){const yr=Gt.side;Gt.side=Wr,Gt.needsUpdate=!0,hi(gt,Pe,fe,Yt,Gt,rr),Gt.side=yr,Gt.needsUpdate=!0,mt=!0}}mt===!0&&(Re.updateMultisampleRenderTarget(ie),Re.updateRenderTargetMipmap(ie)),w.setRenderTarget(rt),w.setClearColor(W,G),w.toneMapping=pt}function tr($,ve,Pe){const fe=ve.isScene===!0?ve.overrideMaterial:null;for(let Le=0,rt=$.length;Le<rt;Le++){const pt=$[Le],mt=pt.object,xt=pt.geometry,Et=fe===null?pt.material:fe,Ve=pt.group;mt.layers.test(Pe.layers)&&hi(mt,ve,Pe,xt,Et,Ve)}}function hi($,ve,Pe,fe,Le,rt){$.onBeforeRender(w,ve,Pe,fe,Le,rt),$.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Le.onBeforeRender(w,ve,Pe,fe,$,rt),Le.transparent===!0&&Le.side===xs&&Le.forceSinglePass===!1?(Le.side=Wr,Le.needsUpdate=!0,w.renderBufferDirect(Pe,ve,fe,Le,$,rt),Le.side=ko,Le.needsUpdate=!0,w.renderBufferDirect(Pe,ve,fe,Le,$,rt),Le.side=xs):w.renderBufferDirect(Pe,ve,fe,Le,$,rt),$.onAfterRender(w,ve,Pe,fe,Le,rt)}function nr($,ve,Pe){ve.isScene!==!0&&(ve=We);const fe=ye.get($),Le=x.state.lights,rt=x.state.shadowsArray,pt=Le.state.version,mt=oe.getParameters($,Le.state,rt,ve,Pe),xt=oe.getProgramCacheKey(mt);let Et=fe.programs;fe.environment=$.isMeshStandardMaterial?ve.environment:null,fe.fog=ve.fog,fe.envMap=($.isMeshStandardMaterial?me:Ne).get($.envMap||fe.environment),Et===void 0&&($.addEventListener("dispose",ze),Et=new Map,fe.programs=Et);let Ve=Et.get(xt);if(Ve!==void 0){if(fe.currentProgram===Ve&&fe.lightsStateVersion===pt)return Yr($,mt),Ve}else mt.uniforms=oe.getUniforms($),$.onBuild(Pe,mt,w),$.onBeforeCompile(mt,w),Ve=oe.acquireProgram(mt,xt),Et.set(xt,Ve),fe.uniforms=mt.uniforms;const gt=fe.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(gt.clippingPlanes=Fe.uniform),Yr($,mt),fe.needsLights=Pu($),fe.lightsStateVersion=pt,fe.needsLights&&(gt.ambientLightColor.value=Le.state.ambient,gt.lightProbe.value=Le.state.probe,gt.directionalLights.value=Le.state.directional,gt.directionalLightShadows.value=Le.state.directionalShadow,gt.spotLights.value=Le.state.spot,gt.spotLightShadows.value=Le.state.spotShadow,gt.rectAreaLights.value=Le.state.rectArea,gt.ltc_1.value=Le.state.rectAreaLTC1,gt.ltc_2.value=Le.state.rectAreaLTC2,gt.pointLights.value=Le.state.point,gt.pointLightShadows.value=Le.state.pointShadow,gt.hemisphereLights.value=Le.state.hemi,gt.directionalShadowMap.value=Le.state.directionalShadowMap,gt.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,gt.spotShadowMap.value=Le.state.spotShadowMap,gt.spotLightMatrix.value=Le.state.spotLightMatrix,gt.spotLightMap.value=Le.state.spotLightMap,gt.pointShadowMap.value=Le.state.pointShadowMap,gt.pointShadowMatrix.value=Le.state.pointShadowMatrix);const Yt=Ve.getUniforms(),Gt=U0.seqWithValue(Yt.seq,gt);return fe.currentProgram=Ve,fe.uniformsList=Gt,Ve}function Yr($,ve){const Pe=ye.get($);Pe.outputColorSpace=ve.outputColorSpace,Pe.instancing=ve.instancing,Pe.skinning=ve.skinning,Pe.morphTargets=ve.morphTargets,Pe.morphNormals=ve.morphNormals,Pe.morphColors=ve.morphColors,Pe.morphTargetsCount=ve.morphTargetsCount,Pe.numClippingPlanes=ve.numClippingPlanes,Pe.numIntersection=ve.numClipIntersection,Pe.vertexAlphas=ve.vertexAlphas,Pe.vertexTangents=ve.vertexTangents,Pe.toneMapping=ve.toneMapping}function Yn($,ve,Pe,fe,Le){ve.isScene!==!0&&(ve=We),Re.resetTextureUnits();const rt=ve.fog,pt=fe.isMeshStandardMaterial?ve.environment:null,mt=R===null?w.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Es,xt=(fe.isMeshStandardMaterial?me:Ne).get(fe.envMap||pt),Et=fe.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,Ve=!!Pe.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),gt=!!Pe.morphAttributes.position,Yt=!!Pe.morphAttributes.normal,Gt=!!Pe.morphAttributes.color,rr=fe.toneMapped?w.toneMapping:bs,yr=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,qt=yr!==void 0?yr.length:0,St=ye.get(fe),zt=x.state.lights;if(Z===!0&&(te===!0||$!==C)){const zn=$===C&&fe.id===L;Fe.setState(fe,$,zn)}let wt=!1;fe.version===St.__version?(St.needsLights&&St.lightsStateVersion!==zt.state.version||St.outputColorSpace!==mt||Le.isInstancedMesh&&St.instancing===!1||!Le.isInstancedMesh&&St.instancing===!0||Le.isSkinnedMesh&&St.skinning===!1||!Le.isSkinnedMesh&&St.skinning===!0||St.envMap!==xt||fe.fog===!0&&St.fog!==rt||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==Fe.numPlanes||St.numIntersection!==Fe.numIntersection)||St.vertexAlphas!==Et||St.vertexTangents!==Ve||St.morphTargets!==gt||St.morphNormals!==Yt||St.morphColors!==Gt||St.toneMapping!==rr||Te.isWebGL2===!0&&St.morphTargetsCount!==qt)&&(wt=!0):(wt=!0,St.__version=fe.version);let Dn=St.currentProgram;wt===!0&&(Dn=nr(fe,ve,Le));let An=!1,fn=!1,qr=!1;const Qt=Dn.getUniforms(),nn=St.uniforms;if(pe.useProgram(Dn.program)&&(An=!0,fn=!0,qr=!0),fe.id!==L&&(L=fe.id,fn=!0),An||C!==$){if(Qt.setValue(H,"projectionMatrix",$.projectionMatrix),Te.logarithmicDepthBuffer&&Qt.setValue(H,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),C!==$&&(C=$,fn=!0,qr=!0),fe.isShaderMaterial||fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshStandardMaterial||fe.envMap){const zn=Qt.map.cameraPosition;zn!==void 0&&zn.setValue(H,Ie.setFromMatrixPosition($.matrixWorld))}(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&Qt.setValue(H,"isOrthographic",$.isOrthographicCamera===!0),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial||fe.isShadowMaterial||Le.isSkinnedMesh)&&Qt.setValue(H,"viewMatrix",$.matrixWorldInverse)}if(Le.isSkinnedMesh){Qt.setOptional(H,Le,"bindMatrix"),Qt.setOptional(H,Le,"bindMatrixInverse");const zn=Le.skeleton;zn&&(Te.floatVertexTextures?(zn.boneTexture===null&&zn.computeBoneTexture(),Qt.setValue(H,"boneTexture",zn.boneTexture,Re),Qt.setValue(H,"boneTextureSize",zn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Dr=Pe.morphAttributes;if((Dr.position!==void 0||Dr.normal!==void 0||Dr.color!==void 0&&Te.isWebGL2===!0)&&qe.update(Le,Pe,Dn),(fn||St.receiveShadow!==Le.receiveShadow)&&(St.receiveShadow=Le.receiveShadow,Qt.setValue(H,"receiveShadow",Le.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(nn.envMap.value=xt,nn.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),fn&&(Qt.setValue(H,"toneMappingExposure",w.toneMappingExposure),St.needsLights&&os(nn,qr),rt&&fe.fog===!0&&Ue.refreshFogUniforms(nn,rt),Ue.refreshMaterialUniforms(nn,fe,ne,ee,ie),U0.upload(H,St.uniformsList,nn,Re)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(U0.upload(H,St.uniformsList,nn,Re),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&Qt.setValue(H,"center",Le.center),Qt.setValue(H,"modelViewMatrix",Le.modelViewMatrix),Qt.setValue(H,"normalMatrix",Le.normalMatrix),Qt.setValue(H,"modelMatrix",Le.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const zn=fe.uniformsGroups;for(let Ls=0,Ds=zn.length;Ls<Ds;Ls++)if(Te.isWebGL2){const xr=zn[Ls];we.update(xr,Dn),we.bind(xr,Dn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Dn}function os($,ve){$.ambientLightColor.needsUpdate=ve,$.lightProbe.needsUpdate=ve,$.directionalLights.needsUpdate=ve,$.directionalLightShadows.needsUpdate=ve,$.pointLights.needsUpdate=ve,$.pointLightShadows.needsUpdate=ve,$.spotLights.needsUpdate=ve,$.spotLightShadows.needsUpdate=ve,$.rectAreaLights.needsUpdate=ve,$.hemisphereLights.needsUpdate=ve}function Pu($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function($,ve,Pe){ye.get($.texture).__webglTexture=ve,ye.get($.depthTexture).__webglTexture=Pe;const fe=ye.get($);fe.__hasExternalTextures=!0,fe.__hasExternalTextures&&(fe.__autoAllocateDepthBuffer=Pe===void 0,fe.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,ve){const Pe=ye.get($);Pe.__webglFramebuffer=ve,Pe.__useDefaultFramebuffer=ve===void 0},this.setRenderTarget=function($,ve=0,Pe=0){R=$,T=ve,A=Pe;let fe=!0,Le=null,rt=!1,pt=!1;if($){const xt=ye.get($);xt.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(H.FRAMEBUFFER,null),fe=!1):xt.__webglFramebuffer===void 0?Re.setupRenderTarget($):xt.__hasExternalTextures&&Re.rebindTextures($,ye.get($.texture).__webglTexture,ye.get($.depthTexture).__webglTexture);const Et=$.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(pt=!0);const Ve=ye.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Le=Ve[ve],rt=!0):Te.isWebGL2&&$.samples>0&&Re.useMultisampledRTT($)===!1?Le=ye.get($).__webglMultisampledFramebuffer:Le=Ve,P.copy($.viewport),F.copy($.scissor),B=$.scissorTest}else P.copy(k).multiplyScalar(ne).floor(),F.copy(N).multiplyScalar(ne).floor(),B=I;if(pe.bindFramebuffer(H.FRAMEBUFFER,Le)&&Te.drawBuffers&&fe&&pe.drawBuffers($,Le),pe.viewport(P),pe.scissor(F),pe.setScissorTest(B),rt){const xt=ye.get($.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+ve,xt.__webglTexture,Pe)}else if(pt){const xt=ye.get($.texture),Et=ve||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,xt.__webglTexture,Pe||0,Et)}L=-1},this.readRenderTargetPixels=function($,ve,Pe,fe,Le,rt,pt){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let mt=ye.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&pt!==void 0&&(mt=mt[pt]),mt){pe.bindFramebuffer(H.FRAMEBUFFER,mt);try{const xt=$.texture,Et=xt.format,Ve=xt.type;if(Et!==ri&&De.convert(Et)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const gt=Ve===Tf&&(he.has("EXT_color_buffer_half_float")||Te.isWebGL2&&he.has("EXT_color_buffer_float"));if(Ve!==qs&&De.convert(Ve)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ve===Gs&&(Te.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!gt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=$.width-fe&&Pe>=0&&Pe<=$.height-Le&&H.readPixels(ve,Pe,fe,Le,De.convert(Et),De.convert(Ve),rt)}finally{const xt=R!==null?ye.get(R).__webglFramebuffer:null;pe.bindFramebuffer(H.FRAMEBUFFER,xt)}}},this.copyFramebufferToTexture=function($,ve,Pe=0){const fe=Math.pow(2,-Pe),Le=Math.floor(ve.image.width*fe),rt=Math.floor(ve.image.height*fe);Re.setTexture2D(ve,0),H.copyTexSubImage2D(H.TEXTURE_2D,Pe,0,0,$.x,$.y,Le,rt),pe.unbindTexture()},this.copyTextureToTexture=function($,ve,Pe,fe=0){const Le=ve.image.width,rt=ve.image.height,pt=De.convert(Pe.format),mt=De.convert(Pe.type);Re.setTexture2D(Pe,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Pe.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Pe.unpackAlignment),ve.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,fe,$.x,$.y,Le,rt,pt,mt,ve.image.data):ve.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,fe,$.x,$.y,ve.mipmaps[0].width,ve.mipmaps[0].height,pt,ve.mipmaps[0].data):H.texSubImage2D(H.TEXTURE_2D,fe,$.x,$.y,pt,mt,ve.image),fe===0&&Pe.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),pe.unbindTexture()},this.copyTextureToTexture3D=function($,ve,Pe,fe,Le=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const rt=$.max.x-$.min.x+1,pt=$.max.y-$.min.y+1,mt=$.max.z-$.min.z+1,xt=De.convert(fe.format),Et=De.convert(fe.type);let Ve;if(fe.isData3DTexture)Re.setTexture3D(fe,0),Ve=H.TEXTURE_3D;else if(fe.isDataArrayTexture)Re.setTexture2DArray(fe,0),Ve=H.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,fe.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,fe.unpackAlignment);const gt=H.getParameter(H.UNPACK_ROW_LENGTH),Yt=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Gt=H.getParameter(H.UNPACK_SKIP_PIXELS),rr=H.getParameter(H.UNPACK_SKIP_ROWS),yr=H.getParameter(H.UNPACK_SKIP_IMAGES),qt=Pe.isCompressedTexture?Pe.mipmaps[0]:Pe.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,qt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,qt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,$.min.x),H.pixelStorei(H.UNPACK_SKIP_ROWS,$.min.y),H.pixelStorei(H.UNPACK_SKIP_IMAGES,$.min.z),Pe.isDataTexture||Pe.isData3DTexture?H.texSubImage3D(Ve,Le,ve.x,ve.y,ve.z,rt,pt,mt,xt,Et,qt.data):Pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(Ve,Le,ve.x,ve.y,ve.z,rt,pt,mt,xt,qt.data)):H.texSubImage3D(Ve,Le,ve.x,ve.y,ve.z,rt,pt,mt,xt,Et,qt),H.pixelStorei(H.UNPACK_ROW_LENGTH,gt),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Yt),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Gt),H.pixelStorei(H.UNPACK_SKIP_ROWS,rr),H.pixelStorei(H.UNPACK_SKIP_IMAGES,yr),Le===0&&fe.generateMipmaps&&H.generateMipmap(Ve),pe.unbindTexture()},this.initTexture=function($){$.isCubeTexture?Re.setTextureCube($,0):$.isData3DTexture?Re.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?Re.setTexture2DArray($,0):Re.setTexture2D($,0),pe.unbindTexture()},this.resetState=function(){T=0,A=0,R=null,pe.reset(),Y.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ws}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ct?Oa:yM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Oa?Ct:Es}}class SN extends CM{}SN.prototype.isWebGL1Renderer=!0;class Dy{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=n}clone(){return new Dy(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Iy{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=n,this.far=r}clone(){return new Iy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Dv extends Xt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Oy{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=op,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ri()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ri()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ri()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Br=new j;class lu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Br.fromBufferAttribute(this,n),Br.applyMatrix4(e),this.setXYZ(n,Br.x,Br.y,Br.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Br.fromBufferAttribute(this,n),Br.applyNormalMatrix(e),this.setXYZ(n,Br.x,Br.y,Br.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Br.fromBufferAttribute(this,n),Br.transformDirection(e),this.setXYZ(n,Br.x,Br.y,Br.z);return this}setX(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Dt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ti(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ti(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ti(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ti(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Dt(n,this.array),r=Dt(r,this.array),i=Dt(i,this.array),s=Dt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new tn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new lu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class PM extends gr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let uc;const Vh=new j,cc=new j,fc=new j,hc=new Oe,Hh=new Oe,wN=new Mt,Bg=new j,Gh=new j,zg=new j,_R=new Oe,t_=new Oe,SR=new Oe;class bN extends Xt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",uc===void 0){uc=new It;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Oy(n,5);uc.setIndex([0,1,2,0,2,3]),uc.setAttribute("position",new lu(r,3,0,!1)),uc.setAttribute("uv",new lu(r,2,3,!1))}this.geometry=uc,this.material=e!==void 0?e:new PM,this.center=new Oe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cc.setFromMatrixScale(this.matrixWorld),wN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cc.multiplyScalar(-fc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Vg(Bg.set(-.5,-.5,0),fc,o,cc,i,s),Vg(Gh.set(.5,-.5,0),fc,o,cc,i,s),Vg(zg.set(.5,.5,0),fc,o,cc,i,s),_R.set(0,0),t_.set(1,0),SR.set(1,1);let a=e.ray.intersectTriangle(Bg,Gh,zg,!1,Vh);if(a===null&&(Vg(Gh.set(-.5,.5,0),fc,o,cc,i,s),t_.set(0,1),a=e.ray.intersectTriangle(Bg,zg,Gh,!1,Vh),a===null))return;const l=e.ray.origin.distanceTo(Vh);l<e.near||l>e.far||n.push({distance:l,point:Vh.clone(),uv:ni.getInterpolation(Vh,Bg,Gh,zg,_R,t_,SR,new Oe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Vg(t,e,n,r,i,s){hc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Hh.x=s*hc.x-i*hc.y,Hh.y=i*hc.x+s*hc.y):Hh.copy(hc),t.copy(e),t.x+=Hh.x,t.y+=Hh.y,t.applyMatrix4(wN)}const Hg=new j,wR=new j;class MN extends Xt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Hg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Hg);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Hg.setFromMatrixPosition(e.matrixWorld),wR.setFromMatrixPosition(this.matrixWorld);const r=Hg.distanceTo(wR)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const bR=new j,MR=new Kt,ER=new Kt,ime=new j,TR=new Mt,dc=new j,n_=new ss,AR=new Mt,r_=new Mu;class EN extends $n{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Mt,this.bindMatrixInverse=new Mt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new is),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)dc.fromBufferAttribute(n,r),this.applyBoneTransform(r,dc),this.boundingBox.expandByPoint(dc)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ss),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)dc.fromBufferAttribute(n,r),this.applyBoneTransform(r,dc),this.boundingSphere.expandByPoint(dc)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),n_.copy(this.boundingSphere),n_.applyMatrix4(i),e.ray.intersectsSphere(n_)!==!1&&(AR.copy(i).invert(),r_.copy(e.ray).applyMatrix4(AR),!(this.boundingBox!==null&&r_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,r_)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;MR.fromBufferAttribute(i.attributes.skinIndex,e),ER.fromBufferAttribute(i.attributes.skinWeight,e),bR.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=ER.getComponent(s);if(o!==0){const a=MR.getComponent(s);TR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(ime.copy(bR).applyMatrix4(TR),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class RM extends Xt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class mf extends En{constructor(e=null,n=1,r=1,i,s,o,a,l,u=kn,c=kn,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const CR=new Mt,sme=new Mt;class Uy{constructor(e=[],n=[]){this.uuid=Ri(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Mt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Mt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:sme;CR.multiplyMatrices(a,n[s]),CR.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Uy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=aN(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new mf(n,e,e,ri,Gs);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new RM),this.bones.push(o),this.boneInverses.push(new Mt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class uu extends tn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const pc=new Mt,PR=new Mt,Gg=[],RR=new is,ome=new Mt,Wh=new $n,jh=new ss;class TN extends $n{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new uu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,ome)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new is),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,pc),RR.copy(e.boundingBox).applyMatrix4(pc),this.boundingBox.union(RR)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ss),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,pc),jh.copy(e.boundingSphere).applyMatrix4(pc),this.boundingSphere.union(jh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Wh.geometry=this.geometry,Wh.material=this.material,Wh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),jh.copy(this.boundingSphere),jh.applyMatrix4(r),e.ray.intersectsSphere(jh)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,pc),PR.multiplyMatrices(r,pc),Wh.matrixWorld=PR,Wh.raycast(e,Gg);for(let o=0,a=Gg.length;o<a;o++){const l=Gg[o];l.instanceId=s,l.object=this,n.push(l)}Gg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new uu(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Xr extends gr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const LR=new j,DR=new j,IR=new Mt,i_=new Mu,Wg=new ss;class $a extends Xt{constructor(e=new It,n=new Xr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)LR.fromBufferAttribute(n,i-1),DR.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=LR.distanceTo(DR);e.setAttribute("lineDistance",new ot(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Wg.copy(r.boundingSphere),Wg.applyMatrix4(i),Wg.radius+=s,e.ray.intersectsSphere(Wg)===!1)return;IR.copy(i).invert(),i_.copy(e.ray).applyMatrix4(IR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new j,c=new j,d=new j,p=new j,m=this.isLineSegments?2:1,g=r.index,x=r.attributes.position;if(g!==null){const v=Math.max(0,o.start),S=Math.min(g.count,o.start+o.count);for(let w=v,M=S-1;w<M;w+=m){const T=g.getX(w),A=g.getX(w+1);if(u.fromBufferAttribute(x,T),c.fromBufferAttribute(x,A),i_.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||n.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let w=v,M=S-1;w<M;w+=m){if(u.fromBufferAttribute(x,w),c.fromBufferAttribute(x,w+1),i_.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(p);A<e.near||A>e.far||n.push({distance:A,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const OR=new j,UR=new j;class Qs extends $a{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)OR.fromBufferAttribute(n,i),UR.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+OR.distanceTo(UR);e.setAttribute("lineDistance",new ot(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class AN extends $a{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class LM extends gr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const NR=new Mt,OS=new Mu,jg=new ss,$g=new j;class CN extends Xt{constructor(e=new It,n=new LM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),jg.copy(r.boundingSphere),jg.applyMatrix4(i),jg.radius+=s,e.ray.intersectsSphere(jg)===!1)return;NR.copy(i).invert(),OS.copy(e.ray).applyMatrix4(NR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,_=m;g<_;g++){const x=u.getX(g);$g.fromBufferAttribute(d,x),kR($g,x,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=p,_=m;g<_;g++)$g.fromBufferAttribute(d,g),kR($g,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function kR(t,e,n,r,i,s,o){const a=OS.distanceSqToPoint(t);if(a<n){const l=new j;OS.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class ame extends En{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:_n,this.magFilter=s!==void 0?s:_n,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class lme extends En{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=kn,this.minFilter=kn,this.generateMipmaps=!1,this.needsUpdate=!0}}class DM extends En{constructor(e,n,r,i,s,o,a,l,u,c,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ume extends DM{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Pr}}class cme extends En{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ps{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],p=r[i+1]-c,m=(o-c)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Oe:new j);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new j,i=[],s=[],o=[],a=new j,l=new Mt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new j)}s[0]=new j,o[0]=new j;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Ln(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Ln(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Ny extends Ps{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Oe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*d+this.aX,u=p*d+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class PN extends Ny{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function IM(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,d){let p=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+d)+(l-a)/d;p*=c,m*=c,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Xg=new j,s_=new IM,o_=new IM,a_=new IM;class RN extends Ps{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new j){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(Xg.subVectors(i[0],i[1]).add(i[0]),u=Xg);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(Xg.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=Xg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(d),m),_=Math.pow(d.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(c),m);_<1e-4&&(_=1),g<1e-4&&(g=_),x<1e-4&&(x=_),s_.initNonuniformCatmullRom(u.x,d.x,p.x,c.x,g,_,x),o_.initNonuniformCatmullRom(u.y,d.y,p.y,c.y,g,_,x),a_.initNonuniformCatmullRom(u.z,d.z,p.z,c.z,g,_,x)}else this.curveType==="catmullrom"&&(s_.initCatmullRom(u.x,d.x,p.x,c.x,this.tension),o_.initCatmullRom(u.y,d.y,p.y,c.y,this.tension),a_.initCatmullRom(u.z,d.z,p.z,c.z,this.tension));return r.set(s_.calc(l),o_.calc(l),a_.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new j().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function FR(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function fme(t,e){const n=1-t;return n*n*e}function hme(t,e){return 2*(1-t)*t*e}function dme(t,e){return t*t*e}function Md(t,e,n,r){return fme(t,e)+hme(t,n)+dme(t,r)}function pme(t,e){const n=1-t;return n*n*n*e}function mme(t,e){const n=1-t;return 3*n*n*t*e}function gme(t,e){return 3*(1-t)*t*t*e}function vme(t,e){return t*t*t*e}function Ed(t,e,n,r,i){return pme(t,e)+mme(t,n)+gme(t,r)+vme(t,i)}class OM extends Ps{constructor(e=new Oe,n=new Oe,r=new Oe,i=new Oe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Oe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Ed(e,i.x,s.x,o.x,a.x),Ed(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LN extends Ps{constructor(e=new j,n=new j,r=new j,i=new j){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new j){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Ed(e,i.x,s.x,o.x,a.x),Ed(e,i.y,s.y,o.y,a.y),Ed(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ky extends Ps{constructor(e=new Oe,n=new Oe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Oe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DN extends Ps{constructor(e=new j,n=new j){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new j){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new j){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UM extends Ps{constructor(e=new Oe,n=new Oe,r=new Oe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Oe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Md(e,i.x,s.x,o.x),Md(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NM extends Ps{constructor(e=new j,n=new j,r=new j){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new j){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Md(e,i.x,s.x,o.x),Md(e,i.y,s.y,o.y),Md(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kM extends Ps{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Oe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(FR(a,l.x,u.x,c.x,d.x),FR(a,l.y,u.y,c.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Oe().fromArray(i))}return this}}var FM=Object.freeze({__proto__:null,ArcCurve:PN,CatmullRomCurve3:RN,CubicBezierCurve:OM,CubicBezierCurve3:LN,EllipseCurve:Ny,LineCurve:ky,LineCurve3:DN,QuadraticBezierCurve:UM,QuadraticBezierCurve3:NM,SplineCurve:kM});class IN extends Ps{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new ky(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new FM[i.type]().fromJSON(i))}return this}}class up extends IN{constructor(e){super(),this.type="Path",this.currentPoint=new Oe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new ky(this.currentPoint.clone(),new Oe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new UM(this.currentPoint.clone(),new Oe(e,n),new Oe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new OM(this.currentPoint.clone(),new Oe(e,n),new Oe(r,i),new Oe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new kM(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new Ny(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Xf extends It{constructor(e=[new Oe(0,-.5),new Oe(.5,0),new Oe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Ln(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,d=new j,p=new Oe,m=new j,g=new j,_=new j;let x=0,v=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,m.x=v*1,m.y=-x,m.z=v*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,m.x=v*1,m.y=-x,m.z=v*0,g.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(g)}for(let S=0;S<=n;S++){const w=r+S*c*i,M=Math.sin(w),T=Math.cos(w);for(let A=0;A<=e.length-1;A++){d.x=e[A].x*M,d.y=e[A].y,d.z=e[A].x*T,o.push(d.x,d.y,d.z),p.x=S/n,p.y=A/(e.length-1),a.push(p.x,p.y);const R=l[3*A+0]*M,L=l[3*A+1],C=l[3*A+0]*T;u.push(R,L,C)}}for(let S=0;S<n;S++)for(let w=0;w<e.length-1;w++){const M=w+S*e.length,T=M,A=M+e.length,R=M+e.length+1,L=M+1;s.push(T,A,L),s.push(R,L,A)}this.setIndex(s),this.setAttribute("position",new ot(o,3)),this.setAttribute("uv",new ot(a,2)),this.setAttribute("normal",new ot(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xf(e.points,e.segments,e.phiStart,e.phiLength)}}class Vp extends Xf{constructor(e=1,n=1,r=4,i=8){const s=new up;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Vp(e.radius,e.length,e.capSegments,e.radialSegments)}}class Hp extends It{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new j,c=new Oe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const m=r+d/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[p]/e+1)/2,c.y=(o[p+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new ot(o,3)),this.setAttribute("normal",new ot(a,3)),this.setAttribute("uv",new ot(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Eu extends It{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],d=[],p=[],m=[];let g=0;const _=[],x=r/2;let v=0;S(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2));function S(){const M=new j,T=new j;let A=0;const R=(n-e)/r;for(let L=0;L<=s;L++){const C=[],P=L/s,F=P*(n-e)+e;for(let B=0;B<=i;B++){const W=B/i,G=W*l+a,q=Math.sin(G),ee=Math.cos(G);T.x=F*q,T.y=-P*r+x,T.z=F*ee,d.push(T.x,T.y,T.z),M.set(q,R,ee).normalize(),p.push(M.x,M.y,M.z),m.push(W,1-P),C.push(g++)}_.push(C)}for(let L=0;L<i;L++)for(let C=0;C<s;C++){const P=_[C][L],F=_[C+1][L],B=_[C+1][L+1],W=_[C][L+1];c.push(P,F,W),c.push(F,B,W),A+=6}u.addGroup(v,A,0),v+=A}function w(M){const T=g,A=new Oe,R=new j;let L=0;const C=M===!0?e:n,P=M===!0?1:-1;for(let B=1;B<=i;B++)d.push(0,x*P,0),p.push(0,P,0),m.push(.5,.5),g++;const F=g;for(let B=0;B<=i;B++){const G=B/i*l+a,q=Math.cos(G),ee=Math.sin(G);R.x=C*ee,R.y=x*P,R.z=C*q,d.push(R.x,R.y,R.z),p.push(0,P,0),A.x=q*.5+.5,A.y=ee*.5*P+.5,m.push(A.x,A.y),g++}for(let B=0;B<i;B++){const W=T+B,G=F+B;M===!0?c.push(G,G+1,W):c.push(G+1,G,W),L+=3}u.addGroup(v,L,M===!0?1:2),v+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gp extends Eu{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Gp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $o extends It{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new ot(s,3)),this.setAttribute("normal",new ot(s.slice(),3)),this.setAttribute("uv",new ot(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const w=new j,M=new j,T=new j;for(let A=0;A<n.length;A+=3)m(n[A+0],w),m(n[A+1],M),m(n[A+2],T),l(w,M,T,S)}function l(S,w,M,T){const A=T+1,R=[];for(let L=0;L<=A;L++){R[L]=[];const C=S.clone().lerp(M,L/A),P=w.clone().lerp(M,L/A),F=A-L;for(let B=0;B<=F;B++)B===0&&L===A?R[L][B]=C:R[L][B]=C.clone().lerp(P,B/F)}for(let L=0;L<A;L++)for(let C=0;C<2*(A-L)-1;C++){const P=Math.floor(C/2);C%2===0?(p(R[L][P+1]),p(R[L+1][P]),p(R[L][P])):(p(R[L][P+1]),p(R[L+1][P+1]),p(R[L+1][P]))}}function u(S){const w=new j;for(let M=0;M<s.length;M+=3)w.x=s[M+0],w.y=s[M+1],w.z=s[M+2],w.normalize().multiplyScalar(S),s[M+0]=w.x,s[M+1]=w.y,s[M+2]=w.z}function c(){const S=new j;for(let w=0;w<s.length;w+=3){S.x=s[w+0],S.y=s[w+1],S.z=s[w+2];const M=x(S)/2/Math.PI+.5,T=v(S)/Math.PI+.5;o.push(M,1-T)}g(),d()}function d(){for(let S=0;S<o.length;S+=6){const w=o[S+0],M=o[S+2],T=o[S+4],A=Math.max(w,M,T),R=Math.min(w,M,T);A>.9&&R<.1&&(w<.2&&(o[S+0]+=1),M<.2&&(o[S+2]+=1),T<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,w){const M=S*3;w.x=e[M+0],w.y=e[M+1],w.z=e[M+2]}function g(){const S=new j,w=new j,M=new j,T=new j,A=new Oe,R=new Oe,L=new Oe;for(let C=0,P=0;C<s.length;C+=9,P+=6){S.set(s[C+0],s[C+1],s[C+2]),w.set(s[C+3],s[C+4],s[C+5]),M.set(s[C+6],s[C+7],s[C+8]),A.set(o[P+0],o[P+1]),R.set(o[P+2],o[P+3]),L.set(o[P+4],o[P+5]),T.copy(S).add(w).add(M).divideScalar(3);const F=x(T);_(A,P+0,S,F),_(R,P+2,w,F),_(L,P+4,M,F)}}function _(S,w,M,T){T<0&&S.x===1&&(o[w]=S.x-1),M.x===0&&M.z===0&&(o[w]=T/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function v(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $o(e.vertices,e.indices,e.radius,e.details)}}class Wp extends $o{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Wp(e.radius,e.detail)}}const Yg=new j,qg=new j,l_=new j,Kg=new ni;class ON extends It{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Zl*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:_,b:x,c:v}=Kg;if(_.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),v.fromBufferAttribute(a,u[2]),Kg.getNormal(l_),d[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,d[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let S=0;S<3;S++){const w=(S+1)%3,M=d[S],T=d[w],A=Kg[c[S]],R=Kg[c[w]],L=`${M}_${T}`,C=`${T}_${M}`;C in p&&p[C]?(l_.dot(p[C].normal)<=s&&(m.push(A.x,A.y,A.z),m.push(R.x,R.y,R.z)),p[C]=null):L in p||(p[L]={index0:u[S],index1:u[w],normal:l_.clone()})}}for(const g in p)if(p[g]){const{index0:_,index1:x}=p[g];Yg.fromBufferAttribute(a,_),qg.fromBufferAttribute(a,x),m.push(Yg.x,Yg.y,Yg.z),m.push(qg.x,qg.y,qg.z)}this.setAttribute("position",new ot(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ql extends up{constructor(e){super(e),this.uuid=Ri(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new up().fromJSON(i))}return this}}const yme={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=UN(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,d,p,m;if(r&&(s=bme(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)d=t[g],p=t[g+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>c&&(c=p);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return cp(s,o,n,a,l,m,0),o}};function UN(t,e,n,r,i){let s,o;if(i===Ome(t,e,n,r)>0)for(s=e;s<n;s+=r)o=BR(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=BR(s,t[s],t[s+1],o);return o&&Fy(o,o.next)&&(hp(o),o=o.next),o}function cu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Fy(n,n.next)||wn(n.prev,n,n.next)===0)){if(hp(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function cp(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Cme(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?_me(t,r,i,s):xme(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),hp(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Sme(cu(t),e,n),cp(t,e,n,r,i,s,2)):o===2&&wme(t,e,n,r,i,s):cp(cu(t),e,n,r,i,s,1);break}}}function xme(t){const e=t.prev,n=t,r=t.next;if(wn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=p&&g.y>=d&&g.y<=m&&rf(i,a,s,l,o,u,g.x,g.y)&&wn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function _me(t,e,n,r){const i=t.prev,s=t,o=t.next;if(wn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,g=c<d?c<p?c:p:d<p?d:p,_=a>l?a>u?a:u:l>u?l:u,x=c>d?c>p?c:p:d>p?d:p,v=US(m,g,e,n,r),S=US(_,x,e,n,r);let w=t.prevZ,M=t.nextZ;for(;w&&w.z>=v&&M&&M.z<=S;){if(w.x>=m&&w.x<=_&&w.y>=g&&w.y<=x&&w!==i&&w!==o&&rf(a,c,l,d,u,p,w.x,w.y)&&wn(w.prev,w,w.next)>=0||(w=w.prevZ,M.x>=m&&M.x<=_&&M.y>=g&&M.y<=x&&M!==i&&M!==o&&rf(a,c,l,d,u,p,M.x,M.y)&&wn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;w&&w.z>=v;){if(w.x>=m&&w.x<=_&&w.y>=g&&w.y<=x&&w!==i&&w!==o&&rf(a,c,l,d,u,p,w.x,w.y)&&wn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;M&&M.z<=S;){if(M.x>=m&&M.x<=_&&M.y>=g&&M.y<=x&&M!==i&&M!==o&&rf(a,c,l,d,u,p,M.x,M.y)&&wn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Sme(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Fy(i,s)&&NN(i,r,r.next,s)&&fp(i,s)&&fp(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),hp(r),hp(r.next),r=t=s),r=r.next}while(r!==t);return cu(r)}function wme(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Lme(o,a)){let l=kN(o,a);o=cu(o,o.next),l=cu(l,l.next),cp(o,e,n,r,i,s,0),cp(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function bme(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=UN(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Rme(u));for(i.sort(Mme),s=0;s<i.length;s++)n=Eme(i[s],n);return n}function Mme(t,e){return t.x-e.x}function Eme(t,e){const n=Tme(t,e);if(!n)return e;const r=kN(n,t);return cu(r,r.next),cu(n,n.next)}function Tme(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&rf(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),fp(n,t)&&(d<c||d===c&&(n.x>i.x||n.x===i.x&&Ame(i,n)))&&(i=n,c=d)),n=n.next;while(n!==a);return i}function Ame(t,e){return wn(t.prev,t,e.prev)<0&&wn(e.next,t,t.next)<0}function Cme(t,e,n,r){let i=t;do i.z===0&&(i.z=US(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Pme(i)}function Pme(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function US(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Rme(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function rf(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Lme(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Dme(t,e)&&(fp(t,e)&&fp(e,t)&&Ime(t,e)&&(wn(t.prev,t,e.prev)||wn(t,e.prev,e))||Fy(t,e)&&wn(t.prev,t,t.next)>0&&wn(e.prev,e,e.next)>0)}function wn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Fy(t,e){return t.x===e.x&&t.y===e.y}function NN(t,e,n,r){const i=Jg(wn(t,e,n)),s=Jg(wn(t,e,r)),o=Jg(wn(n,r,t)),a=Jg(wn(n,r,e));return!!(i!==s&&o!==a||i===0&&Zg(t,n,e)||s===0&&Zg(t,r,e)||o===0&&Zg(n,t,r)||a===0&&Zg(n,e,r))}function Zg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Jg(t){return t>0?1:t<0?-1:0}function Dme(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&NN(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function fp(t,e){return wn(t.prev,t,t.next)<0?wn(t,e,t.next)>=0&&wn(t,t.prev,e)>=0:wn(t,e,t.prev)<0||wn(t,t.next,e)<0}function Ime(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function kN(t,e){const n=new NS(t.i,t.x,t.y),r=new NS(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function BR(t,e,n,r){const i=new NS(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function hp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function NS(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ome(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Ks{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ks.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];zR(e),VR(r,e);let o=e.length;n.forEach(zR);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,VR(r,n[l]);const a=yme.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function zR(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function VR(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class jp extends It{constructor(e=new Ql([new Oe(.5,.5),new Oe(-.5,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new ot(i,3)),this.setAttribute("uv",new ot(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:Ume;let w,M=!1,T,A,R,L;v&&(w=v.getSpacedPoints(c),M=!0,p=!1,T=v.computeFrenetFrames(c,!1),A=new j,R=new j,L=new j),p||(x=0,m=0,g=0,_=0);const C=a.extractPoints(u);let P=C.shape;const F=C.holes;if(!Ks.isClockWise(P)){P=P.reverse();for(let H=0,be=F.length;H<be;H++){const he=F[H];Ks.isClockWise(he)&&(F[H]=he.reverse())}}const W=Ks.triangulateShape(P,F),G=P;for(let H=0,be=F.length;H<be;H++){const he=F[H];P=P.concat(he)}function q(H,be,he){return be||console.error("THREE.ExtrudeGeometry: vec does not exist"),H.clone().addScaledVector(be,he)}const ee=P.length,ne=W.length;function U(H,be,he){let Te,pe,Be;const ye=H.x-be.x,Re=H.y-be.y,Ne=he.x-H.x,me=he.y-H.y,Ke=ye*ye+Re*Re,V=ye*me-Re*Ne;if(Math.abs(V)>Number.EPSILON){const O=Math.sqrt(Ke),oe=Math.sqrt(Ne*Ne+me*me),Ue=be.x-Re/O,ge=be.y+ye/O,Ae=he.x-me/oe,Fe=he.y+Ne/oe,ke=((Ae-Ue)*me-(Fe-ge)*Ne)/(ye*me-Re*Ne);Te=Ue+ye*ke-H.x,pe=ge+Re*ke-H.y;const de=Te*Te+pe*pe;if(de<=2)return new Oe(Te,pe);Be=Math.sqrt(de/2)}else{let O=!1;ye>Number.EPSILON?Ne>Number.EPSILON&&(O=!0):ye<-Number.EPSILON?Ne<-Number.EPSILON&&(O=!0):Math.sign(Re)===Math.sign(me)&&(O=!0),O?(Te=-Re,pe=ye,Be=Math.sqrt(Ke)):(Te=ye,pe=Re,Be=Math.sqrt(Ke/2))}return new Oe(Te/Be,pe/Be)}const z=[];for(let H=0,be=G.length,he=be-1,Te=H+1;H<be;H++,he++,Te++)he===be&&(he=0),Te===be&&(Te=0),z[H]=U(G[H],G[he],G[Te]);const k=[];let N,I=z.concat();for(let H=0,be=F.length;H<be;H++){const he=F[H];N=[];for(let Te=0,pe=he.length,Be=pe-1,ye=Te+1;Te<pe;Te++,Be++,ye++)Be===pe&&(Be=0),ye===pe&&(ye=0),N[Te]=U(he[Te],he[Be],he[ye]);k.push(N),I=I.concat(N)}for(let H=0;H<x;H++){const be=H/x,he=m*Math.cos(be*Math.PI/2),Te=g*Math.sin(be*Math.PI/2)+_;for(let pe=0,Be=G.length;pe<Be;pe++){const ye=q(G[pe],z[pe],Te);se(ye.x,ye.y,-he)}for(let pe=0,Be=F.length;pe<Be;pe++){const ye=F[pe];N=k[pe];for(let Re=0,Ne=ye.length;Re<Ne;Re++){const me=q(ye[Re],N[Re],Te);se(me.x,me.y,-he)}}}const J=g+_;for(let H=0;H<ee;H++){const be=p?q(P[H],I[H],J):P[H];M?(R.copy(T.normals[0]).multiplyScalar(be.x),A.copy(T.binormals[0]).multiplyScalar(be.y),L.copy(w[0]).add(R).add(A),se(L.x,L.y,L.z)):se(be.x,be.y,0)}for(let H=1;H<=c;H++)for(let be=0;be<ee;be++){const he=p?q(P[be],I[be],J):P[be];M?(R.copy(T.normals[H]).multiplyScalar(he.x),A.copy(T.binormals[H]).multiplyScalar(he.y),L.copy(w[H]).add(R).add(A),se(L.x,L.y,L.z)):se(he.x,he.y,d/c*H)}for(let H=x-1;H>=0;H--){const be=H/x,he=m*Math.cos(be*Math.PI/2),Te=g*Math.sin(be*Math.PI/2)+_;for(let pe=0,Be=G.length;pe<Be;pe++){const ye=q(G[pe],z[pe],Te);se(ye.x,ye.y,d+he)}for(let pe=0,Be=F.length;pe<Be;pe++){const ye=F[pe];N=k[pe];for(let Re=0,Ne=ye.length;Re<Ne;Re++){const me=q(ye[Re],N[Re],Te);M?se(me.x,me.y+w[c-1].y,w[c-1].x+he):se(me.x,me.y,d+he)}}}Z(),te();function Z(){const H=i.length/3;if(p){let be=0,he=ee*be;for(let Te=0;Te<ne;Te++){const pe=W[Te];_e(pe[2]+he,pe[1]+he,pe[0]+he)}be=c+x*2,he=ee*be;for(let Te=0;Te<ne;Te++){const pe=W[Te];_e(pe[0]+he,pe[1]+he,pe[2]+he)}}else{for(let be=0;be<ne;be++){const he=W[be];_e(he[2],he[1],he[0])}for(let be=0;be<ne;be++){const he=W[be];_e(he[0]+ee*c,he[1]+ee*c,he[2]+ee*c)}}r.addGroup(H,i.length/3-H,0)}function te(){const H=i.length/3;let be=0;ie(G,be),be+=G.length;for(let he=0,Te=F.length;he<Te;he++){const pe=F[he];ie(pe,be),be+=pe.length}r.addGroup(H,i.length/3-H,1)}function ie(H,be){let he=H.length;for(;--he>=0;){const Te=he;let pe=he-1;pe<0&&(pe=H.length-1);for(let Be=0,ye=c+x*2;Be<ye;Be++){const Re=ee*Be,Ne=ee*(Be+1),me=be+Te+Re,Ke=be+pe+Re,V=be+pe+Ne,O=be+Te+Ne;Ie(me,Ke,V,O)}}}function se(H,be,he){l.push(H),l.push(be),l.push(he)}function _e(H,be,he){We(H),We(be),We(he);const Te=i.length/3,pe=S.generateTopUV(r,i,Te-3,Te-2,Te-1);Se(pe[0]),Se(pe[1]),Se(pe[2])}function Ie(H,be,he,Te){We(H),We(be),We(Te),We(be),We(he),We(Te);const pe=i.length/3,Be=S.generateSideWallUV(r,i,pe-6,pe-3,pe-2,pe-1);Se(Be[0]),Se(Be[1]),Se(Be[3]),Se(Be[1]),Se(Be[2]),Se(Be[3])}function We(H){i.push(l[H*3+0]),i.push(l[H*3+1]),i.push(l[H*3+2])}function Se(H){s.push(H.x),s.push(H.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Nme(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new FM[i.type]().fromJSON(i)),new jp(r,e.options)}}const Ume={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Oe(s,o),new Oe(a,l),new Oe(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],_=e[s*3],x=e[s*3+1],v=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Oe(o,1-l),new Oe(u,1-d),new Oe(p,1-g),new Oe(_,1-v)]:[new Oe(a,1-l),new Oe(c,1-d),new Oe(m,1-g),new Oe(x,1-v)]}};function Nme(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class $p extends $o{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $p(e.radius,e.detail)}}class Yf extends $o{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Yf(e.radius,e.detail)}}class Xp extends It{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let d=e;const p=(n-e)/i,m=new j,g=new Oe;for(let _=0;_<=i;_++){for(let x=0;x<=r;x++){const v=s+x/r*o;m.x=d*Math.cos(v),m.y=d*Math.sin(v),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}d+=p}for(let _=0;_<i;_++){const x=_*(r+1);for(let v=0;v<r;v++){const S=v+x,w=S,M=S+r+1,T=S+r+2,A=S+1;a.push(w,M,A),a.push(M,T,A)}}this.setIndex(a),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(u,3)),this.setAttribute("uv",new ot(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Yp extends It{constructor(e=new Ql([new Oe(0,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ot(i,3)),this.setAttribute("normal",new ot(s,3)),this.setAttribute("uv",new ot(o,2));function u(c){const d=i.length/3,p=c.extractPoints(n);let m=p.shape;const g=p.holes;Ks.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,v=g.length;x<v;x++){const S=g[x];Ks.isClockWise(S)===!0&&(g[x]=S.reverse())}const _=Ks.triangulateShape(m,g);for(let x=0,v=g.length;x<v;x++){const S=g[x];m=m.concat(S)}for(let x=0,v=m.length;x<v;x++){const S=m[x];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let x=0,v=_.length;x<v;x++){const S=_[x],w=S[0]+d,M=S[1]+d,T=S[2]+d;r.push(w,M,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return kme(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new Yp(r,e.curveSegments)}}function kme(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class qf extends It{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],d=new j,p=new j,m=[],g=[],_=[],x=[];for(let v=0;v<=r;v++){const S=[],w=v/r;let M=0;v===0&&o===0?M=.5/n:v===r&&l===Math.PI&&(M=-.5/n);for(let T=0;T<=n;T++){const A=T/n;d.x=-e*Math.cos(i+A*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(i+A*s)*Math.sin(o+w*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),_.push(p.x,p.y,p.z),x.push(A+M,1-w),S.push(u++)}c.push(S)}for(let v=0;v<r;v++)for(let S=0;S<n;S++){const w=c[v][S+1],M=c[v][S],T=c[v+1][S],A=c[v+1][S+1];(v!==0||o>0)&&m.push(w,M,A),(v!==r-1||l<Math.PI)&&m.push(M,T,A)}this.setIndex(m),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(_,3)),this.setAttribute("uv",new ot(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class qp extends $o{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new qp(e.radius,e.detail)}}class Kp extends It{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new j,d=new j,p=new j;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const _=g/i*s,x=m/r*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(_),d.y=(e+n*Math.cos(x))*Math.sin(_),d.z=n*Math.sin(x),a.push(d.x,d.y,d.z),c.x=e*Math.cos(_),c.y=e*Math.sin(_),p.subVectors(d,c).normalize(),l.push(p.x,p.y,p.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const _=(i+1)*m+g-1,x=(i+1)*(m-1)+g-1,v=(i+1)*(m-1)+g,S=(i+1)*m+g;o.push(_,x,S),o.push(x,v,S)}this.setIndex(o),this.setAttribute("position",new ot(a,3)),this.setAttribute("normal",new ot(l,3)),this.setAttribute("uv",new ot(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Zp extends It{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],d=new j,p=new j,m=new j,g=new j,_=new j,x=new j,v=new j;for(let w=0;w<=r;++w){const M=w/r*s*Math.PI*2;S(M,s,o,e,m),S(M+.01,s,o,e,g),x.subVectors(g,m),v.addVectors(g,m),_.crossVectors(x,v),v.crossVectors(_,x),_.normalize(),v.normalize();for(let T=0;T<=i;++T){const A=T/i*Math.PI*2,R=-n*Math.cos(A),L=n*Math.sin(A);d.x=m.x+(R*v.x+L*_.x),d.y=m.y+(R*v.y+L*_.y),d.z=m.z+(R*v.z+L*_.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),c.push(w/r),c.push(T/i)}}for(let w=1;w<=r;w++)for(let M=1;M<=i;M++){const T=(i+1)*(w-1)+(M-1),A=(i+1)*w+(M-1),R=(i+1)*w+M,L=(i+1)*(w-1)+M;a.push(T,A,L),a.push(A,R,L)}this.setIndex(a),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(u,3)),this.setAttribute("uv",new ot(c,2));function S(w,M,T,A,R){const L=Math.cos(w),C=Math.sin(w),P=T/M*w,F=Math.cos(P);R.x=A*(2+F)*.5*L,R.y=A*(2+F)*C*.5,R.z=A*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Jp extends It{constructor(e=new NM(new j(-1,-1,0),new j(-1,1,0),new j(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new j,l=new j,u=new Oe;let c=new j;const d=[],p=[],m=[],g=[];_(),this.setIndex(g),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2));function _(){for(let w=0;w<n;w++)x(w);x(s===!1?n:0),S(),v()}function x(w){c=e.getPointAt(w/n,c);const M=o.normals[w],T=o.binormals[w];for(let A=0;A<=i;A++){const R=A/i*Math.PI*2,L=Math.sin(R),C=-Math.cos(R);l.x=C*M.x+L*T.x,l.y=C*M.y+L*T.y,l.z=C*M.z+L*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,d.push(a.x,a.y,a.z)}}function v(){for(let w=1;w<=n;w++)for(let M=1;M<=i;M++){const T=(i+1)*(w-1)+(M-1),A=(i+1)*w+(M-1),R=(i+1)*w+M,L=(i+1)*(w-1)+M;g.push(T,A,L),g.push(A,R,L)}}function S(){for(let w=0;w<=n;w++)for(let M=0;M<=i;M++)u.x=w/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Jp(new FM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class FN extends It{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new j,s=new j;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],p=d.start,m=d.count;for(let g=p,_=p+m;g<_;g+=3)for(let x=0;x<3;x++){const v=a.getX(g+x),S=a.getX(g+(x+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,S),HR(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,d),HR(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new ot(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function HR(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var GR=Object.freeze({__proto__:null,BoxGeometry:el,CapsuleGeometry:Vp,CircleGeometry:Hp,ConeGeometry:Gp,CylinderGeometry:Eu,DodecahedronGeometry:Wp,EdgesGeometry:ON,ExtrudeGeometry:jp,IcosahedronGeometry:$p,LatheGeometry:Xf,OctahedronGeometry:Yf,PlaneGeometry:jo,PolyhedronGeometry:$o,RingGeometry:Xp,ShapeGeometry:Yp,SphereGeometry:qf,TetrahedronGeometry:qp,TorusGeometry:Kp,TorusKnotGeometry:Zp,TubeGeometry:Jp,WireframeGeometry:FN});class BN extends gr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class zN extends Zs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class BM extends gr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qa,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VN extends BM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Oe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class HN extends gr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qa,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=kp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GN extends gr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qa,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class WN extends gr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qa,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class jN extends gr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qa,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=kp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $N extends gr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qa,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XN extends Xr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function qi(t,e,n){return zM(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Xl(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function zM(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YN(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function kS(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function VM(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function Fme(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){d.push(u.times[m]);for(let _=0;_<c;++_)p.push(u.values[m*c+_])}}d.length!==0&&(u.times=Xl(d,u.times.constructor),u.values=Xl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Bme(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let _;if(s<=a.times[0]){const v=c,S=d-c;_=qi(a.values,v,S)}else if(s>=a.times[g]){const v=g*d+c,S=v+d-c;_=qi(a.values,v,S)}else{const v=a.createInterpolant(),S=c,w=d-c;v.evaluate(s),_=qi(v.resultBuffer,S,w)}l==="quaternion"&&new Rr().fromArray(_).normalize().conjugate().toArray(_);const x=u.times.length;for(let v=0;v<x;++v){const S=v*m+p;if(l==="quaternion")Rr.multiplyQuaternionsFlat(u.values,S,_,0,u.values,S);else{const w=m-p*2;for(let M=0;M<w;++M)u.values[S+M]-=_[M]}}}return t.blendMode=vM,t}const zme={arraySlice:qi,convertArray:Xl,isTypedArray:zM,getKeyframeOrder:YN,sortedArray:kS,flattenJSON:VM,subclip:Fme,makeClipAdditive:Bme};class Qp{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class qN extends Qp{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wl,endingEnd:Wl}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case jl:s=e,a=2*n-r;break;case sp:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case jl:o=e,l=2*r-n;break;case sp:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),_=g*g,x=_*g,v=-p*x+2*p*_-p*g,S=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*g+1,w=(-1-m)*x+(1.5+m)*_+.5*g,M=m*x-m*_;for(let T=0;T!==a;++T)s[T]=v*o[c+T]+S*o[u+T]+w*o[l+T]+M*o[d+T];return s}}class HM extends Qp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),d=1-c;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*c;return s}}class KN extends Qp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rs{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xl(n,this.TimeBufferType),this.values=Xl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Xl(e.times,Array),values:Xl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new KN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new qN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case rp:n=this.InterpolantFactoryMethodDiscrete;break;case ip:n=this.InterpolantFactoryMethodLinear;break;case I0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rp;case this.InterpolantFactoryMethodLinear:return ip;case this.InterpolantFactoryMethodSmooth:return I0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=qi(r,s,o),this.values=qi(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&zM(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=qi(this.times),n=qi(this.values),r=this.getValueSize(),i=this.getInterpolation()===I0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let g=0;g!==r;++g){const _=n[d+g];if(_!==n[p+g]||_!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=qi(e,0,o),this.values=qi(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=qi(this.times,0),n=qi(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Rs.prototype.TimeBufferType=Float32Array;Rs.prototype.ValueBufferType=Float32Array;Rs.prototype.DefaultInterpolation=ip;class Tu extends Rs{}Tu.prototype.ValueTypeName="bool";Tu.prototype.ValueBufferType=Array;Tu.prototype.DefaultInterpolation=rp;Tu.prototype.InterpolantFactoryMethodLinear=void 0;Tu.prototype.InterpolantFactoryMethodSmooth=void 0;class GM extends Rs{}GM.prototype.ValueTypeName="color";class dp extends Rs{}dp.prototype.ValueTypeName="number";class ZN extends Qp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)Rr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Kf extends Rs{InterpolantFactoryMethodLinear(e){return new ZN(this.times,this.values,this.getValueSize(),e)}}Kf.prototype.ValueTypeName="quaternion";Kf.prototype.DefaultInterpolation=ip;Kf.prototype.InterpolantFactoryMethodSmooth=void 0;class Au extends Rs{}Au.prototype.ValueTypeName="string";Au.prototype.ValueBufferType=Array;Au.prototype.DefaultInterpolation=rp;Au.prototype.InterpolantFactoryMethodLinear=void 0;Au.prototype.InterpolantFactoryMethodSmooth=void 0;class pp extends Rs{}pp.prototype.ValueTypeName="vector";class mp{constructor(e,n=-1,r,i=Ty){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ri(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(Hme(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Rs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=YN(l);l=kS(l,1,c),u=kS(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new dp(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const d=c[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,g,_){if(m.length!==0){const x=[],v=[];VM(m,x,v,g),x.length!==0&&_.push(new d(p,x,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let _=0;_<p[g].morphTargets.length;_++)m[p[g].morphTargets[_]]=-1;for(const _ in m){const x=[],v=[];for(let S=0;S!==p[g].morphTargets.length;++S){const w=p[g];x.push(w.time),v.push(w.morphTarget===_?1:0)}i.push(new dp(".morphTargetInfluence["+_+"]",x,v))}l=m.length*o}else{const m=".bones["+n[d].name+"]";r(pp,m+".position",p,"pos",i),r(Kf,m+".quaternion",p,"rot",i),r(pp,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Vme(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return dp;case"vector":case"vector2":case"vector3":case"vector4":return pp;case"color":return GM;case"quaternion":return Kf;case"bool":case"boolean":return Tu;case"string":return Au}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Hme(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Vme(t.type);if(t.times===void 0){const n=[],r=[];VM(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const fu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class WM{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],g=u[d+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const JN=new WM;class ki{constructor(e){this.manager=e!==void 0?e:JN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const yo={};class Gme extends Error{constructor(e,n){super(e),this.response=n}}class Fo extends ki{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=fu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(yo[e]!==void 0){yo[e].push({onLoad:n,onProgress:r,onError:i});return}yo[e]=[],yo[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=yo[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let _=0;const x=new ReadableStream({start(v){S();function S(){d.read().then(({done:w,value:M})=>{if(w)v.close();else{_+=M.byteLength;const T=new ProgressEvent("progress",{lengthComputable:g,loaded:_,total:m});for(let A=0,R=c.length;A<R;A++){const L=c[A];L.onProgress&&L.onProgress(T)}v.enqueue(M),S()}})}}});return new Response(x)}else throw new Gme(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{fu.add(e,u);const c=yo[e];delete yo[e];for(let d=0,p=c.length;d<p;d++){const m=c[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=yo[e];if(c===void 0)throw this.manager.itemError(e),u;delete yo[e];for(let d=0,p=c.length;d<p;d++){const m=c[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Wme extends ki{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Fo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=mp.parse(e[r]);n.push(i)}return n}}class jme extends ki{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new DM,l=new Fo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=_n),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)c(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+_]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=_n),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class gp extends ki{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=lp("img");function l(){c(),fu.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){c(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class $me extends ki{constructor(e){super(e)}load(e,n,r,i){const s=new zp;s.colorSpace=Ct;const o=new gp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class Xme extends ki{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new mf,a=new Fo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Pr,o.wrapT=u.wrapT!==void 0?u.wrapT:Pr,o.magFilter=u.magFilter!==void 0?u.magFilter:_n,o.minFilter=u.minFilter!==void 0?u.minFilter:_n,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ja),u.mipmapCount===1&&(o.minFilter=_n),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class Yme extends ki{constructor(e){super(e)}load(e,n,r,i){const s=new En,o=new gp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class tl extends Xt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class QN extends tl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Xt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const u_=new Mt,WR=new j,jR=new j;class jM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Oe(512,512),this.map=null,this.mapPass=null,this.matrix=new Mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cy,this._frameExtents=new Oe(1,1),this._viewportCount=1,this._viewports=[new Kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;WR.setFromMatrixPosition(e.matrixWorld),n.position.copy(WR),jR.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(jR),n.updateMatrixWorld(),u_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(u_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class qme extends jM{constructor(){super(new Bn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Af*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ek extends tl{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Xt.DEFAULT_UP),this.updateMatrix(),this.target=new Xt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new qme}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $R=new Mt,$h=new j,c_=new j;class Kme extends jM{constructor(){super(new Bn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Oe(4,2),this._viewportCount=6,this._viewports=[new Kt(2,1,1,1),new Kt(0,1,1,1),new Kt(3,1,1,1),new Kt(1,1,1,1),new Kt(3,0,1,1),new Kt(1,0,1,1)],this._cubeDirections=[new j(1,0,0),new j(-1,0,0),new j(0,0,1),new j(0,0,-1),new j(0,1,0),new j(0,-1,0)],this._cubeUps=[new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,0,1),new j(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),$h.setFromMatrixPosition(e.matrixWorld),r.position.copy($h),c_.copy(r.position),c_.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(c_),r.updateMatrixWorld(),i.makeTranslation(-$h.x,-$h.y,-$h.z),$R.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix($R)}}class tk extends tl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Kme}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Zme extends jM{constructor(){super(new Na(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nk extends tl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Xt.DEFAULT_UP),this.updateMatrix(),this.target=new Xt,this.shadow=new Zme}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class rk extends tl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class ik extends tl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class sk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new j)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class By extends tl{constructor(e=new sk,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class zy extends ki{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Fo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=zy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new et().setHex(o.value);break;case"v2":i.uniforms[s].value=new Oe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new j().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Kt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Rt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Mt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Oe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Oe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:BN,SpriteMaterial:PM,RawShaderMaterial:zN,ShaderMaterial:Zs,PointsMaterial:LM,MeshPhysicalMaterial:VN,MeshStandardMaterial:BM,MeshPhongMaterial:HN,MeshToonMaterial:GN,MeshNormalMaterial:WN,MeshLambertMaterial:jN,MeshDepthMaterial:Ry,MeshDistanceMaterial:Ly,MeshBasicMaterial:Wo,MeshMatcapMaterial:$N,LineDashedMaterial:XN,LineBasicMaterial:Xr,Material:gr};return new n[e]}}class FS{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class $M extends It{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class ok extends ki{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Fo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const x=m.interleavedBuffers[g],v=s(m,x.buffer),S=ef(x.type,v),w=new Oy(S,x.stride);return w.uuid=x.uuid,n[g]=w,w}function s(m,g){if(r[g]!==void 0)return r[g];const x=m.arrayBuffers[g],v=new Uint32Array(x).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new $M:new It,a=e.data.index;if(a!==void 0){const m=ef(a.type,a.array);o.setIndex(new tn(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let _;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);_=new lu(x,g.itemSize,g.offset,g.normalized)}else{const x=ef(g.type,g.array),v=g.isInstancedBufferAttribute?uu:tn;_=new v(x,g.itemSize,g.normalized)}g.name!==void 0&&(_.name=g.name),g.usage!==void 0&&_.setUsage(g.usage),g.updateRange!==void 0&&(_.updateRange.offset=g.updateRange.offset,_.updateRange.count=g.updateRange.count),o.setAttribute(m,_)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],_=[];for(let x=0,v=g.length;x<v;x++){const S=g[x];let w;if(S.isInterleavedBufferAttribute){const M=i(e.data,S.data);w=new lu(M,S.itemSize,S.offset,S.normalized)}else{const M=ef(S.type,S.array);w=new tn(M,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),_.push(w)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const _=d[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new j;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new ss(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Jme extends ki{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?FS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Fo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?FS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Fo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Ql().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Uy().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new ok;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in GR?a=GR[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new zy;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=mp.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:ef(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new WM(n);s=new gp(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,_=p.length;g<_;g++){const x=p[g],v=a(x);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new mf(v.data,v.width,v.height)))}i[d.uuid]=new $l(m)}else{const m=a(d.url);i[d.uuid]=new $l(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:ef(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new gp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new mf(g.data,g.width,g.height)))}r[l.uuid]=new $l(c)}else{const c=await s(l.url);r[l.uuid]=new $l(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new zp,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new mf:c=new En,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,Qme)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],XR),c.wrapT=r(a.wrap[1],XR)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,YR)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,YR)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,_=p.length;g<_;g++){const x=p[g];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,d;switch(e.type){case"Scene":o=new Dv,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Iy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Dy(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Bn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Na(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new rk(e.color,e.intensity);break;case"DirectionalLight":o=new nk(e.color,e.intensity);break;case"PointLight":o=new tk(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ik(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new ek(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new QN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new By().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),d=l(e.material),o=new EN(c,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),d=l(e.material),o=new $n(c,d);break;case"InstancedMesh":c=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new TN(c,d,p),o.instanceMatrix=new uu(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new uu(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new MN;break;case"Line":o=new $a(a(e.geometry),l(e.material));break;case"LineLoop":o=new AN(a(e.geometry),l(e.material));break;case"LineSegments":o=new Qs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new CN(a(e.geometry),l(e.material));break;case"Sprite":o=new bN(l(e.material));break;case"Group":o=new nf;break;case"Bone":o=new RM;break;default:o=new Xt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],_=o.getObjectByProperty("uuid",g.object);_!==void 0&&o.addLevel(_,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Qme={UVMapping:My,CubeReflectionMapping:Ga,CubeRefractionMapping:Wa,EquirectangularReflectionMapping:Qd,EquirectangularRefractionMapping:ep,CubeUVReflectionMapping:jf},XR={RepeatWrapping:tp,ClampToEdgeWrapping:Pr,MirroredRepeatWrapping:np},YR={NearestFilter:kn,NearestMipmapNearestFilter:Pv,NearestMipmapLinearFilter:Sd,LinearFilter:_n,LinearMipmapNearestFilter:cM,LinearMipmapLinearFilter:ja};class ege extends ki{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){fu.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Qg;class XM{static getContext(){return Qg===void 0&&(Qg=new(window.AudioContext||window.webkitAudioContext)),Qg}static setContext(e){Qg=e}}class tge extends ki{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Fo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);XM.getContext().decodeAudioData(u,function(d){n(d)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class nge extends By{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new et().set(e),s=new et().set(n),o=new j(i.r,i.g,i.b),a=new j(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class rge extends By{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new et().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const qR=new Mt,KR=new Mt,bl=new Mt;class ige{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Bn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Bn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,bl.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Zl*n.fov*.5)/n.zoom;let a,l;KR.elements[12]=-i,qR.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,bl.elements[0]=2*n.near/(l-a),bl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(bl),a=-o*n.aspect-s,l=o*n.aspect-s,bl.elements[0]=2*n.near/(l-a),bl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(bl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(KR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qR)}}class YM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ZR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=ZR();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function ZR(){return(typeof performance>"u"?Date:performance).now()}const Ml=new j,JR=new Rr,sge=new j,El=new j;class oge extends Xt{constructor(){super(),this.type="AudioListener",this.context=XM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ml,JR,sge),El.set(0,0,-1).applyQuaternion(JR),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ml.x,i),n.positionY.linearRampToValueAtTime(Ml.y,i),n.positionZ.linearRampToValueAtTime(Ml.z,i),n.forwardX.linearRampToValueAtTime(El.x,i),n.forwardY.linearRampToValueAtTime(El.y,i),n.forwardZ.linearRampToValueAtTime(El.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Ml.x,Ml.y,Ml.z),n.setOrientation(El.x,El.y,El.z,r.x,r.y,r.z)}}class ak extends Xt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Tl=new j,QR=new Rr,age=new j,Al=new j;class lge extends ak{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tl,QR,age),Al.set(0,0,1).applyQuaternion(QR);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Tl.x,r),n.positionY.linearRampToValueAtTime(Tl.y,r),n.positionZ.linearRampToValueAtTime(Tl.z,r),n.orientationX.linearRampToValueAtTime(Al.x,r),n.orientationY.linearRampToValueAtTime(Al.y,r),n.orientationZ.linearRampToValueAtTime(Al.z,r)}else n.setPosition(Tl.x,Tl.y,Tl.z),n.setOrientation(Al.x,Al.y,Al.z)}}class uge{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class lk{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Rr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Rr.multiplyQuaternionsFlat(e,o,e,n,e,r),Rr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const qM="\\[\\]\\.:\\/",cge=new RegExp("["+qM+"]","g"),KM="[^"+qM+"]",fge="[^"+qM.replace("\\.","")+"]",hge=/((?:WC+[\/:])*)/.source.replace("WC",KM),dge=/(WCOD+)?/.source.replace("WCOD",fge),pge=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KM),mge=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KM),gge=new RegExp("^"+hge+dge+pge+mge+"$"),vge=["material","materials","bones","map"];class yge{constructor(e,n,r){const i=r||Vt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Vt{constructor(e,n,r){this.path=n,this.parsedPath=r||Vt.parseTrackName(n),this.node=Vt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Vt.Composite(e,n,r):new Vt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(cge,"")}static parseTrackName(e){const n=gge.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);vge.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Vt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vt.Composite=yge;Vt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vt.prototype.GetterByBindingType=[Vt.prototype._getValue_direct,Vt.prototype._getValue_array,Vt.prototype._getValue_arrayElement,Vt.prototype._getValue_toArray];Vt.prototype.SetterByBindingTypeAndVersioning=[[Vt.prototype._setValue_direct,Vt.prototype._setValue_direct_setNeedsUpdate,Vt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_array,Vt.prototype._setValue_array_setNeedsUpdate,Vt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_arrayElement,Vt.prototype._setValue_arrayElement_setNeedsUpdate,Vt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_fromArray,Vt.prototype._setValue_fromArray_setNeedsUpdate,Vt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xge{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ri(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],m=p.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new Vt(p,r[_],i[_]))}else if(g<u){a=e[g];const _=--u,x=e[_];n[x.uuid]=g,e[g]=x,n[m]=_,e[_]=p;for(let v=0,S=o;v!==S;++v){const w=s[v],M=w[_];let T=w[g];w[g]=M,T===void 0&&(T=new Vt(p,r[v],i[v])),w[_]=T}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const d=s++,p=e[d];n[p.uuid]=c,e[c]=p,n[u]=d,e[d]=l;for(let m=0,g=i;m!==g;++m){const _=r[m],x=_[d],v=_[c];_[c]=x,_[d]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,d=n[c];if(d!==void 0)if(delete n[c],d<s){const p=--s,m=e[p],g=--o,_=e[g];n[m.uuid]=d,e[d]=m,n[_.uuid]=p,e[p]=_,e.pop();for(let x=0,v=i;x!==v;++x){const S=r[x],w=S[p],M=S[g];S[d]=w,S[p]=M,S.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let g=0,_=i;g!==_;++g){const x=r[g];x[d]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let p=c,m=l.length;p!==m;++p){const g=l[p];d[p]=new Vt(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class uk{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Wl,endingEnd:Wl};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=YU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case vM:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case Ty:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===qU;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===XU){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=jl,i.endingEnd=jl):(e?i.endingStart=this.zeroSlopeAtStart?jl:Wl:i.endingStart=sp,n?i.endingEnd=this.zeroSlopeAtEnd?jl:Wl:i.endingEnd=sp)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const _ge=new Float32Array(1);class Sge extends Go{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const _=n&&n._propertyBindings[d].binding.parsedPath;g=new lk(Vt.create(r,m,_),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new HM(new Float32Array(2),new Float32Array(2),1,_ge),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?mp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Ty),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new uk(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?mp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,n[c]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ZM{constructor(e){this.value=e}clone(){return new ZM(this.value.clone===void 0?this.value:this.value.clone())}}let wge=0;class bge extends Go{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:wge++}),this.name="",this.usage=op,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Mge extends Oy{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Ege{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class ck{constructor(e,n,r=0,i=1/0){this.ray=new Mu(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Jl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return BS(e,this,r,n),r.sort(e4),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)BS(e[i],this,r,n);return r.sort(e4),r}}function e4(t,e){return t.distance-e.distance}function BS(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)BS(i[s],e,n,!0)}}class zS{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ln(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Tge{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const t4=new Oe;class Age{constructor(e=new Oe(1/0,1/0),n=new Oe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=t4.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,t4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const n4=new j,e0=new j;class Cge{constructor(e=new j,n=new j){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){n4.subVectors(e,this.start),e0.subVectors(this.end,this.start);const r=e0.dot(e0);let s=e0.dot(n4)/r;return n&&(s=Ln(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const r4=new j;class Pge extends Xt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new It,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new ot(i,3));const s=new Xr({fog:!1,toneMapped:!1});this.cone=new Qs(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),r4.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(r4),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const la=new j,t0=new Mt,f_=new Mt;class Rge extends Qs{constructor(e){const n=fk(e),r=new It,i=[],s=[],o=new et(0,0,1),a=new et(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ot(i,3)),r.setAttribute("color",new ot(s,3));const l=new Xr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");f_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(t0.multiplyMatrices(f_,a.matrixWorld),la.setFromMatrixPosition(t0),i.setXYZ(o,la.x,la.y,la.z),t0.multiplyMatrices(f_,a.parent.matrixWorld),la.setFromMatrixPosition(t0),i.setXYZ(o+1,la.x,la.y,la.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function fk(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,fk(t.children[n]));return e}class Lge extends $n{constructor(e,n,r){const i=new qf(n,4,2),s=new Wo({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Dge=new j,i4=new et,s4=new et;class Ige extends Xt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Yf(n);i.rotateY(Math.PI*.5),this.material=new Wo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new tn(o,3)),this.add(new $n(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");i4.copy(this.light.color),s4.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?i4:s4;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Dge.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Oge extends Qs{constructor(e=10,n=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,g=-a;p<=n;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const _=p===s?r:i;_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3}const c=new It;c.setAttribute("position",new ot(l,3)),c.setAttribute("color",new ot(u,3));const d=new Xr({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Uge extends Qs{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new et(s),o=new et(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const _=d&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let g=0;g<i;g++){let _=g/i*(Math.PI*2),x=Math.sin(_)*m,v=Math.cos(_)*m;a.push(x,0,v),l.push(p.r,p.g,p.b),_=(g+1)/i*(Math.PI*2),x=Math.sin(_)*m,v=Math.cos(_)*m,a.push(x,0,v),l.push(p.r,p.g,p.b)}}const u=new It;u.setAttribute("position",new ot(a,3)),u.setAttribute("color",new ot(l,3));const c=new Xr({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const o4=new j,n0=new j,a4=new j;class Nge extends Xt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new It;i.setAttribute("position",new ot([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Xr({fog:!1,toneMapped:!1});this.lightPlane=new $a(i,s),this.add(this.lightPlane),i=new It,i.setAttribute("position",new ot([0,0,0,0,0,1],3)),this.targetLine=new $a(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),o4.setFromMatrixPosition(this.light.matrixWorld),n0.setFromMatrixPosition(this.light.target.matrixWorld),a4.subVectors(n0,o4),this.lightPlane.lookAt(n0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n0),this.targetLine.scale.z=a4.length()}}const r0=new j,Pn=new Bp;class kge extends Qs{constructor(e){const n=new It,r=new Xr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,_){l(g),l(_)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new ot(i,3)),n.setAttribute("color",new ot(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new et(16755200),c=new et(16711680),d=new et(43775),p=new et(16777215),m=new et(3355443);this.setColors(u,c,d,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Pn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Nn("c",n,e,Pn,0,0,-1),Nn("t",n,e,Pn,0,0,1),Nn("n1",n,e,Pn,-r,-i,-1),Nn("n2",n,e,Pn,r,-i,-1),Nn("n3",n,e,Pn,-r,i,-1),Nn("n4",n,e,Pn,r,i,-1),Nn("f1",n,e,Pn,-r,-i,1),Nn("f2",n,e,Pn,r,-i,1),Nn("f3",n,e,Pn,-r,i,1),Nn("f4",n,e,Pn,r,i,1),Nn("u1",n,e,Pn,r*.7,i*1.1,-1),Nn("u2",n,e,Pn,-r*.7,i*1.1,-1),Nn("u3",n,e,Pn,0,i*2,-1),Nn("cf1",n,e,Pn,-r,0,1),Nn("cf2",n,e,Pn,r,0,1),Nn("cf3",n,e,Pn,0,-i,1),Nn("cf4",n,e,Pn,0,i,1),Nn("cn1",n,e,Pn,-r,0,-1),Nn("cn2",n,e,Pn,r,0,-1),Nn("cn3",n,e,Pn,0,-i,-1),Nn("cn4",n,e,Pn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Nn(t,e,n,r,i,s,o){r0.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],r0.x,r0.y,r0.z)}}const i0=new is;class Fge extends Qs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new It;s.setIndex(new tn(r,1)),s.setAttribute("position",new tn(i,3)),super(s,new Xr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&i0.setFromObject(this.object),i0.isEmpty())return;const n=i0.min,r=i0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bge extends Qs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new It;s.setIndex(new tn(r,1)),s.setAttribute("position",new ot(i,3)),super(s,new Xr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class zge extends $a{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new It;o.setAttribute("position",new ot(s,3)),o.computeBoundingSphere(),super(o,new Xr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new It;l.setAttribute("position",new ot(a,3)),l.computeBoundingSphere(),this.add(new $n(l,new Wo({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const l4=new j;let s0,h_;class Vge extends Xt{constructor(e=new j(0,0,1),n=new j(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",s0===void 0&&(s0=new It,s0.setAttribute("position",new ot([0,0,0,0,1,0],3)),h_=new Eu(0,.5,1,5,1),h_.translate(0,-.5,0)),this.position.copy(n),this.line=new $a(s0,new Xr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $n(h_,new Wo({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{l4.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(l4,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Hge extends Qs{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new It;i.setAttribute("position",new ot(n,3)),i.setAttribute("color",new ot(r,3));const s=new Xr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new et,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Gge{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new up,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const S=[];for(let w=0,M=v.length;w<M;w++){const T=v[w],A=new Ql;A.curves=T.curves,S.push(A)}return S}function r(v,S){const w=S.length;let M=!1;for(let T=w-1,A=0;A<w;T=A++){let R=S[T],L=S[A],C=L.x-R.x,P=L.y-R.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(R=S[A],C=-C,L=S[T],P=-P),v.y<R.y||v.y>L.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const F=P*(v.x-R.x)-C*(v.y-R.y);if(F===0)return!0;if(F<0)continue;M=!M}}else{if(v.y!==R.y)continue;if(L.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=L.x)return!0}}return M}const i=Ks.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Ql,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const d=[],p=[];let m=[],g=0,_;p[g]=void 0,m[g]=[];for(let v=0,S=s.length;v<S;v++)a=s[v],_=a.getPoints(),o=i(_),o=e?!o:o,o?(!c&&p[g]&&g++,p[g]={s:new Ql,p:_},p[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:_[0]});if(!p[0])return n(s);if(p.length>1){let v=!1,S=0;for(let w=0,M=p.length;w<M;w++)d[w]=[];for(let w=0,M=p.length;w<M;w++){const T=m[w];for(let A=0;A<T.length;A++){const R=T[A];let L=!0;for(let C=0;C<p.length;C++)r(R.p,p[C].p)&&(w!==C&&S++,L?(L=!1,d[C].push(R)):v=!0);L&&d[w].push(R)}}S>0&&v===!1&&(m=d)}let x;for(let v=0,S=p.length;v<S;v++){l=p[v].s,u.push(l),x=m[v];for(let w=0,M=x.length;w<M;w++)l.holes.push(x[w].h)}return u}}class Wge extends el{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class jge extends Vp{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class $ge extends Hp{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class Xge extends Gp{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class Yge extends Eu{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class qge extends Wp{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class Kge extends jp{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class Zge extends $p{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class Jge extends Xf{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class Qge extends Yf{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class e0e extends jo{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class t0e extends $o{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class n0e extends Xp{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class r0e extends Yp{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class i0e extends qf{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class s0e extends qp{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class o0e extends Kp{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class a0e extends Zp{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class l0e extends Jp{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:wy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=wy);const u0e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:uM,AddEquation:Fl,AddOperation:IU,AdditiveAnimationBlendMode:vM,AdditiveBlending:nS,AlphaFormat:zU,AlwaysCompare:oN,AlwaysDepth:TU,AlwaysStencilFunc:JU,AmbientLight:rk,AmbientLightProbe:rge,AnimationAction:uk,AnimationClip:mp,AnimationLoader:Wme,AnimationMixer:Sge,AnimationObjectGroup:xge,AnimationUtils:zme,ArcCurve:PN,ArrayCamera:xN,ArrowHelper:Vge,Audio:ak,AudioAnalyser:uge,AudioContext:XM,AudioListener:oge,AudioLoader:tge,AxesHelper:Hge,BackSide:Wr,BasicDepthPacking:KU,BasicShadowMap:hU,Bone:RM,BooleanKeyframeTrack:Tu,Box2:Age,Box3:is,Box3Helper:Bge,BoxBufferGeometry:Wge,BoxGeometry:el,BoxHelper:Fge,BufferAttribute:tn,BufferGeometry:It,BufferGeometryLoader:ok,ByteType:FU,Cache:fu,Camera:Bp,CameraHelper:kge,CanvasTexture:cme,CapsuleBufferGeometry:jge,CapsuleGeometry:Vp,CatmullRomCurve3:RN,CineonToneMapping:NU,CircleBufferGeometry:$ge,CircleGeometry:Hp,ClampToEdgeWrapping:Pr,Clock:YM,Color:et,ColorKeyframeTrack:GM,ColorManagement:Yi,CompressedArrayTexture:ume,CompressedTexture:DM,CompressedTextureLoader:jme,ConeBufferGeometry:Xge,ConeGeometry:Gp,CubeCamera:fN,CubeReflectionMapping:Ga,CubeRefractionMapping:Wa,CubeTexture:zp,CubeTextureLoader:$me,CubeUVReflectionMapping:jf,CubicBezierCurve:OM,CubicBezierCurve3:LN,CubicInterpolant:qN,CullFaceBack:tS,CullFaceFront:fU,CullFaceFrontBack:oue,CullFaceNone:cU,Curve:Ps,CurvePath:IN,CustomBlending:dU,CustomToneMapping:kU,CylinderBufferGeometry:Yge,CylinderGeometry:Eu,Cylindrical:Tge,Data3DTexture:bM,DataArrayTexture:Ay,DataTexture:mf,DataTextureLoader:Xme,DataUtils:xce,DecrementStencilOp:yue,DecrementWrapStencilOp:_ue,DefaultLoadingManager:JN,DepthFormat:Ia,DepthStencilFormat:au,DepthTexture:_N,DirectionalLight:nk,DirectionalLightHelper:Nge,DiscreteInterpolant:KN,DisplayP3ColorSpace:_M,DodecahedronBufferGeometry:qge,DodecahedronGeometry:Wp,DoubleSide:xs,DstAlphaFactor:_U,DstColorFactor:wU,DynamicCopyUsage:Uue,DynamicDrawUsage:Pue,DynamicReadUsage:Due,EdgesGeometry:ON,EllipseCurve:Ny,EqualCompare:tN,EqualDepth:CU,EqualStencilFunc:Mue,EquirectangularReflectionMapping:Qd,EquirectangularRefractionMapping:ep,Euler:Fp,EventDispatcher:Go,ExtrudeBufferGeometry:Kge,ExtrudeGeometry:jp,FileLoader:Fo,Float16BufferAttribute:Ece,Float32BufferAttribute:ot,Float64BufferAttribute:Tce,FloatType:Gs,Fog:Iy,FogExp2:Dy,FramebufferTexture:lme,FrontSide:ko,Frustum:Cy,GLBufferAttribute:Ege,GLSL1:kue,GLSL3:RS,GreaterCompare:rN,GreaterDepth:RU,GreaterEqualCompare:sN,GreaterEqualDepth:PU,GreaterEqualStencilFunc:Cue,GreaterStencilFunc:Tue,GridHelper:Oge,Group:nf,HalfFloatType:Tf,HemisphereLight:QN,HemisphereLightHelper:Ige,HemisphereLightProbe:nge,IcosahedronBufferGeometry:Zge,IcosahedronGeometry:$p,ImageBitmapLoader:ege,ImageLoader:gp,ImageUtils:wM,IncrementStencilOp:vue,IncrementWrapStencilOp:xue,InstancedBufferAttribute:uu,InstancedBufferGeometry:$M,InstancedInterleavedBuffer:Mge,InstancedMesh:TN,Int16BufferAttribute:bce,Int32BufferAttribute:Mce,Int8BufferAttribute:_ce,IntType:fM,InterleavedBuffer:Oy,InterleavedBufferAttribute:lu,Interpolant:Qp,InterpolateDiscrete:rp,InterpolateLinear:ip,InterpolateSmooth:I0,InvertStencilOp:Sue,KeepStencilOp:O0,KeyframeTrack:Rs,LOD:MN,LatheBufferGeometry:Jge,LatheGeometry:Xf,Layers:Jl,LessCompare:eN,LessDepth:AU,LessEqualCompare:nN,LessEqualDepth:Cv,LessEqualStencilFunc:Eue,LessStencilFunc:bue,Light:tl,LightProbe:By,Line:$a,Line3:Cge,LineBasicMaterial:Xr,LineCurve:ky,LineCurve3:DN,LineDashedMaterial:XN,LineLoop:AN,LineSegments:Qs,LinearEncoding:yM,LinearFilter:_n,LinearInterpolant:HM,LinearMipMapLinearFilter:fue,LinearMipMapNearestFilter:cue,LinearMipmapLinearFilter:ja,LinearMipmapNearestFilter:cM,LinearSRGBColorSpace:Es,LinearToneMapping:OU,Loader:ki,LoaderUtils:FS,LoadingManager:WM,LoopOnce:XU,LoopPingPong:qU,LoopRepeat:YU,LuminanceAlphaFormat:HU,LuminanceFormat:VU,MOUSE:Ul,Material:gr,MaterialLoader:zy,MathUtils:Zue,Matrix3:Rt,Matrix4:Mt,MaxEquation:oS,Mesh:$n,MeshBasicMaterial:Wo,MeshDepthMaterial:Ry,MeshDistanceMaterial:Ly,MeshLambertMaterial:jN,MeshMatcapMaterial:$N,MeshNormalMaterial:WN,MeshPhongMaterial:HN,MeshPhysicalMaterial:VN,MeshStandardMaterial:BM,MeshToonMaterial:GN,MinEquation:sS,MirroredRepeatWrapping:np,MixOperation:DU,MultiplyBlending:iS,MultiplyOperation:kp,NearestFilter:kn,NearestMipMapLinearFilter:uue,NearestMipMapNearestFilter:lue,NearestMipmapLinearFilter:Sd,NearestMipmapNearestFilter:Pv,NeverCompare:QU,NeverDepth:EU,NeverStencilFunc:wue,NoBlending:Lo,NoColorSpace:Ua,NoToneMapping:bs,NormalAnimationBlendMode:Ty,NormalBlending:Kl,NotEqualCompare:iN,NotEqualDepth:LU,NotEqualStencilFunc:Aue,NumberKeyframeTrack:dp,Object3D:Xt,ObjectLoader:Jme,ObjectSpaceNormalMap:ZU,OctahedronBufferGeometry:Qge,OctahedronGeometry:Yf,OneFactor:vU,OneMinusDstAlphaFactor:SU,OneMinusDstColorFactor:bU,OneMinusSrcAlphaFactor:lM,OneMinusSrcColorFactor:xU,OrthographicCamera:Na,PCFShadowMap:by,PCFSoftShadowMap:_d,PMREMGenerator:DS,Path:up,PerspectiveCamera:Bn,Plane:wo,PlaneBufferGeometry:e0e,PlaneGeometry:jo,PlaneHelper:zge,PointLight:tk,PointLightHelper:Lge,Points:CN,PointsMaterial:LM,PolarGridHelper:Uge,PolyhedronBufferGeometry:t0e,PolyhedronGeometry:$o,PositionalAudio:lge,PropertyBinding:Vt,PropertyMixer:lk,QuadraticBezierCurve:UM,QuadraticBezierCurve3:NM,Quaternion:Rr,QuaternionKeyframeTrack:Kf,QuaternionLinearInterpolant:ZN,RED_GREEN_RGTC2_Format:CS,RED_RGTC1_Format:$U,REVISION:wy,RGBADepthPacking:xM,RGBAFormat:ri,RGBAIntegerFormat:gM,RGBA_ASTC_10x10_Format:MS,RGBA_ASTC_10x5_Format:SS,RGBA_ASTC_10x6_Format:wS,RGBA_ASTC_10x8_Format:bS,RGBA_ASTC_12x10_Format:ES,RGBA_ASTC_12x12_Format:TS,RGBA_ASTC_4x4_Format:dS,RGBA_ASTC_5x4_Format:pS,RGBA_ASTC_5x5_Format:mS,RGBA_ASTC_6x5_Format:gS,RGBA_ASTC_6x6_Format:vS,RGBA_ASTC_8x5_Format:yS,RGBA_ASTC_8x6_Format:xS,RGBA_ASTC_8x8_Format:_S,RGBA_BPTC_Format:D0,RGBA_ETC2_EAC_Format:hS,RGBA_PVRTC_2BPPV1_Format:cS,RGBA_PVRTC_4BPPV1_Format:uS,RGBA_S3TC_DXT1_Format:P0,RGBA_S3TC_DXT3_Format:R0,RGBA_S3TC_DXT5_Format:L0,RGB_ETC1_Format:jU,RGB_ETC2_Format:fS,RGB_PVRTC_2BPPV1_Format:lS,RGB_PVRTC_4BPPV1_Format:aS,RGB_S3TC_DXT1_Format:C0,RGFormat:WU,RGIntegerFormat:mM,RawShaderMaterial:zN,Ray:Mu,Raycaster:ck,RectAreaLight:ik,RedFormat:GU,RedIntegerFormat:pM,ReinhardToneMapping:UU,RepeatWrapping:tp,ReplaceStencilOp:gue,ReverseSubtractEquation:mU,RingBufferGeometry:n0e,RingGeometry:Xp,SIGNED_RED_GREEN_RGTC2_Format:PS,SIGNED_RED_RGTC1_Format:AS,SRGBColorSpace:Ct,Scene:Dv,ShaderChunk:Pt,ShaderLib:ys,ShaderMaterial:Zs,ShadowMaterial:BN,Shape:Ql,ShapeBufferGeometry:r0e,ShapeGeometry:Yp,ShapePath:Gge,ShapeUtils:Ks,ShortType:BU,Skeleton:Uy,SkeletonHelper:Rge,SkinnedMesh:EN,Source:$l,Sphere:ss,SphereBufferGeometry:i0e,SphereGeometry:qf,Spherical:zS,SphericalHarmonics3:sk,SplineCurve:kM,SpotLight:ek,SpotLightHelper:Pge,Sprite:bN,SpriteMaterial:PM,SrcAlphaFactor:aM,SrcAlphaSaturateFactor:MU,SrcColorFactor:yU,StaticCopyUsage:Oue,StaticDrawUsage:op,StaticReadUsage:Lue,StereoCamera:ige,StreamCopyUsage:Nue,StreamDrawUsage:Rue,StreamReadUsage:Iue,StringKeyframeTrack:Au,SubtractEquation:pU,SubtractiveBlending:rS,TOUCH:Nl,TangentSpaceNormalMap:Qa,TetrahedronBufferGeometry:s0e,TetrahedronGeometry:qp,Texture:En,TextureLoader:Yme,TorusBufferGeometry:o0e,TorusGeometry:Kp,TorusKnotBufferGeometry:a0e,TorusKnotGeometry:Zp,Triangle:ni,TriangleFanDrawMode:pue,TriangleStripDrawMode:due,TrianglesDrawMode:hue,TubeBufferGeometry:l0e,TubeGeometry:Jp,TwoPassDoubleSide:aue,UVMapping:My,Uint16BufferAttribute:MM,Uint32BufferAttribute:EM,Uint8BufferAttribute:Sce,Uint8ClampedBufferAttribute:wce,Uniform:ZM,UniformsGroup:bge,UniformsLib:Je,UniformsUtils:TM,UnsignedByteType:qs,UnsignedInt248Type:Da,UnsignedIntType:Ao,UnsignedShort4444Type:hM,UnsignedShort5551Type:dM,UnsignedShortType:Ey,VSMShadowMap:ms,Vector2:Oe,Vector3:j,Vector4:Kt,VectorKeyframeTrack:pp,VideoTexture:ame,WebGL1Renderer:SN,WebGL3DRenderTarget:lce,WebGLArrayRenderTarget:ace,WebGLCoordinateSystem:Ws,WebGLCubeRenderTarget:hN,WebGLMultipleRenderTargets:uce,WebGLRenderTarget:Ts,WebGLRenderer:CM,WebGLUtils:yN,WebGPUCoordinateSystem:ap,WireframeGeometry:FN,WrapAroundEnding:sp,ZeroCurvatureEnding:Wl,ZeroFactor:gU,ZeroSlopeEnding:jl,ZeroStencilOp:mue,_SRGBAFormat:Rv,sRGBEncoding:Oa},Symbol.toStringTag,{value:"Module"}));var hk={exports:{}},Cu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Cu.ConcurrentRoot=1;Cu.ContinuousEventPriority=4;Cu.DefaultEventPriority=16;Cu.DiscreteEventPriority=1;Cu.IdleEventPriority=536870912;Cu.LegacyRoot=0;hk.exports=Cu;var sf=hk.exports;function c0e(t){let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=c?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,s=(u,c=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const g=c(e);if(!d(p,g)){const _=p;u(p=g,_)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,d)=>c||d?s(u,c,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const f0e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),u4=f0e?re.useEffect:re.useLayoutEffect;function h0e(t){const e=typeof t=="function"?c0e(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=re.useReducer(x=>x+1,0),o=e.getState(),a=re.useRef(o),l=re.useRef(r),u=re.useRef(i),c=re.useRef(!1),d=re.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),m=!i(d.current,p)),u4(()=>{m&&(d.current=p),a.current=o,l.current=r,u.current=i,c.current=!1});const g=re.useRef(o);u4(()=>{const x=()=>{try{const S=e.getState(),w=l.current(S);u.current(d.current,w)||(a.current=S,d.current=w,s())}catch{c.current=!0,s()}},v=e.subscribe(x);return e.getState()!==g.current&&x(),v},[]);const _=m?p:d.current;return re.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var dk={exports:{}},d_={exports:{}},p_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4;function d0e(){return c4||(c4=1,function(t){function e(U,z){var k=U.length;U.push(z);e:for(;0<k;){var N=k-1>>>1,I=U[N];if(0<i(I,z))U[N]=z,U[k]=I,k=N;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],k=U.pop();if(k!==z){U[0]=k;e:for(var N=0,I=U.length,J=I>>>1;N<J;){var Z=2*(N+1)-1,te=U[Z],ie=Z+1,se=U[ie];if(0>i(te,k))ie<I&&0>i(se,te)?(U[N]=se,U[ie]=k,N=ie):(U[N]=te,U[Z]=k,N=Z);else if(ie<I&&0>i(se,k))U[N]=se,U[ie]=k,N=ie;else break e}}return z}function i(U,z){var k=U.sortIndex-z.sortIndex;return k!==0?k:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=U)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function M(U){if(_=!1,w(U),!g)if(n(l)!==null)g=!0,ee(T);else{var z=n(u);z!==null&&ne(M,z.startTime-U)}}function T(U,z){g=!1,_&&(_=!1,v(L),L=-1),m=!0;var k=p;try{for(w(z),d=n(l);d!==null&&(!(d.expirationTime>z)||U&&!F());){var N=d.callback;if(typeof N=="function"){d.callback=null,p=d.priorityLevel;var I=N(d.expirationTime<=z);z=t.unstable_now(),typeof I=="function"?d.callback=I:d===n(l)&&r(l),w(z)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var Z=n(u);Z!==null&&ne(M,Z.startTime-z),J=!1}return J}finally{d=null,p=k,m=!1}}var A=!1,R=null,L=-1,C=5,P=-1;function F(){return!(t.unstable_now()-P<C)}function B(){if(R!==null){var U=t.unstable_now();P=U;var z=!0;try{z=R(!0,U)}finally{z?W():(A=!1,R=null)}}else A=!1}var W;if(typeof S=="function")W=function(){S(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=B,W=function(){q.postMessage(null)}}else W=function(){x(B,0)};function ee(U){R=U,A||(A=!0,W())}function ne(U,z){L=x(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,ee(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var k=p;p=z;try{return U()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var k=p;p=U;try{return z()}finally{p=k}},t.unstable_scheduleCallback=function(U,z,k){var N=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?N+k:N):k=N,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=k+I,U={id:c++,callback:z,priorityLevel:U,startTime:k,expirationTime:I,sortIndex:-1},k>N?(U.sortIndex=k,e(u,U),n(l)===null&&U===n(u)&&(_?(v(L),L=-1):_=!0,ne(M,k-N))):(U.sortIndex=I,e(l,U),g||m||(g=!0,ee(T))),U},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(U){var z=p;return function(){var k=p;p=z;try{return U.apply(this,arguments)}finally{p=k}}}}(p_)),p_}var f4;function p0e(){return f4||(f4=1,d_.exports=d0e()),d_.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0e=function(e){var n={},r=re,i=p0e(),s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function A(f){return f===null||typeof f!="object"?null:(f=T&&f[T]||f["@@iterator"],typeof f=="function"?f:null)}function R(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case _:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case S:return h=f.displayName||null,h!==null?h:R(f.type)||"Memo";case w:h=f._payload,f=f._init;try{return R(f(h))}catch{}}return null}function L(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function C(f){var h=f,y=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(y=h.return),f=h.return;while(f)}return h.tag===3?y:null}function P(f){if(C(f)!==f)throw Error(o(188))}function F(f){var h=f.alternate;if(!h){if(h=C(f),h===null)throw Error(o(188));return h!==f?null:f}for(var y=f,b=h;;){var E=y.return;if(E===null)break;var D=E.alternate;if(D===null){if(b=E.return,b!==null){y=b;continue}break}if(E.child===D.child){for(D=E.child;D;){if(D===y)return P(E),f;if(D===b)return P(E),h;D=D.sibling}throw Error(o(188))}if(y.return!==b.return)y=E,b=D;else{for(var K=!1,ae=E.child;ae;){if(ae===y){K=!0,y=E,b=D;break}if(ae===b){K=!0,b=E,y=D;break}ae=ae.sibling}if(!K){for(ae=D.child;ae;){if(ae===y){K=!0,y=D,b=E;break}if(ae===b){K=!0,b=D,y=E;break}ae=ae.sibling}if(!K)throw Error(o(189))}}if(y.alternate!==b)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?f:h}function B(f){return f=F(f),f!==null?W(f):null}function W(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=W(f);if(h!==null)return h;f=f.sibling}return null}function G(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=G(f);if(h!==null)return h}f=f.sibling}return null}var q=Array.isArray,ee=e.getPublicInstance,ne=e.getRootHostContext,U=e.getChildHostContext,z=e.prepareForCommit,k=e.resetAfterCommit,N=e.createInstance,I=e.appendInitialChild,J=e.finalizeInitialChildren,Z=e.prepareUpdate,te=e.shouldSetTextContent,ie=e.createTextInstance,se=e.scheduleTimeout,_e=e.cancelTimeout,Ie=e.noTimeout,We=e.isPrimaryRenderer,Se=e.supportsMutation,H=e.supportsPersistence,be=e.supportsHydration,he=e.getInstanceFromNode,Te=e.preparePortalMount,pe=e.getCurrentEventPriority,Be=e.detachDeletedInstance,ye=e.supportsMicrotasks,Re=e.scheduleMicrotask,Ne=e.supportsTestSelectors,me=e.findFiberRoot,Ke=e.getBoundingRect,V=e.getTextContent,O=e.isHiddenSubtree,oe=e.matchAccessibilityRole,Ue=e.setFocusIfFocusable,ge=e.setupIntersectionObserver,Ae=e.appendChild,Fe=e.appendChildToContainer,ke=e.commitTextUpdate,de=e.commitMount,qe=e.commitUpdate,je=e.insertBefore,He=e.insertInContainerBefore,De=e.removeChild,Y=e.removeChildFromContainer,we=e.resetTextContent,Xe=e.hideInstance,Q=e.hideTextInstance,Me=e.unhideInstance,ue=e.unhideTextInstance,Ge=e.clearContainer,ze=e.cloneInstance,Qe=e.createContainerChildSet,ht=e.appendChildToContainerChildSet,ct=e.finalizeContainerChildren,lt=e.replaceContainerChildren,dt=e.cloneHiddenInstance,Ft=e.cloneHiddenTextInstance,Ot=e.canHydrateInstance,cn=e.canHydrateTextInstance,vr=e.canHydrateSuspenseInstance,fi=e.isSuspenseInstancePending,tr=e.isSuspenseInstanceFallback,hi=e.registerSuspenseInstanceRetry,nr=e.getNextHydratableSibling,Yr=e.getFirstHydratableChild,Yn=e.getFirstHydratableChildWithinContainer,os=e.getFirstHydratableChildWithinSuspenseInstance,Pu=e.hydrateInstance,$=e.hydrateTextInstance,ve=e.hydrateSuspenseInstance,Pe=e.getNextHydratableInstanceAfterSuspenseInstance,fe=e.commitHydratedContainer,Le=e.commitHydratedSuspenseInstance,rt=e.clearSuspenseBoundary,pt=e.clearSuspenseBoundaryFromContainer,mt=e.shouldDeleteUnhydratedTailInstances,xt=e.didNotMatchHydratedContainerTextInstance,Et=e.didNotMatchHydratedTextInstance,Ve;function gt(f){if(Ve===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);Ve=h&&h[1]||""}return`
`+Ve+f}var Yt=!1;function Gt(f,h){if(!f||Yt)return"";Yt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ye){var b=Ye}Reflect.construct(f,[],h)}else{try{h.call()}catch(Ye){b=Ye}f.call(h.prototype)}else{try{throw Error()}catch(Ye){b=Ye}f()}}catch(Ye){if(Ye&&b&&typeof Ye.stack=="string"){for(var E=Ye.stack.split(`
`),D=b.stack.split(`
`),K=E.length-1,ae=D.length-1;1<=K&&0<=ae&&E[K]!==D[ae];)ae--;for(;1<=K&&0<=ae;K--,ae--)if(E[K]!==D[ae]){if(K!==1||ae!==1)do if(K--,ae--,0>ae||E[K]!==D[ae]){var Ce=`
`+E[K].replace(" at new "," at ");return f.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",f.displayName)),Ce}while(1<=K&&0<=ae);break}}}finally{Yt=!1,Error.prepareStackTrace=y}return(f=f?f.displayName||f.name:"")?gt(f):""}var rr=Object.prototype.hasOwnProperty,yr=[],qt=-1;function St(f){return{current:f}}function zt(f){0>qt||(f.current=yr[qt],yr[qt]=null,qt--)}function wt(f,h){qt++,yr[qt]=f.current,f.current=h}var Dn={},An=St(Dn),fn=St(!1),qr=Dn;function Qt(f,h){var y=f.type.contextTypes;if(!y)return Dn;var b=f.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===h)return b.__reactInternalMemoizedMaskedChildContext;var E={},D;for(D in y)E[D]=h[D];return b&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=E),E}function nn(f){return f=f.childContextTypes,f!=null}function Dr(){zt(fn),zt(An)}function zn(f,h,y){if(An.current!==Dn)throw Error(o(168));wt(An,h),wt(fn,y)}function Ls(f,h,y){var b=f.stateNode;if(h=h.childContextTypes,typeof b.getChildContext!="function")return y;b=b.getChildContext();for(var E in b)if(!(E in h))throw Error(o(108,L(f)||"Unknown",E));return s({},y,b)}function Ds(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Dn,qr=An.current,wt(An,f),wt(fn,fn.current),!0}function xr(f,h,y){var b=f.stateNode;if(!b)throw Error(o(169));y?(f=Ls(f,h,qr),b.__reactInternalMemoizedMergedChildContext=f,zt(fn),zt(An),wt(An,f)):zt(fn),wt(fn,y)}var di=Math.clz32?Math.clz32:tm,Ru=Math.log,nl=Math.LN2;function tm(f){return f>>>=0,f===0?32:31-(Ru(f)/nl|0)|0}var eo=64,to=4194304;function no(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function rl(f,h){var y=f.pendingLanes;if(y===0)return 0;var b=0,E=f.suspendedLanes,D=f.pingedLanes,K=y&268435455;if(K!==0){var ae=K&~E;ae!==0?b=no(ae):(D&=K,D!==0&&(b=no(D)))}else K=y&~E,K!==0?b=no(K):D!==0&&(b=no(D));if(b===0)return 0;if(h!==0&&h!==b&&!(h&E)&&(E=b&-b,D=h&-h,E>=D||E===16&&(D&4194240)!==0))return h;if(b&4&&(b|=y&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=b;0<h;)y=31-di(h),E=1<<y,b|=f[y],h&=~E;return b}function nm(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(f,h){for(var y=f.suspendedLanes,b=f.pingedLanes,E=f.expirationTimes,D=f.pendingLanes;0<D;){var K=31-di(D),ae=1<<K,Ce=E[K];Ce===-1?(!(ae&y)||ae&b)&&(E[K]=nm(ae,h)):Ce<=h&&(f.expiredLanes|=ae),D&=~ae}}function ro(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Lu(f){for(var h=[],y=0;31>y;y++)h.push(f);return h}function Is(f,h,y){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-di(h),f[h]=y}function Xo(f,h){var y=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var b=f.eventTimes;for(f=f.expirationTimes;0<y;){var E=31-di(y),D=1<<E;h[E]=0,b[E]=-1,f[E]=-1,y&=~D}}function Os(f,h){var y=f.entangledLanes|=h;for(f=f.entanglements;y;){var b=31-di(y),E=1<<b;E&h|f[b]&h&&(f[b]|=h),y&=~E}}var Nt=0;function Qf(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var io=i.unstable_scheduleCallback,Du=i.unstable_cancelCallback,eh=i.unstable_shouldYield,rm=i.unstable_requestPaint,gn=i.unstable_now,il=i.unstable_ImmediatePriority,im=i.unstable_UserBlockingPriority,Ir=i.unstable_NormalPriority,th=i.unstable_IdlePriority,sl=null,pi=null;function nh(f){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(sl,f,void 0,(f.current.flags&128)===128)}catch{}}function sm(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var mi=typeof Object.is=="function"?Object.is:sm,Or=null,Us=!1,Fi=!1;function rh(f){Or===null?Or=[f]:Or.push(f)}function ih(f){Us=!0,rh(f)}function Kr(){if(!Fi&&Or!==null){Fi=!0;var f=0,h=Nt;try{var y=Or;for(Nt=1;f<y.length;f++){var b=y[f];do b=b(!0);while(b!==null)}Or=null,Us=!1}catch(E){throw Or!==null&&(Or=Or.slice(f+1)),io(il,Kr),E}finally{Nt=h,Fi=!1}}return null}var ol=a.ReactCurrentBatchConfig;function al(f,h){if(mi(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var y=Object.keys(f),b=Object.keys(h);if(y.length!==b.length)return!1;for(b=0;b<y.length;b++){var E=y[b];if(!rr.call(h,E)||!mi(f[E],h[E]))return!1}return!0}function ll(f){switch(f.tag){case 5:return gt(f.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 2:case 15:return f=Gt(f.type,!1),f;case 11:return f=Gt(f.type.render,!1),f;case 1:return f=Gt(f.type,!0),f;default:return""}}function Ur(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var y in f)h[y]===void 0&&(h[y]=f[y]);return h}return h}var ir=St(null),Iu=null,as=null,Yo=null;function Ou(){Yo=as=Iu=null}function om(f,h,y){We?(wt(ir,h._currentValue),h._currentValue=y):(wt(ir,h._currentValue2),h._currentValue2=y)}function sr(f){var h=ir.current;zt(ir),We?f._currentValue=h:f._currentValue2=h}function Nr(f,h,y){for(;f!==null;){var b=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),f===y)break;f=f.return}}function In(f,h){Iu=f,Yo=as=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(xi=!0),f.firstContext=null)}function On(f){var h=We?f._currentValue:f._currentValue2;if(Yo!==f)if(f={context:f,memoizedValue:h,next:null},as===null){if(Iu===null)throw Error(o(308));as=f,Iu.dependencies={lanes:0,firstContext:f}}else as=as.next=f;return h}var gi=null,qo=!1;function Hy(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tE(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function so(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function Ko(f,h){var y=f.updateQueue;y!==null&&(y=y.shared,Vn!==null&&f.mode&1&&!(Ut&2)?(f=y.interleaved,f===null?(h.next=h,gi===null?gi=[y]:gi.push(y)):(h.next=f.next,f.next=h),y.interleaved=h):(f=y.pending,f===null?h.next=h:(h.next=f.next,f.next=h),y.pending=h))}function am(f,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var b=h.lanes;b&=f.pendingLanes,y|=b,h.lanes=y,Os(f,y)}}function nE(f,h){var y=f.updateQueue,b=f.alternate;if(b!==null&&(b=b.updateQueue,y===b)){var E=null,D=null;if(y=y.firstBaseUpdate,y!==null){do{var K={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};D===null?E=D=K:D=D.next=K,y=y.next}while(y!==null);D===null?E=D=h:D=D.next=h}else E=D=h;y={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:D,shared:b.shared,effects:b.effects},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=h:f.next=h,y.lastBaseUpdate=h}function lm(f,h,y,b){var E=f.updateQueue;qo=!1;var D=E.firstBaseUpdate,K=E.lastBaseUpdate,ae=E.shared.pending;if(ae!==null){E.shared.pending=null;var Ce=ae,Ye=Ce.next;Ce.next=null,K===null?D=Ye:K.next=Ye,K=Ce;var st=f.alternate;st!==null&&(st=st.updateQueue,ae=st.lastBaseUpdate,ae!==K&&(ae===null?st.firstBaseUpdate=Ye:ae.next=Ye,st.lastBaseUpdate=Ce))}if(D!==null){var Tt=E.baseState;K=0,st=Ye=Ce=null,ae=D;do{var vt=ae.lane,en=ae.eventTime;if((b&vt)===vt){st!==null&&(st=st.next={eventTime:en,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var ft=f,br=ae;switch(vt=h,en=y,br.tag){case 1:if(ft=br.payload,typeof ft=="function"){Tt=ft.call(en,Tt,vt);break e}Tt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=br.payload,vt=typeof ft=="function"?ft.call(en,Tt,vt):ft,vt==null)break e;Tt=s({},Tt,vt);break e;case 2:qo=!0}}ae.callback!==null&&ae.lane!==0&&(f.flags|=64,vt=E.effects,vt===null?E.effects=[ae]:vt.push(ae))}else en={eventTime:en,lane:vt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},st===null?(Ye=st=en,Ce=Tt):st=st.next=en,K|=vt;if(ae=ae.next,ae===null){if(ae=E.shared.pending,ae===null)break;vt=ae,ae=vt.next,vt.next=null,E.lastBaseUpdate=vt,E.shared.pending=null}}while(1);if(st===null&&(Ce=Tt),E.baseState=Ce,E.firstBaseUpdate=Ye,E.lastBaseUpdate=st,h=E.shared.interleaved,h!==null){E=h;do K|=E.lane,E=E.next;while(E!==h)}else D===null&&(E.shared.lanes=0);Gu|=K,f.lanes=K,f.memoizedState=Tt}}function rE(f,h,y){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var b=f[h],E=b.callback;if(E!==null){if(b.callback=null,b=y,typeof E!="function")throw Error(o(191,E));E.call(b)}}}var iE=new r.Component().refs;function Gy(f,h,y,b){h=f.memoizedState,y=y(b,h),y=y==null?h:s({},h,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var um={isMounted:function(f){return(f=f._reactInternals)?C(f)===f:!1},enqueueSetState:function(f,h,y){f=f._reactInternals;var b=Fr(),E=Qo(f),D=so(b,E);D.payload=h,y!=null&&(D.callback=y),Ko(f,D),h=Gi(f,E,b),h!==null&&am(h,f,E)},enqueueReplaceState:function(f,h,y){f=f._reactInternals;var b=Fr(),E=Qo(f),D=so(b,E);D.tag=1,D.payload=h,y!=null&&(D.callback=y),Ko(f,D),h=Gi(f,E,b),h!==null&&am(h,f,E)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var y=Fr(),b=Qo(f),E=so(y,b);E.tag=2,h!=null&&(E.callback=h),Ko(f,E),h=Gi(f,b,y),h!==null&&am(h,f,b)}};function sE(f,h,y,b,E,D,K){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(b,D,K):h.prototype&&h.prototype.isPureReactComponent?!al(y,b)||!al(E,D):!0}function oE(f,h,y){var b=!1,E=Dn,D=h.contextType;return typeof D=="object"&&D!==null?D=On(D):(E=nn(h)?qr:An.current,b=h.contextTypes,D=(b=b!=null)?Qt(f,E):Dn),h=new h(y,D),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=um,f.stateNode=h,h._reactInternals=f,b&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=E,f.__reactInternalMemoizedMaskedChildContext=D),h}function aE(f,h,y,b){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,b),h.state!==f&&um.enqueueReplaceState(h,h.state,null)}function Wy(f,h,y,b){var E=f.stateNode;E.props=y,E.state=f.memoizedState,E.refs=iE,Hy(f);var D=h.contextType;typeof D=="object"&&D!==null?E.context=On(D):(D=nn(h)?qr:An.current,E.context=Qt(f,D)),E.state=f.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(Gy(f,h,D,y),E.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(h=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),h!==E.state&&um.enqueueReplaceState(E,E.state,null),lm(f,y,E,b),E.state=f.memoizedState),typeof E.componentDidMount=="function"&&(f.flags|=4194308)}var Uu=[],Nu=0,cm=null,fm=0,Bi=[],zi=0,ul=null,oo=1,ao="";function cl(f,h){Uu[Nu++]=fm,Uu[Nu++]=cm,cm=f,fm=h}function lE(f,h,y){Bi[zi++]=oo,Bi[zi++]=ao,Bi[zi++]=ul,ul=f;var b=oo;f=ao;var E=32-di(b)-1;b&=~(1<<E),y+=1;var D=32-di(h)+E;if(30<D){var K=E-E%5;D=(b&(1<<K)-1).toString(32),b>>=K,E-=K,oo=1<<32-di(h)+E|y<<E|b,ao=D+f}else oo=1<<D|y<<E|b,ao=f}function jy(f){f.return!==null&&(cl(f,1),lE(f,1,0))}function $y(f){for(;f===cm;)cm=Uu[--Nu],Uu[Nu]=null,fm=Uu[--Nu],Uu[Nu]=null;for(;f===ul;)ul=Bi[--zi],Bi[zi]=null,ao=Bi[--zi],Bi[zi]=null,oo=Bi[--zi],Bi[zi]=null}var vi=null,yi=null,hn=!1,sh=!1,ls=null;function uE(f,h){var y=Wi(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=f,h=f.deletions,h===null?(f.deletions=[y],f.flags|=16):h.push(y)}function cE(f,h){switch(f.tag){case 5:return h=Ot(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,vi=f,yi=Yr(h),!0):!1;case 6:return h=cn(h,f.pendingProps),h!==null?(f.stateNode=h,vi=f,yi=null,!0):!1;case 13:if(h=vr(h),h!==null){var y=ul!==null?{id:oo,overflow:ao}:null;return f.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=Wi(18,null,null,0),y.stateNode=h,y.return=f,f.child=y,vi=f,yi=null,!0}return!1;default:return!1}}function Xy(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Yy(f){if(hn){var h=yi;if(h){var y=h;if(!cE(f,h)){if(Xy(f))throw Error(o(418));h=nr(y);var b=vi;h&&cE(f,h)?uE(b,y):(f.flags=f.flags&-4097|2,hn=!1,vi=f)}}else{if(Xy(f))throw Error(o(418));f.flags=f.flags&-4097|2,hn=!1,vi=f}}}function fE(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;vi=f}function oh(f){if(!be||f!==vi)return!1;if(!hn)return fE(f),hn=!0,!1;if(f.tag!==3&&(f.tag!==5||mt(f.type)&&!te(f.type,f.memoizedProps))){var h=yi;if(h){if(Xy(f)){for(f=yi;f;)f=nr(f);throw Error(o(418))}for(;h;)uE(f,h),h=nr(h)}}if(fE(f),f.tag===13){if(!be)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));yi=Pe(f)}else yi=vi?nr(f.stateNode):null;return!0}function ku(){be&&(yi=vi=null,sh=hn=!1)}function qy(f){ls===null?ls=[f]:ls.push(f)}function ah(f,h,y){if(f=y.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var b=y.stateNode}if(!b)throw Error(o(147,f));var E=b,D=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===D?h.ref:(h=function(K){var ae=E.refs;ae===iE&&(ae=E.refs={}),K===null?delete ae[D]:ae[D]=K},h._stringRef=D,h)}if(typeof f!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,f))}return f}function hm(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function hE(f){var h=f._init;return h(f._payload)}function dE(f){function h(xe,ce){if(f){var Ee=xe.deletions;Ee===null?(xe.deletions=[ce],xe.flags|=16):Ee.push(ce)}}function y(xe,ce){if(!f)return null;for(;ce!==null;)h(xe,ce),ce=ce.sibling;return null}function b(xe,ce){for(xe=new Map;ce!==null;)ce.key!==null?xe.set(ce.key,ce):xe.set(ce.index,ce),ce=ce.sibling;return xe}function E(xe,ce){return xe=ta(xe,ce),xe.index=0,xe.sibling=null,xe}function D(xe,ce,Ee){return xe.index=Ee,f?(Ee=xe.alternate,Ee!==null?(Ee=Ee.index,Ee<ce?(xe.flags|=2,ce):Ee):(xe.flags|=2,ce)):(xe.flags|=1048576,ce)}function K(xe){return f&&xe.alternate===null&&(xe.flags|=2),xe}function ae(xe,ce,Ee,nt){return ce===null||ce.tag!==6?(ce=D1(Ee,xe.mode,nt),ce.return=xe,ce):(ce=E(ce,Ee),ce.return=xe,ce)}function Ce(xe,ce,Ee,nt){var ut=Ee.type;return ut===c?st(xe,ce,Ee.props.children,nt,Ee.key):ce!==null&&(ce.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&hE(ut)===ce.type)?(nt=E(ce,Ee.props),nt.ref=ah(xe,ce,Ee),nt.return=xe,nt):(nt=Gm(Ee.type,Ee.key,Ee.props,null,xe.mode,nt),nt.ref=ah(xe,ce,Ee),nt.return=xe,nt)}function Ye(xe,ce,Ee,nt){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==Ee.containerInfo||ce.stateNode.implementation!==Ee.implementation?(ce=I1(Ee,xe.mode,nt),ce.return=xe,ce):(ce=E(ce,Ee.children||[]),ce.return=xe,ce)}function st(xe,ce,Ee,nt,ut){return ce===null||ce.tag!==7?(ce=vl(Ee,xe.mode,nt,ut),ce.return=xe,ce):(ce=E(ce,Ee),ce.return=xe,ce)}function Tt(xe,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=D1(""+ce,xe.mode,Ee),ce.return=xe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return Ee=Gm(ce.type,ce.key,ce.props,null,xe.mode,Ee),Ee.ref=ah(xe,null,ce),Ee.return=xe,Ee;case u:return ce=I1(ce,xe.mode,Ee),ce.return=xe,ce;case w:var nt=ce._init;return Tt(xe,nt(ce._payload),Ee)}if(q(ce)||A(ce))return ce=vl(ce,xe.mode,Ee,null),ce.return=xe,ce;hm(xe,ce)}return null}function vt(xe,ce,Ee,nt){var ut=ce!==null?ce.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ut!==null?null:ae(xe,ce,""+Ee,nt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:return Ee.key===ut?Ce(xe,ce,Ee,nt):null;case u:return Ee.key===ut?Ye(xe,ce,Ee,nt):null;case w:return ut=Ee._init,vt(xe,ce,ut(Ee._payload),nt)}if(q(Ee)||A(Ee))return ut!==null?null:st(xe,ce,Ee,nt,null);hm(xe,Ee)}return null}function en(xe,ce,Ee,nt,ut){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return xe=xe.get(Ee)||null,ae(ce,xe,""+nt,ut);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case l:return xe=xe.get(nt.key===null?Ee:nt.key)||null,Ce(ce,xe,nt,ut);case u:return xe=xe.get(nt.key===null?Ee:nt.key)||null,Ye(ce,xe,nt,ut);case w:var Lt=nt._init;return en(xe,ce,Ee,Lt(nt._payload),ut)}if(q(nt)||A(nt))return xe=xe.get(Ee)||null,st(ce,xe,nt,ut,null);hm(ce,nt)}return null}function ft(xe,ce,Ee,nt){for(var ut=null,Lt=null,At=ce,Wt=ce=0,ar=null;At!==null&&Wt<Ee.length;Wt++){At.index>Wt?(ar=At,At=null):ar=At.sibling;var jt=vt(xe,At,Ee[Wt],nt);if(jt===null){At===null&&(At=ar);break}f&&At&&jt.alternate===null&&h(xe,At),ce=D(jt,ce,Wt),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt,At=ar}if(Wt===Ee.length)return y(xe,At),hn&&cl(xe,Wt),ut;if(At===null){for(;Wt<Ee.length;Wt++)At=Tt(xe,Ee[Wt],nt),At!==null&&(ce=D(At,ce,Wt),Lt===null?ut=At:Lt.sibling=At,Lt=At);return hn&&cl(xe,Wt),ut}for(At=b(xe,At);Wt<Ee.length;Wt++)ar=en(At,xe,Wt,Ee[Wt],nt),ar!==null&&(f&&ar.alternate!==null&&At.delete(ar.key===null?Wt:ar.key),ce=D(ar,ce,Wt),Lt===null?ut=ar:Lt.sibling=ar,Lt=ar);return f&&At.forEach(function(na){return h(xe,na)}),hn&&cl(xe,Wt),ut}function br(xe,ce,Ee,nt){var ut=A(Ee);if(typeof ut!="function")throw Error(o(150));if(Ee=ut.call(Ee),Ee==null)throw Error(o(151));for(var Lt=ut=null,At=ce,Wt=ce=0,ar=null,jt=Ee.next();At!==null&&!jt.done;Wt++,jt=Ee.next()){At.index>Wt?(ar=At,At=null):ar=At.sibling;var na=vt(xe,At,jt.value,nt);if(na===null){At===null&&(At=ar);break}f&&At&&na.alternate===null&&h(xe,At),ce=D(na,ce,Wt),Lt===null?ut=na:Lt.sibling=na,Lt=na,At=ar}if(jt.done)return y(xe,At),hn&&cl(xe,Wt),ut;if(At===null){for(;!jt.done;Wt++,jt=Ee.next())jt=Tt(xe,jt.value,nt),jt!==null&&(ce=D(jt,ce,Wt),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt);return hn&&cl(xe,Wt),ut}for(At=b(xe,At);!jt.done;Wt++,jt=Ee.next())jt=en(At,xe,Wt,jt.value,nt),jt!==null&&(f&&jt.alternate!==null&&At.delete(jt.key===null?Wt:jt.key),ce=D(jt,ce,Wt),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt);return f&&At.forEach(function(_F){return h(xe,_F)}),hn&&cl(xe,Wt),ut}function ji(xe,ce,Ee,nt){if(typeof Ee=="object"&&Ee!==null&&Ee.type===c&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:e:{for(var ut=Ee.key,Lt=ce;Lt!==null;){if(Lt.key===ut){if(ut=Ee.type,ut===c){if(Lt.tag===7){y(xe,Lt.sibling),ce=E(Lt,Ee.props.children),ce.return=xe,xe=ce;break e}}else if(Lt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&hE(ut)===Lt.type){y(xe,Lt.sibling),ce=E(Lt,Ee.props),ce.ref=ah(xe,Lt,Ee),ce.return=xe,xe=ce;break e}y(xe,Lt);break}else h(xe,Lt);Lt=Lt.sibling}Ee.type===c?(ce=vl(Ee.props.children,xe.mode,nt,Ee.key),ce.return=xe,xe=ce):(nt=Gm(Ee.type,Ee.key,Ee.props,null,xe.mode,nt),nt.ref=ah(xe,ce,Ee),nt.return=xe,xe=nt)}return K(xe);case u:e:{for(Lt=Ee.key;ce!==null;){if(ce.key===Lt)if(ce.tag===4&&ce.stateNode.containerInfo===Ee.containerInfo&&ce.stateNode.implementation===Ee.implementation){y(xe,ce.sibling),ce=E(ce,Ee.children||[]),ce.return=xe,xe=ce;break e}else{y(xe,ce);break}else h(xe,ce);ce=ce.sibling}ce=I1(Ee,xe.mode,nt),ce.return=xe,xe=ce}return K(xe);case w:return Lt=Ee._init,ji(xe,ce,Lt(Ee._payload),nt)}if(q(Ee))return ft(xe,ce,Ee,nt);if(A(Ee))return br(xe,ce,Ee,nt);hm(xe,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,ce!==null&&ce.tag===6?(y(xe,ce.sibling),ce=E(ce,Ee),ce.return=xe,xe=ce):(y(xe,ce),ce=D1(Ee,xe.mode,nt),ce.return=xe,xe=ce),K(xe)):y(xe,ce)}return ji}var Fu=dE(!0),pE=dE(!1),lh={},Vi=St(lh),uh=St(lh),Bu=St(lh);function Ns(f){if(f===lh)throw Error(o(174));return f}function Ky(f,h){wt(Bu,h),wt(uh,f),wt(Vi,lh),f=ne(h),zt(Vi),wt(Vi,f)}function zu(){zt(Vi),zt(uh),zt(Bu)}function mE(f){var h=Ns(Bu.current),y=Ns(Vi.current);h=U(y,f.type,h),y!==h&&(wt(uh,f),wt(Vi,h))}function Zy(f){uh.current===f&&(zt(Vi),zt(uh))}var vn=St(0);function dm(f){for(var h=f;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||fi(y)||tr(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Jy=[];function Qy(){for(var f=0;f<Jy.length;f++){var h=Jy[f];We?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Jy.length=0}var pm=a.ReactCurrentDispatcher,Hi=a.ReactCurrentBatchConfig,Vu=0,Cn=null,_r=null,or=null,mm=!1,ch=!1,fh=0,jk=0;function Sr(){throw Error(o(321))}function e1(f,h){if(h===null)return!1;for(var y=0;y<h.length&&y<f.length;y++)if(!mi(f[y],h[y]))return!1;return!0}function t1(f,h,y,b,E,D){if(Vu=D,Cn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,pm.current=f===null||f.memoizedState===null?qk:Kk,f=y(b,E),ch){D=0;do{if(ch=!1,fh=0,25<=D)throw Error(o(301));D+=1,or=_r=null,h.updateQueue=null,pm.current=Zk,f=y(b,E)}while(ch)}if(pm.current=_m,h=_r!==null&&_r.next!==null,Vu=0,or=_r=Cn=null,mm=!1,h)throw Error(o(300));return f}function n1(){var f=fh!==0;return fh=0,f}function lo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Cn.memoizedState=or=f:or=or.next=f,or}function ks(){if(_r===null){var f=Cn.alternate;f=f!==null?f.memoizedState:null}else f=_r.next;var h=or===null?Cn.memoizedState:or.next;if(h!==null)or=h,_r=f;else{if(f===null)throw Error(o(310));_r=f,f={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},or===null?Cn.memoizedState=or=f:or=or.next=f}return or}function fl(f,h){return typeof h=="function"?h(f):h}function gm(f){var h=ks(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=f;var b=_r,E=b.baseQueue,D=y.pending;if(D!==null){if(E!==null){var K=E.next;E.next=D.next,D.next=K}b.baseQueue=E=D,y.pending=null}if(E!==null){D=E.next,b=b.baseState;var ae=K=null,Ce=null,Ye=D;do{var st=Ye.lane;if((Vu&st)===st)Ce!==null&&(Ce=Ce.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),b=Ye.hasEagerState?Ye.eagerState:f(b,Ye.action);else{var Tt={lane:st,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};Ce===null?(ae=Ce=Tt,K=b):Ce=Ce.next=Tt,Cn.lanes|=st,Gu|=st}Ye=Ye.next}while(Ye!==null&&Ye!==D);Ce===null?K=b:Ce.next=ae,mi(b,h.memoizedState)||(xi=!0),h.memoizedState=b,h.baseState=K,h.baseQueue=Ce,y.lastRenderedState=b}if(f=y.interleaved,f!==null){E=f;do D=E.lane,Cn.lanes|=D,Gu|=D,E=E.next;while(E!==f)}else E===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function vm(f){var h=ks(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=f;var b=y.dispatch,E=y.pending,D=h.memoizedState;if(E!==null){y.pending=null;var K=E=E.next;do D=f(D,K.action),K=K.next;while(K!==E);mi(D,h.memoizedState)||(xi=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),y.lastRenderedState=D}return[D,b]}function gE(){}function vE(f,h){var y=Cn,b=ks(),E=h(),D=!mi(b.memoizedState,E);if(D&&(b.memoizedState=E,xi=!0),b=b.queue,dh(_E.bind(null,y,b,f),[f]),b.getSnapshot!==h||D||or!==null&&or.memoizedState.tag&1){if(y.flags|=2048,hh(9,xE.bind(null,y,b,E,h),void 0,null),Vn===null)throw Error(o(349));Vu&30||yE(y,h,E)}return E}function yE(f,h,y){f.flags|=16384,f={getSnapshot:h,value:y},h=Cn.updateQueue,h===null?(h={lastEffect:null,stores:null},Cn.updateQueue=h,h.stores=[f]):(y=h.stores,y===null?h.stores=[f]:y.push(f))}function xE(f,h,y,b){h.value=y,h.getSnapshot=b,SE(h)&&Gi(f,1,-1)}function _E(f,h,y){return y(function(){SE(h)&&Gi(f,1,-1)})}function SE(f){var h=f.getSnapshot;f=f.value;try{var y=h();return!mi(f,y)}catch{return!0}}function r1(f){var h=lo();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:f},h.queue=f,f=f.dispatch=Yk.bind(null,Cn,f),[h.memoizedState,f]}function hh(f,h,y,b){return f={tag:f,create:h,destroy:y,deps:b,next:null},h=Cn.updateQueue,h===null?(h={lastEffect:null,stores:null},Cn.updateQueue=h,h.lastEffect=f.next=f):(y=h.lastEffect,y===null?h.lastEffect=f.next=f:(b=y.next,y.next=f,f.next=b,h.lastEffect=f)),f}function wE(){return ks().memoizedState}function ym(f,h,y,b){var E=lo();Cn.flags|=f,E.memoizedState=hh(1|h,y,void 0,b===void 0?null:b)}function xm(f,h,y,b){var E=ks();b=b===void 0?null:b;var D=void 0;if(_r!==null){var K=_r.memoizedState;if(D=K.destroy,b!==null&&e1(b,K.deps)){E.memoizedState=hh(h,y,D,b);return}}Cn.flags|=f,E.memoizedState=hh(1|h,y,D,b)}function i1(f,h){return ym(8390656,8,f,h)}function dh(f,h){return xm(2048,8,f,h)}function bE(f,h){return xm(4,2,f,h)}function ME(f,h){return xm(4,4,f,h)}function EE(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function TE(f,h,y){return y=y!=null?y.concat([f]):null,xm(4,4,EE.bind(null,h,f),y)}function s1(){}function AE(f,h){var y=ks();h=h===void 0?null:h;var b=y.memoizedState;return b!==null&&h!==null&&e1(h,b[1])?b[0]:(y.memoizedState=[f,h],f)}function CE(f,h){var y=ks();h=h===void 0?null:h;var b=y.memoizedState;return b!==null&&h!==null&&e1(h,b[1])?b[0]:(f=f(),y.memoizedState=[f,h],f)}function $k(f,h){var y=Nt;Nt=y!==0&&4>y?y:4,f(!0);var b=Hi.transition;Hi.transition={};try{f(!1),h()}finally{Nt=y,Hi.transition=b}}function PE(){return ks().memoizedState}function Xk(f,h,y){var b=Qo(f);y={lane:b,action:y,hasEagerState:!1,eagerState:null,next:null},RE(f)?LE(h,y):(DE(f,h,y),y=Fr(),f=Gi(f,b,y),f!==null&&IE(f,h,b))}function Yk(f,h,y){var b=Qo(f),E={lane:b,action:y,hasEagerState:!1,eagerState:null,next:null};if(RE(f))LE(h,E);else{DE(f,h,E);var D=f.alternate;if(f.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var K=h.lastRenderedState,ae=D(K,y);if(E.hasEagerState=!0,E.eagerState=ae,mi(ae,K))return}catch{}finally{}y=Fr(),f=Gi(f,b,y),f!==null&&IE(f,h,b)}}function RE(f){var h=f.alternate;return f===Cn||h!==null&&h===Cn}function LE(f,h){ch=mm=!0;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}function DE(f,h,y){Vn!==null&&f.mode&1&&!(Ut&2)?(f=h.interleaved,f===null?(y.next=y,gi===null?gi=[h]:gi.push(h)):(y.next=f.next,f.next=y),h.interleaved=y):(f=h.pending,f===null?y.next=y:(y.next=f.next,f.next=y),h.pending=y)}function IE(f,h,y){if(y&4194240){var b=h.lanes;b&=f.pendingLanes,y|=b,h.lanes=y,Os(f,y)}}var _m={readContext:On,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},qk={readContext:On,useCallback:function(f,h){return lo().memoizedState=[f,h===void 0?null:h],f},useContext:On,useEffect:i1,useImperativeHandle:function(f,h,y){return y=y!=null?y.concat([f]):null,ym(4194308,4,EE.bind(null,h,f),y)},useLayoutEffect:function(f,h){return ym(4194308,4,f,h)},useInsertionEffect:function(f,h){return ym(4,2,f,h)},useMemo:function(f,h){var y=lo();return h=h===void 0?null:h,f=f(),y.memoizedState=[f,h],f},useReducer:function(f,h,y){var b=lo();return h=y!==void 0?y(h):h,b.memoizedState=b.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},b.queue=f,f=f.dispatch=Xk.bind(null,Cn,f),[b.memoizedState,f]},useRef:function(f){var h=lo();return f={current:f},h.memoizedState=f},useState:r1,useDebugValue:s1,useDeferredValue:function(f){var h=r1(f),y=h[0],b=h[1];return i1(function(){var E=Hi.transition;Hi.transition={};try{b(f)}finally{Hi.transition=E}},[f]),y},useTransition:function(){var f=r1(!1),h=f[0];return f=$k.bind(null,f[1]),lo().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,y){var b=Cn,E=lo();if(hn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=h(),Vn===null)throw Error(o(349));Vu&30||yE(b,h,y)}E.memoizedState=y;var D={value:y,getSnapshot:h};return E.queue=D,i1(_E.bind(null,b,D,f),[f]),b.flags|=2048,hh(9,xE.bind(null,b,D,y,h),void 0,null),y},useId:function(){var f=lo(),h=Vn.identifierPrefix;if(hn){var y=ao,b=oo;y=(b&~(1<<32-di(b)-1)).toString(32)+y,h=":"+h+"R"+y,y=fh++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=jk++,h=":"+h+"r"+y.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},Kk={readContext:On,useCallback:AE,useContext:On,useEffect:dh,useImperativeHandle:TE,useInsertionEffect:bE,useLayoutEffect:ME,useMemo:CE,useReducer:gm,useRef:wE,useState:function(){return gm(fl)},useDebugValue:s1,useDeferredValue:function(f){var h=gm(fl),y=h[0],b=h[1];return dh(function(){var E=Hi.transition;Hi.transition={};try{b(f)}finally{Hi.transition=E}},[f]),y},useTransition:function(){var f=gm(fl)[0],h=ks().memoizedState;return[f,h]},useMutableSource:gE,useSyncExternalStore:vE,useId:PE,unstable_isNewReconciler:!1},Zk={readContext:On,useCallback:AE,useContext:On,useEffect:dh,useImperativeHandle:TE,useInsertionEffect:bE,useLayoutEffect:ME,useMemo:CE,useReducer:vm,useRef:wE,useState:function(){return vm(fl)},useDebugValue:s1,useDeferredValue:function(f){var h=vm(fl),y=h[0],b=h[1];return dh(function(){var E=Hi.transition;Hi.transition={};try{b(f)}finally{Hi.transition=E}},[f]),y},useTransition:function(){var f=vm(fl)[0],h=ks().memoizedState;return[f,h]},useMutableSource:gE,useSyncExternalStore:vE,useId:PE,unstable_isNewReconciler:!1};function o1(f,h){try{var y="",b=h;do y+=ll(b),b=b.return;while(b);var E=y}catch(D){E=`
Error generating stack: `+D.message+`
`+D.stack}return{value:f,source:h,stack:E}}function a1(f,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var Jk=typeof WeakMap=="function"?WeakMap:Map;function OE(f,h,y){y=so(-1,y),y.tag=3,y.payload={element:null};var b=h.value;return y.callback=function(){Nm||(Nm=!0,E1=b),a1(f,h)},y}function UE(f,h,y){y=so(-1,y),y.tag=3;var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var E=h.value;y.payload=function(){return b(E)},y.callback=function(){a1(f,h)}}var D=f.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(y.callback=function(){a1(f,h),typeof b!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})}),y}function NE(f,h,y){var b=f.pingCache;if(b===null){b=f.pingCache=new Jk;var E=new Set;b.set(h,E)}else E=b.get(h),E===void 0&&(E=new Set,b.set(h,E));E.has(y)||(E.add(y),f=hF.bind(null,f,h,y),h.then(f,f))}function kE(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function FE(f,h,y,b,E){return f.mode&1?(f.flags|=65536,f.lanes=E,f):(f===h?f.flags|=65536:(f.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=so(-1,1),h.tag=2,Ko(y,h))),y.lanes|=1),f)}function Fs(f){f.flags|=4}function BE(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var ph,mh,Sm,wm;if(Se)ph=function(f,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)I(f,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},mh=function(){},Sm=function(f,h,y,b,E){if(f=f.memoizedProps,f!==b){var D=h.stateNode,K=Ns(Vi.current);y=Z(D,y,f,b,E,K),(h.updateQueue=y)&&Fs(h)}},wm=function(f,h,y,b){y!==b&&Fs(h)};else if(H){ph=function(f,h,y,b){for(var E=h.child;E!==null;){if(E.tag===5){var D=E.stateNode;y&&b&&(D=dt(D,E.type,E.memoizedProps,E)),I(f,D)}else if(E.tag===6)D=E.stateNode,y&&b&&(D=Ft(D,E.memoizedProps,E)),I(f,D);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)D=E.child,D!==null&&(D.return=E),ph(f,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var zE=function(f,h,y,b){for(var E=h.child;E!==null;){if(E.tag===5){var D=E.stateNode;y&&b&&(D=dt(D,E.type,E.memoizedProps,E)),ht(f,D)}else if(E.tag===6)D=E.stateNode,y&&b&&(D=Ft(D,E.memoizedProps,E)),ht(f,D);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)D=E.child,D!==null&&(D.return=E),zE(f,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};mh=function(f,h){var y=h.stateNode;if(!BE(f,h)){f=y.containerInfo;var b=Qe(f);zE(b,h,!1,!1),y.pendingChildren=b,Fs(h),ct(f,b)}},Sm=function(f,h,y,b,E){var D=f.stateNode,K=f.memoizedProps;if((f=BE(f,h))&&K===b)h.stateNode=D;else{var ae=h.stateNode,Ce=Ns(Vi.current),Ye=null;K!==b&&(Ye=Z(ae,y,K,b,E,Ce)),f&&Ye===null?h.stateNode=D:(D=ze(D,Ye,y,K,b,h,f,ae),J(D,y,b,E,Ce)&&Fs(h),h.stateNode=D,f?Fs(h):ph(D,h,!1,!1))}},wm=function(f,h,y,b){y!==b?(f=Ns(Bu.current),y=Ns(Vi.current),h.stateNode=ie(b,f,y,h),Fs(h)):h.stateNode=f.stateNode}}else mh=function(){},Sm=function(){},wm=function(){};function gh(f,h){if(!hn)switch(f.tailMode){case"hidden":h=f.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var b=null;y!==null;)y.alternate!==null&&(b=y),y=y.sibling;b===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:b.sibling=null}}function wr(f){var h=f.alternate!==null&&f.alternate.child===f.child,y=0,b=0;if(h)for(var E=f.child;E!==null;)y|=E.lanes|E.childLanes,b|=E.subtreeFlags&14680064,b|=E.flags&14680064,E.return=f,E=E.sibling;else for(E=f.child;E!==null;)y|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=f,E=E.sibling;return f.subtreeFlags|=b,f.childLanes=y,h}function Qk(f,h,y){var b=h.pendingProps;switch($y(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(h),null;case 1:return nn(h.type)&&Dr(),wr(h),null;case 3:return b=h.stateNode,zu(),zt(fn),zt(An),Qy(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(f===null||f.child===null)&&(oh(h)?Fs(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ls!==null&&(C1(ls),ls=null))),mh(f,h),wr(h),null;case 5:Zy(h),y=Ns(Bu.current);var E=h.type;if(f!==null&&h.stateNode!=null)Sm(f,h,E,b,y),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!b){if(h.stateNode===null)throw Error(o(166));return wr(h),null}if(f=Ns(Vi.current),oh(h)){if(!be)throw Error(o(175));f=Pu(h.stateNode,h.type,h.memoizedProps,y,f,h,!sh),h.updateQueue=f,f!==null&&Fs(h)}else{var D=N(E,b,y,f,h);ph(D,h,!1,!1),h.stateNode=D,J(D,E,b,y,f)&&Fs(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return wr(h),null;case 6:if(f&&h.stateNode!=null)wm(f,h,f.memoizedProps,b);else{if(typeof b!="string"&&h.stateNode===null)throw Error(o(166));if(f=Ns(Bu.current),y=Ns(Vi.current),oh(h)){if(!be)throw Error(o(176));if(f=h.stateNode,b=h.memoizedProps,(y=$(f,b,h,!sh))&&(E=vi,E!==null))switch(D=(E.mode&1)!==0,E.tag){case 3:xt(E.stateNode.containerInfo,f,b,D);break;case 5:Et(E.type,E.memoizedProps,E.stateNode,f,b,D)}y&&Fs(h)}else h.stateNode=ie(b,f,y,h)}return wr(h),null;case 13:if(zt(vn),b=h.memoizedState,hn&&yi!==null&&h.mode&1&&!(h.flags&128)){for(f=yi;f;)f=nr(f);return ku(),h.flags|=98560,h}if(b!==null&&b.dehydrated!==null){if(b=oh(h),f===null){if(!b)throw Error(o(318));if(!be)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));ve(f,h)}else ku(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return wr(h),null}return ls!==null&&(C1(ls),ls=null),h.flags&128?(h.lanes=y,h):(b=b!==null,y=!1,f===null?oh(h):y=f.memoizedState!==null,b&&!y&&(h.child.flags|=8192,h.mode&1&&(f===null||vn.current&1?qn===0&&(qn=3):R1())),h.updateQueue!==null&&(h.flags|=4),wr(h),null);case 4:return zu(),mh(f,h),f===null&&Te(h.stateNode.containerInfo),wr(h),null;case 10:return sr(h.type._context),wr(h),null;case 17:return nn(h.type)&&Dr(),wr(h),null;case 19:if(zt(vn),E=h.memoizedState,E===null)return wr(h),null;if(b=(h.flags&128)!==0,D=E.rendering,D===null)if(b)gh(E,!1);else{if(qn!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(D=dm(f),D!==null){for(h.flags|=128,gh(E,!1),f=D.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=y,b=h.child;b!==null;)y=b,E=f,y.flags&=14680066,D=y.alternate,D===null?(y.childLanes=0,y.lanes=E,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=D.childLanes,y.lanes=D.lanes,y.child=D.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=D.memoizedProps,y.memoizedState=D.memoizedState,y.updateQueue=D.updateQueue,y.type=D.type,E=D.dependencies,y.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),b=b.sibling;return wt(vn,vn.current&1|2),h.child}f=f.sibling}E.tail!==null&&gn()>M1&&(h.flags|=128,b=!0,gh(E,!1),h.lanes=4194304)}else{if(!b)if(f=dm(D),f!==null){if(h.flags|=128,b=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),gh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!hn)return wr(h),null}else 2*gn()-E.renderingStartTime>M1&&y!==1073741824&&(h.flags|=128,b=!0,gh(E,!1),h.lanes=4194304);E.isBackwards?(D.sibling=h.child,h.child=D):(f=E.last,f!==null?f.sibling=D:h.child=D,E.last=D)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=gn(),h.sibling=null,f=vn.current,wt(vn,b?f&1|2:f&1),h):(wr(h),null);case 22:case 23:return P1(),b=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==b&&(h.flags|=8192),b&&h.mode&1?_i&1073741824&&(wr(h),Se&&h.subtreeFlags&6&&(h.flags|=8192)):wr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var eF=a.ReactCurrentOwner,xi=!1;function kr(f,h,y,b){h.child=f===null?pE(h,null,y,b):Fu(h,f.child,y,b)}function VE(f,h,y,b,E){y=y.render;var D=h.ref;return In(h,E),b=t1(f,h,y,b,D,E),y=n1(),f!==null&&!xi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~E,uo(f,h,E)):(hn&&y&&jy(h),h.flags|=1,kr(f,h,b,E),h.child)}function HE(f,h,y,b,E){if(f===null){var D=y.type;return typeof D=="function"&&!L1(D)&&D.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=D,GE(f,h,D,b,E)):(f=Gm(y.type,null,b,h,h.mode,E),f.ref=h.ref,f.return=h,h.child=f)}if(D=f.child,!(f.lanes&E)){var K=D.memoizedProps;if(y=y.compare,y=y!==null?y:al,y(K,b)&&f.ref===h.ref)return uo(f,h,E)}return h.flags|=1,f=ta(D,b),f.ref=h.ref,f.return=h,h.child=f}function GE(f,h,y,b,E){if(f!==null&&al(f.memoizedProps,b)&&f.ref===h.ref)if(xi=!1,(f.lanes&E)!==0)f.flags&131072&&(xi=!0);else return h.lanes=f.lanes,uo(f,h,E);return l1(f,h,y,b,E)}function WE(f,h,y){var b=h.pendingProps,E=b.children,D=f!==null?f.memoizedState:null;if(b.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},wt(Hu,_i),_i|=y;else if(y&1073741824)h.memoizedState={baseLanes:0,cachePool:null},b=D!==null?D.baseLanes:y,wt(Hu,_i),_i|=b;else return f=D!==null?D.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,wt(Hu,_i),_i|=f,null;else D!==null?(b=D.baseLanes|y,h.memoizedState=null):b=y,wt(Hu,_i),_i|=b;return kr(f,h,E,y),h.child}function jE(f,h){var y=h.ref;(f===null&&y!==null||f!==null&&f.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function l1(f,h,y,b,E){var D=nn(y)?qr:An.current;return D=Qt(h,D),In(h,E),y=t1(f,h,y,b,D,E),b=n1(),f!==null&&!xi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~E,uo(f,h,E)):(hn&&b&&jy(h),h.flags|=1,kr(f,h,y,E),h.child)}function $E(f,h,y,b,E){if(nn(y)){var D=!0;Ds(h)}else D=!1;if(In(h,E),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),oE(h,y,b),Wy(h,y,b,E),b=!0;else if(f===null){var K=h.stateNode,ae=h.memoizedProps;K.props=ae;var Ce=K.context,Ye=y.contextType;typeof Ye=="object"&&Ye!==null?Ye=On(Ye):(Ye=nn(y)?qr:An.current,Ye=Qt(h,Ye));var st=y.getDerivedStateFromProps,Tt=typeof st=="function"||typeof K.getSnapshotBeforeUpdate=="function";Tt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ae!==b||Ce!==Ye)&&aE(h,K,b,Ye),qo=!1;var vt=h.memoizedState;K.state=vt,lm(h,b,K,E),Ce=h.memoizedState,ae!==b||vt!==Ce||fn.current||qo?(typeof st=="function"&&(Gy(h,y,st,b),Ce=h.memoizedState),(ae=qo||sE(h,y,ae,b,vt,Ce,Ye))?(Tt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(h.flags|=4194308)):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=Ce),K.props=b,K.state=Ce,K.context=Ye,b=ae):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{K=h.stateNode,tE(f,h),ae=h.memoizedProps,Ye=h.type===h.elementType?ae:Ur(h.type,ae),K.props=Ye,Tt=h.pendingProps,vt=K.context,Ce=y.contextType,typeof Ce=="object"&&Ce!==null?Ce=On(Ce):(Ce=nn(y)?qr:An.current,Ce=Qt(h,Ce));var en=y.getDerivedStateFromProps;(st=typeof en=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ae!==Tt||vt!==Ce)&&aE(h,K,b,Ce),qo=!1,vt=h.memoizedState,K.state=vt,lm(h,b,K,E);var ft=h.memoizedState;ae!==Tt||vt!==ft||fn.current||qo?(typeof en=="function"&&(Gy(h,y,en,b),ft=h.memoizedState),(Ye=qo||sE(h,y,Ye,b,vt,ft,Ce)||!1)?(st||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(b,ft,Ce),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(b,ft,Ce)),typeof K.componentDidUpdate=="function"&&(h.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof K.componentDidUpdate!="function"||ae===f.memoizedProps&&vt===f.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ae===f.memoizedProps&&vt===f.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=ft),K.props=b,K.state=ft,K.context=Ce,b=Ye):(typeof K.componentDidUpdate!="function"||ae===f.memoizedProps&&vt===f.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ae===f.memoizedProps&&vt===f.memoizedState||(h.flags|=1024),b=!1)}return u1(f,h,y,b,D,E)}function u1(f,h,y,b,E,D){jE(f,h);var K=(h.flags&128)!==0;if(!b&&!K)return E&&xr(h,y,!1),uo(f,h,D);b=h.stateNode,eF.current=h;var ae=K&&typeof y.getDerivedStateFromError!="function"?null:b.render();return h.flags|=1,f!==null&&K?(h.child=Fu(h,f.child,null,D),h.child=Fu(h,null,ae,D)):kr(f,h,ae,D),h.memoizedState=b.state,E&&xr(h,y,!0),h.child}function XE(f){var h=f.stateNode;h.pendingContext?zn(f,h.pendingContext,h.pendingContext!==h.context):h.context&&zn(f,h.context,!1),Ky(f,h.containerInfo)}function YE(f,h,y,b,E){return ku(),qy(E),h.flags|=256,kr(f,h,y,b),h.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function Mm(f){return{baseLanes:f,cachePool:null}}function qE(f,h,y){var b=h.pendingProps,E=vn.current,D=!1,K=(h.flags&128)!==0,ae;if((ae=K)||(ae=f!==null&&f.memoizedState===null?!1:(E&2)!==0),ae?(D=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(E|=1),wt(vn,E&1),f===null)return Yy(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?tr(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(E=b.children,f=b.fallback,D?(b=h.mode,D=h.child,E={mode:"hidden",children:E},!(b&1)&&D!==null?(D.childLanes=0,D.pendingProps=E):D=Wm(E,b,0,null),f=vl(f,b,y,null),D.return=h,f.return=h,D.sibling=f,h.child=D,h.child.memoizedState=Mm(y),h.memoizedState=bm,f):c1(h,E));if(E=f.memoizedState,E!==null){if(ae=E.dehydrated,ae!==null){if(K)return h.flags&256?(h.flags&=-257,Em(f,h,y,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(D=b.fallback,E=h.mode,b=Wm({mode:"visible",children:b.children},E,0,null),D=vl(D,E,y,null),D.flags|=2,b.return=h,D.return=h,b.sibling=D,h.child=b,h.mode&1&&Fu(h,f.child,null,y),h.child.memoizedState=Mm(y),h.memoizedState=bm,D);if(!(h.mode&1))h=Em(f,h,y,null);else if(tr(ae))h=Em(f,h,y,Error(o(419)));else if(b=(y&f.childLanes)!==0,xi||b){if(b=Vn,b!==null){switch(y&-y){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}b=D&(b.suspendedLanes|y)?0:D,b!==0&&b!==E.retryLane&&(E.retryLane=b,Gi(f,b,-1))}R1(),h=Em(f,h,y,Error(o(421)))}else fi(ae)?(h.flags|=128,h.child=f.child,h=dF.bind(null,f),hi(ae,h),h=null):(y=E.treeContext,be&&(yi=os(ae),vi=h,hn=!0,ls=null,sh=!1,y!==null&&(Bi[zi++]=oo,Bi[zi++]=ao,Bi[zi++]=ul,oo=y.id,ao=y.overflow,ul=h)),h=c1(h,h.pendingProps.children),h.flags|=4096);return h}return D?(b=ZE(f,h,b.children,b.fallback,y),D=h.child,E=f.child.memoizedState,D.memoizedState=E===null?Mm(y):{baseLanes:E.baseLanes|y,cachePool:null},D.childLanes=f.childLanes&~y,h.memoizedState=bm,b):(y=KE(f,h,b.children,y),h.memoizedState=null,y)}return D?(b=ZE(f,h,b.children,b.fallback,y),D=h.child,E=f.child.memoizedState,D.memoizedState=E===null?Mm(y):{baseLanes:E.baseLanes|y,cachePool:null},D.childLanes=f.childLanes&~y,h.memoizedState=bm,b):(y=KE(f,h,b.children,y),h.memoizedState=null,y)}function c1(f,h){return h=Wm({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function KE(f,h,y,b){var E=f.child;return f=E.sibling,y=ta(E,{mode:"visible",children:y}),!(h.mode&1)&&(y.lanes=b),y.return=h,y.sibling=null,f!==null&&(b=h.deletions,b===null?(h.deletions=[f],h.flags|=16):b.push(f)),h.child=y}function ZE(f,h,y,b,E){var D=h.mode;f=f.child;var K=f.sibling,ae={mode:"hidden",children:y};return!(D&1)&&h.child!==f?(y=h.child,y.childLanes=0,y.pendingProps=ae,h.deletions=null):(y=ta(f,ae),y.subtreeFlags=f.subtreeFlags&14680064),K!==null?b=ta(K,b):(b=vl(b,D,E,null),b.flags|=2),b.return=h,y.return=h,y.sibling=b,h.child=y,b}function Em(f,h,y,b){return b!==null&&qy(b),Fu(h,f.child,null,y),f=c1(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function JE(f,h,y){f.lanes|=h;var b=f.alternate;b!==null&&(b.lanes|=h),Nr(f.return,h,y)}function f1(f,h,y,b,E){var D=f.memoizedState;D===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:y,tailMode:E}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=b,D.tail=y,D.tailMode=E)}function QE(f,h,y){var b=h.pendingProps,E=b.revealOrder,D=b.tail;if(kr(f,h,b.children,y),b=vn.current,b&2)b=b&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&JE(f,y,h);else if(f.tag===19)JE(f,y,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}b&=1}if(wt(vn,b),!(h.mode&1))h.memoizedState=null;else switch(E){case"forwards":for(y=h.child,E=null;y!==null;)f=y.alternate,f!==null&&dm(f)===null&&(E=y),y=y.sibling;y=E,y===null?(E=h.child,h.child=null):(E=y.sibling,y.sibling=null),f1(h,!1,E,y,D);break;case"backwards":for(y=null,E=h.child,h.child=null;E!==null;){if(f=E.alternate,f!==null&&dm(f)===null){h.child=E;break}f=E.sibling,E.sibling=y,y=E,E=f}f1(h,!0,y,null,D);break;case"together":f1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function uo(f,h,y){if(f!==null&&(h.dependencies=f.dependencies),Gu|=h.lanes,!(y&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,y=ta(f,f.pendingProps),h.child=y,y.return=h;f.sibling!==null;)f=f.sibling,y=y.sibling=ta(f,f.pendingProps),y.return=h;y.sibling=null}return h.child}function tF(f,h,y){switch(h.tag){case 3:XE(h),ku();break;case 5:mE(h);break;case 1:nn(h.type)&&Ds(h);break;case 4:Ky(h,h.stateNode.containerInfo);break;case 10:om(h,h.type._context,h.memoizedProps.value);break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(wt(vn,vn.current&1),h.flags|=128,null):y&h.child.childLanes?qE(f,h,y):(wt(vn,vn.current&1),f=uo(f,h,y),f!==null?f.sibling:null);wt(vn,vn.current&1);break;case 19:if(b=(y&h.childLanes)!==0,f.flags&128){if(b)return QE(f,h,y);h.flags|=128}var E=h.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),wt(vn,vn.current),b)break;return null;case 22:case 23:return h.lanes=0,WE(f,h,y)}return uo(f,h,y)}function nF(f,h){switch($y(h),h.tag){case 1:return nn(h.type)&&Dr(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return zu(),zt(fn),zt(An),Qy(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return Zy(h),null;case 13:if(zt(vn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));ku()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return zt(vn),null;case 4:return zu(),null;case 10:return sr(h.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var Tm=!1,hl=!1,rF=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Am(f,h){var y=f.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(b){Qr(f,h,b)}else y.current=null}function h1(f,h,y){try{y()}catch(b){Qr(f,h,b)}}var eT=!1;function iF(f,h){for(z(f.containerInfo),tt=h;tt!==null;)if(f=tt,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,tt=h;else for(;tt!==null;){f=tt;try{var y=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,E=y.memoizedState,D=f.stateNode,K=D.getSnapshotBeforeUpdate(f.elementType===f.type?b:Ur(f.type,b),E);D.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Se&&Ge(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ae){Qr(f,f.return,ae)}if(h=f.sibling,h!==null){h.return=f.return,tt=h;break}tt=f.return}return y=eT,eT=!1,y}function dl(f,h,y){var b=h.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&f)===f){var D=E.destroy;E.destroy=void 0,D!==void 0&&h1(h,y,D)}E=E.next}while(E!==b)}}function vh(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&f)===f){var b=y.create;y.destroy=b()}y=y.next}while(y!==h)}}function d1(f){var h=f.ref;if(h!==null){var y=f.stateNode;switch(f.tag){case 5:f=ee(y);break;default:f=y}typeof h=="function"?h(f):h.current=f}}function tT(f,h,y){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(sl,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var b=f=f.next;do{var E=b,D=E.destroy;E=E.tag,D!==void 0&&(E&2||E&4)&&h1(h,y,D),b=b.next}while(b!==f)}break;case 1:if(Am(h,y),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(K){Qr(h,y,K)}break;case 5:Am(h,y);break;case 4:Se?aT(f,h,y):H&&H&&(h=h.stateNode.containerInfo,y=Qe(h),lt(h,y))}}function nT(f,h,y){for(var b=h;;)if(tT(f,b,y),b.child===null||Se&&b.tag===4){if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function rT(f){var h=f.alternate;h!==null&&(f.alternate=null,rT(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Be(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function iT(f){return f.tag===5||f.tag===3||f.tag===4}function sT(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||iT(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function oT(f){if(Se){e:{for(var h=f.return;h!==null;){if(iT(h))break e;h=h.return}throw Error(o(160))}var y=h;switch(y.tag){case 5:h=y.stateNode,y.flags&32&&(we(h),y.flags&=-33),y=sT(f),m1(f,y,h);break;case 3:case 4:h=y.stateNode.containerInfo,y=sT(f),p1(f,y,h);break;default:throw Error(o(161))}}}function p1(f,h,y){var b=f.tag;if(b===5||b===6)f=f.stateNode,h?He(y,f,h):Fe(y,f);else if(b!==4&&(f=f.child,f!==null))for(p1(f,h,y),f=f.sibling;f!==null;)p1(f,h,y),f=f.sibling}function m1(f,h,y){var b=f.tag;if(b===5||b===6)f=f.stateNode,h?je(y,f,h):Ae(y,f);else if(b!==4&&(f=f.child,f!==null))for(m1(f,h,y),f=f.sibling;f!==null;)m1(f,h,y),f=f.sibling}function aT(f,h,y){for(var b=h,E=!1,D,K;;){if(!E){E=b.return;e:for(;;){if(E===null)throw Error(o(160));switch(D=E.stateNode,E.tag){case 5:K=!1;break e;case 3:D=D.containerInfo,K=!0;break e;case 4:D=D.containerInfo,K=!0;break e}E=E.return}E=!0}if(b.tag===5||b.tag===6)nT(f,b,y),K?Y(D,b.stateNode):De(D,b.stateNode);else if(b.tag===18)K?pt(D,b.stateNode):rt(D,b.stateNode);else if(b.tag===4){if(b.child!==null){D=b.stateNode.containerInfo,K=!0,b.child.return=b,b=b.child;continue}}else if(tT(f,b,y),b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return,b.tag===4&&(E=!1)}b.sibling.return=b.return,b=b.sibling}}function g1(f,h){if(Se){switch(h.tag){case 0:case 11:case 14:case 15:dl(3,h,h.return),vh(3,h),dl(5,h,h.return);return;case 1:return;case 5:var y=h.stateNode;if(y!=null){var b=h.memoizedProps;f=f!==null?f.memoizedProps:b;var E=h.type,D=h.updateQueue;h.updateQueue=null,D!==null&&qe(y,D,E,f,b,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));y=h.memoizedProps,ke(h.stateNode,f!==null?f.memoizedProps:y,y);return;case 3:be&&f!==null&&f.memoizedState.isDehydrated&&fe(h.stateNode.containerInfo);return;case 12:return;case 13:Cm(h);return;case 19:Cm(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:dl(3,h,h.return),vh(3,h),dl(5,h,h.return);return;case 12:return;case 13:Cm(h);return;case 19:Cm(h);return;case 3:be&&f!==null&&f.memoizedState.isDehydrated&&fe(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(H){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,lt(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Cm(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var y=f.stateNode;y===null&&(y=f.stateNode=new rF),h.forEach(function(b){var E=pF.bind(null,f,b);y.has(b)||(y.add(b),b.then(E,E))})}}function sF(f,h){for(tt=h;tt!==null;){h=tt;var y=h.deletions;if(y!==null)for(var b=0;b<y.length;b++){var E=y[b];try{var D=f;Se?aT(D,E,h):nT(D,E,h);var K=E.alternate;K!==null&&(K.return=null),E.return=null}catch(ut){Qr(E,h,ut)}}if(y=h.child,h.subtreeFlags&12854&&y!==null)y.return=h,tt=y;else for(;tt!==null;){h=tt;try{var ae=h.flags;if(ae&32&&Se&&we(h.stateNode),ae&512){var Ce=h.alternate;if(Ce!==null){var Ye=Ce.ref;Ye!==null&&(typeof Ye=="function"?Ye(null):Ye.current=null)}}if(ae&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var st=h.alternate;(st===null||st.memoizedState===null)&&(b1=gn())}break;case 22:var Tt=h.memoizedState!==null,vt=h.alternate,en=vt!==null&&vt.memoizedState!==null;if(y=h,Se){e:if(b=y,E=Tt,D=null,Se)for(var ft=b;;){if(ft.tag===5){if(D===null){D=ft;var br=ft.stateNode;E?Xe(br):Me(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(D===null){var ji=ft.stateNode;E?Q(ji):ue(ji,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===b)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===b)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===b)break e;D===ft&&(D=null),ft=ft.return}D===ft&&(D=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Tt&&!en&&y.mode&1){tt=y;for(var xe=y.child;xe!==null;){for(y=tt=xe;tt!==null;){b=tt;var ce=b.child;switch(b.tag){case 0:case 11:case 14:case 15:dl(4,b,b.return);break;case 1:Am(b,b.return);var Ee=b.stateNode;if(typeof Ee.componentWillUnmount=="function"){var nt=b.return;try{Ee.props=b.memoizedProps,Ee.state=b.memoizedState,Ee.componentWillUnmount()}catch(ut){Qr(b,nt,ut)}}break;case 5:Am(b,b.return);break;case 22:if(b.memoizedState!==null){cT(y);continue}}ce!==null?(ce.return=b,tt=ce):cT(y)}xe=xe.sibling}}}switch(ae&4102){case 2:oT(h),h.flags&=-3;break;case 6:oT(h),h.flags&=-3,g1(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,g1(h.alternate,h);break;case 4:g1(h.alternate,h)}}catch(ut){Qr(h,h.return,ut)}if(y=h.sibling,y!==null){y.return=h.return,tt=y;break}tt=h.return}}}function oF(f,h,y){tt=f,lT(f)}function lT(f,h,y){for(var b=(f.mode&1)!==0;tt!==null;){var E=tt,D=E.child;if(E.tag===22&&b){var K=E.memoizedState!==null||Tm;if(!K){var ae=E.alternate,Ce=ae!==null&&ae.memoizedState!==null||hl;ae=Tm;var Ye=hl;if(Tm=K,(hl=Ce)&&!Ye)for(tt=E;tt!==null;)K=tt,Ce=K.child,K.tag===22&&K.memoizedState!==null?fT(E):Ce!==null?(Ce.return=K,tt=Ce):fT(E);for(;D!==null;)tt=D,lT(D),D=D.sibling;tt=E,Tm=ae,hl=Ye}uT(f)}else E.subtreeFlags&8772&&D!==null?(D.return=E,tt=D):uT(f)}}function uT(f){for(;tt!==null;){var h=tt;if(h.flags&8772){var y=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:hl||vh(5,h);break;case 1:var b=h.stateNode;if(h.flags&4&&!hl)if(y===null)b.componentDidMount();else{var E=h.elementType===h.type?y.memoizedProps:Ur(h.type,y.memoizedProps);b.componentDidUpdate(E,y.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var D=h.updateQueue;D!==null&&rE(h,D,b);break;case 3:var K=h.updateQueue;if(K!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=ee(h.child.stateNode);break;case 1:y=h.child.stateNode}rE(h,K,y)}break;case 5:var ae=h.stateNode;y===null&&h.flags&4&&de(ae,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(be&&h.memoizedState===null){var Ce=h.alternate;if(Ce!==null){var Ye=Ce.memoizedState;if(Ye!==null){var st=Ye.dehydrated;st!==null&&Le(st)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}hl||h.flags&512&&d1(h)}catch(Tt){Qr(h,h.return,Tt)}}if(h===f){tt=null;break}if(y=h.sibling,y!==null){y.return=h.return,tt=y;break}tt=h.return}}function cT(f){for(;tt!==null;){var h=tt;if(h===f){tt=null;break}var y=h.sibling;if(y!==null){y.return=h.return,tt=y;break}tt=h.return}}function fT(f){for(;tt!==null;){var h=tt;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{vh(4,h)}catch(Ce){Qr(h,y,Ce)}break;case 1:var b=h.stateNode;if(typeof b.componentDidMount=="function"){var E=h.return;try{b.componentDidMount()}catch(Ce){Qr(h,E,Ce)}}var D=h.return;try{d1(h)}catch(Ce){Qr(h,D,Ce)}break;case 5:var K=h.return;try{d1(h)}catch(Ce){Qr(h,K,Ce)}}}catch(Ce){Qr(h,h.return,Ce)}if(h===f){tt=null;break}var ae=h.sibling;if(ae!==null){ae.return=h.return,tt=ae;break}tt=h.return}}var Pm=0,Rm=1,Lm=2,Dm=3,Im=4;if(typeof Symbol=="function"&&Symbol.for){var yh=Symbol.for;Pm=yh("selector.component"),Rm=yh("selector.has_pseudo_class"),Lm=yh("selector.role"),Dm=yh("selector.test_id"),Im=yh("selector.text")}function v1(f){var h=he(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=me(f),f===null)throw Error(o(362));return f.stateNode.current}function y1(f,h){switch(h.$$typeof){case Pm:if(f.type===h.value)return!0;break;case Rm:e:{h=h.value,f=[f,0];for(var y=0;y<f.length;){var b=f[y++],E=f[y++],D=h[E];if(b.tag!==5||!O(b)){for(;D!=null&&y1(b,D);)E++,D=h[E];if(E===h.length){h=!0;break e}else for(b=b.child;b!==null;)f.push(b,E),b=b.sibling}}h=!1}return h;case Lm:if(f.tag===5&&oe(f.stateNode,h.value))return!0;break;case Im:if((f.tag===5||f.tag===6)&&(f=V(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Dm:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function x1(f){switch(f.$$typeof){case Pm:return"<"+(R(f.value)||"Unknown")+">";case Rm:return":has("+(x1(f)||"")+")";case Lm:return'[role="'+f.value+'"]';case Im:return'"'+f.value+'"';case Dm:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function hT(f,h){var y=[];f=[f,0];for(var b=0;b<f.length;){var E=f[b++],D=f[b++],K=h[D];if(E.tag!==5||!O(E)){for(;K!=null&&y1(E,K);)D++,K=h[D];if(D===h.length)y.push(E);else for(E=E.child;E!==null;)f.push(E,D),E=E.sibling}}return y}function _1(f,h){if(!Ne)throw Error(o(363));f=v1(f),f=hT(f,h),h=[],f=Array.from(f);for(var y=0;y<f.length;){var b=f[y++];if(b.tag===5)O(b)||h.push(b.stateNode);else for(b=b.child;b!==null;)f.push(b),b=b.sibling}return h}var aF=Math.ceil,Om=a.ReactCurrentDispatcher,S1=a.ReactCurrentOwner,Un=a.ReactCurrentBatchConfig,Ut=0,Vn=null,Hn=null,fr=0,_i=0,Hu=St(0),qn=0,xh=null,Gu=0,Um=0,w1=0,_h=null,Zr=null,b1=0,M1=1/0;function Wu(){M1=gn()+500}var Nm=!1,E1=null,Zo=null,km=!1,Jo=null,Fm=0,Sh=0,T1=null,Bm=-1,zm=0;function Fr(){return Ut&6?gn():Bm!==-1?Bm:Bm=gn()}function Qo(f){return f.mode&1?Ut&2&&fr!==0?fr&-fr:ol.transition!==null?(zm===0&&(f=eo,eo<<=1,!(eo&4194240)&&(eo=64),zm=f),zm):(f=Nt,f!==0?f:pe()):1}function Gi(f,h,y){if(50<Sh)throw Sh=0,T1=null,Error(o(185));var b=Vm(f,h);return b===null?null:(Is(b,h,y),(!(Ut&2)||b!==Vn)&&(b===Vn&&(!(Ut&2)&&(Um|=h),qn===4&&ea(b,fr)),Jr(b,y),h===1&&Ut===0&&!(f.mode&1)&&(Wu(),Us&&Kr())),b)}function Vm(f,h){f.lanes|=h;var y=f.alternate;for(y!==null&&(y.lanes|=h),y=f,f=f.return;f!==null;)f.childLanes|=h,y=f.alternate,y!==null&&(y.childLanes|=h),y=f,f=f.return;return y.tag===3?y.stateNode:null}function Jr(f,h){var y=f.callbackNode;Jf(f,h);var b=rl(f,f===Vn?fr:0);if(b===0)y!==null&&Du(y),f.callbackNode=null,f.callbackPriority=0;else if(h=b&-b,f.callbackPriority!==h){if(y!=null&&Du(y),h===1)f.tag===0?ih(pT.bind(null,f)):rh(pT.bind(null,f)),ye?Re(function(){Ut===0&&Kr()}):io(il,Kr),y=null;else{switch(Qf(b)){case 1:y=il;break;case 4:y=im;break;case 16:y=Ir;break;case 536870912:y=th;break;default:y=Ir}y=bT(y,dT.bind(null,f))}f.callbackPriority=h,f.callbackNode=y}}function dT(f,h){if(Bm=-1,zm=0,Ut&6)throw Error(o(327));var y=f.callbackNode;if(gl()&&f.callbackNode!==y)return null;var b=rl(f,f===Vn?fr:0);if(b===0)return null;if(b&30||b&f.expiredLanes||h)h=Hm(f,b);else{h=b;var E=Ut;Ut|=2;var D=vT();(Vn!==f||fr!==h)&&(Wu(),pl(f,h));do try{cF();break}catch(ae){gT(f,ae)}while(1);Ou(),Om.current=D,Ut=E,Hn!==null?h=0:(Vn=null,fr=0,h=qn)}if(h!==0){if(h===2&&(E=ro(f),E!==0&&(b=E,h=A1(f,E))),h===1)throw y=xh,pl(f,0),ea(f,b),Jr(f,gn()),y;if(h===6)ea(f,b);else{if(E=f.current.alternate,!(b&30)&&!lF(E)&&(h=Hm(f,b),h===2&&(D=ro(f),D!==0&&(b=D,h=A1(f,D))),h===1))throw y=xh,pl(f,0),ea(f,b),Jr(f,gn()),y;switch(f.finishedWork=E,f.finishedLanes=b,h){case 0:case 1:throw Error(o(345));case 2:ml(f,Zr);break;case 3:if(ea(f,b),(b&130023424)===b&&(h=b1+500-gn(),10<h)){if(rl(f,0)!==0)break;if(E=f.suspendedLanes,(E&b)!==b){Fr(),f.pingedLanes|=f.suspendedLanes&E;break}f.timeoutHandle=se(ml.bind(null,f,Zr),h);break}ml(f,Zr);break;case 4:if(ea(f,b),(b&4194240)===b)break;for(h=f.eventTimes,E=-1;0<b;){var K=31-di(b);D=1<<K,K=h[K],K>E&&(E=K),b&=~D}if(b=E,b=gn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*aF(b/1960))-b,10<b){f.timeoutHandle=se(ml.bind(null,f,Zr),b);break}ml(f,Zr);break;case 5:ml(f,Zr);break;default:throw Error(o(329))}}}return Jr(f,gn()),f.callbackNode===y?dT.bind(null,f):null}function A1(f,h){var y=_h;return f.current.memoizedState.isDehydrated&&(pl(f,h).flags|=256),f=Hm(f,h),f!==2&&(h=Zr,Zr=y,h!==null&&C1(h)),f}function C1(f){Zr===null?Zr=f:Zr.push.apply(Zr,f)}function lF(f){for(var h=f;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var b=0;b<y.length;b++){var E=y[b],D=E.getSnapshot;E=E.value;try{if(!mi(D(),E))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ea(f,h){for(h&=~w1,h&=~Um,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var y=31-di(h),b=1<<y;f[y]=-1,h&=~b}}function pT(f){if(Ut&6)throw Error(o(327));gl();var h=rl(f,0);if(!(h&1))return Jr(f,gn()),null;var y=Hm(f,h);if(f.tag!==0&&y===2){var b=ro(f);b!==0&&(h=b,y=A1(f,b))}if(y===1)throw y=xh,pl(f,0),ea(f,h),Jr(f,gn()),y;if(y===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,ml(f,Zr),Jr(f,gn()),null}function mT(f){Jo!==null&&Jo.tag===0&&!(Ut&6)&&gl();var h=Ut;Ut|=1;var y=Un.transition,b=Nt;try{if(Un.transition=null,Nt=1,f)return f()}finally{Nt=b,Un.transition=y,Ut=h,!(Ut&6)&&Kr()}}function P1(){_i=Hu.current,zt(Hu)}function pl(f,h){f.finishedWork=null,f.finishedLanes=0;var y=f.timeoutHandle;if(y!==Ie&&(f.timeoutHandle=Ie,_e(y)),Hn!==null)for(y=Hn.return;y!==null;){var b=y;switch($y(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Dr();break;case 3:zu(),zt(fn),zt(An),Qy();break;case 5:Zy(b);break;case 4:zu();break;case 13:zt(vn);break;case 19:zt(vn);break;case 10:sr(b.type._context);break;case 22:case 23:P1()}y=y.return}if(Vn=f,Hn=f=ta(f.current,null),fr=_i=h,qn=0,xh=null,w1=Um=Gu=0,Zr=_h=null,gi!==null){for(h=0;h<gi.length;h++)if(y=gi[h],b=y.interleaved,b!==null){y.interleaved=null;var E=b.next,D=y.pending;if(D!==null){var K=D.next;D.next=E,b.next=K}y.pending=b}gi=null}return f}function gT(f,h){do{var y=Hn;try{if(Ou(),pm.current=_m,mm){for(var b=Cn.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}mm=!1}if(Vu=0,or=_r=Cn=null,ch=!1,fh=0,S1.current=null,y===null||y.return===null){qn=1,xh=h,Hn=null;break}e:{var D=f,K=y.return,ae=y,Ce=h;if(h=fr,ae.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Ye=Ce,st=ae,Tt=st.tag;if(!(st.mode&1)&&(Tt===0||Tt===11||Tt===15)){var vt=st.alternate;vt?(st.updateQueue=vt.updateQueue,st.memoizedState=vt.memoizedState,st.lanes=vt.lanes):(st.updateQueue=null,st.memoizedState=null)}var en=kE(K);if(en!==null){en.flags&=-257,FE(en,K,ae,D,h),en.mode&1&&NE(D,Ye,h),h=en,Ce=Ye;var ft=h.updateQueue;if(ft===null){var br=new Set;br.add(Ce),h.updateQueue=br}else ft.add(Ce);break e}else{if(!(h&1)){NE(D,Ye,h),R1();break e}Ce=Error(o(426))}}else if(hn&&ae.mode&1){var ji=kE(K);if(ji!==null){!(ji.flags&65536)&&(ji.flags|=256),FE(ji,K,ae,D,h),qy(Ce);break e}}D=Ce,qn!==4&&(qn=2),_h===null?_h=[D]:_h.push(D),Ce=o1(Ce,ae),ae=K;do{switch(ae.tag){case 3:ae.flags|=65536,h&=-h,ae.lanes|=h;var xe=OE(ae,Ce,h);nE(ae,xe);break e;case 1:D=Ce;var ce=ae.type,Ee=ae.stateNode;if(!(ae.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(Zo===null||!Zo.has(Ee)))){ae.flags|=65536,h&=-h,ae.lanes|=h;var nt=UE(ae,D,h);nE(ae,nt);break e}}ae=ae.return}while(ae!==null)}xT(y)}catch(ut){h=ut,Hn===y&&y!==null&&(Hn=y=y.return);continue}break}while(1)}function vT(){var f=Om.current;return Om.current=_m,f===null?_m:f}function R1(){(qn===0||qn===3||qn===2)&&(qn=4),Vn===null||!(Gu&268435455)&&!(Um&268435455)||ea(Vn,fr)}function Hm(f,h){var y=Ut;Ut|=2;var b=vT();Vn===f&&fr===h||pl(f,h);do try{uF();break}catch(E){gT(f,E)}while(1);if(Ou(),Ut=y,Om.current=b,Hn!==null)throw Error(o(261));return Vn=null,fr=0,qn}function uF(){for(;Hn!==null;)yT(Hn)}function cF(){for(;Hn!==null&&!eh();)yT(Hn)}function yT(f){var h=wT(f.alternate,f,_i);f.memoizedProps=f.pendingProps,h===null?xT(f):Hn=h,S1.current=null}function xT(f){var h=f;do{var y=h.alternate;if(f=h.return,h.flags&32768){if(y=nF(y,h),y!==null){y.flags&=32767,Hn=y;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{qn=6,Hn=null;return}}else if(y=Qk(y,h,_i),y!==null){Hn=y;return}if(h=h.sibling,h!==null){Hn=h;return}Hn=h=f}while(h!==null);qn===0&&(qn=5)}function ml(f,h){var y=Nt,b=Un.transition;try{Un.transition=null,Nt=1,fF(f,h,y)}finally{Un.transition=b,Nt=y}return null}function fF(f,h,y){do gl();while(Jo!==null);if(Ut&6)throw Error(o(327));var b=f.finishedWork,E=f.finishedLanes;if(b===null)return null;if(f.finishedWork=null,f.finishedLanes=0,b===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var D=b.lanes|b.childLanes;if(Xo(f,D),f===Vn&&(Hn=Vn=null,fr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||km||(km=!0,bT(Ir,function(){return gl(),null})),D=(b.flags&15990)!==0,b.subtreeFlags&15990||D){D=Un.transition,Un.transition=null;var K=Nt;Nt=1;var ae=Ut;Ut|=4,S1.current=null,iF(f,b),sF(f,b),k(f.containerInfo),f.current=b,oF(b),rm(),Ut=ae,Nt=K,Un.transition=D}else f.current=b;if(km&&(km=!1,Jo=f,Fm=E),D=f.pendingLanes,D===0&&(Zo=null),nh(b.stateNode),Jr(f,gn()),h!==null)for(y=f.onRecoverableError,b=0;b<h.length;b++)y(h[b]);if(Nm)throw Nm=!1,f=E1,E1=null,f;return Fm&1&&f.tag!==0&&gl(),D=f.pendingLanes,D&1?f===T1?Sh++:(Sh=0,T1=f):Sh=0,Kr(),null}function gl(){if(Jo!==null){var f=Qf(Fm),h=Un.transition,y=Nt;try{if(Un.transition=null,Nt=16>f?16:f,Jo===null)var b=!1;else{if(f=Jo,Jo=null,Fm=0,Ut&6)throw Error(o(331));var E=Ut;for(Ut|=4,tt=f.current;tt!==null;){var D=tt,K=D.child;if(tt.flags&16){var ae=D.deletions;if(ae!==null){for(var Ce=0;Ce<ae.length;Ce++){var Ye=ae[Ce];for(tt=Ye;tt!==null;){var st=tt;switch(st.tag){case 0:case 11:case 15:dl(8,st,D)}var Tt=st.child;if(Tt!==null)Tt.return=st,tt=Tt;else for(;tt!==null;){st=tt;var vt=st.sibling,en=st.return;if(rT(st),st===Ye){tt=null;break}if(vt!==null){vt.return=en,tt=vt;break}tt=en}}}var ft=D.alternate;if(ft!==null){var br=ft.child;if(br!==null){ft.child=null;do{var ji=br.sibling;br.sibling=null,br=ji}while(br!==null)}}tt=D}}if(D.subtreeFlags&2064&&K!==null)K.return=D,tt=K;else e:for(;tt!==null;){if(D=tt,D.flags&2048)switch(D.tag){case 0:case 11:case 15:dl(9,D,D.return)}var xe=D.sibling;if(xe!==null){xe.return=D.return,tt=xe;break e}tt=D.return}}var ce=f.current;for(tt=ce;tt!==null;){K=tt;var Ee=K.child;if(K.subtreeFlags&2064&&Ee!==null)Ee.return=K,tt=Ee;else e:for(K=ce;tt!==null;){if(ae=tt,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:vh(9,ae)}}catch(ut){Qr(ae,ae.return,ut)}if(ae===K){tt=null;break e}var nt=ae.sibling;if(nt!==null){nt.return=ae.return,tt=nt;break e}tt=ae.return}}if(Ut=E,Kr(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(sl,f)}catch{}b=!0}return b}finally{Nt=y,Un.transition=h}}return!1}function _T(f,h,y){h=o1(y,h),h=OE(f,h,1),Ko(f,h),h=Fr(),f=Vm(f,1),f!==null&&(Is(f,1,h),Jr(f,h))}function Qr(f,h,y){if(f.tag===3)_T(f,f,y);else for(;h!==null;){if(h.tag===3){_T(h,f,y);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Zo===null||!Zo.has(b))){f=o1(y,f),f=UE(h,f,1),Ko(h,f),f=Fr(),h=Vm(h,1),h!==null&&(Is(h,1,f),Jr(h,f));break}}h=h.return}}function hF(f,h,y){var b=f.pingCache;b!==null&&b.delete(h),h=Fr(),f.pingedLanes|=f.suspendedLanes&y,Vn===f&&(fr&y)===y&&(qn===4||qn===3&&(fr&130023424)===fr&&500>gn()-b1?pl(f,0):w1|=y),Jr(f,h)}function ST(f,h){h===0&&(f.mode&1?(h=to,to<<=1,!(to&130023424)&&(to=4194304)):h=1);var y=Fr();f=Vm(f,h),f!==null&&(Is(f,h,y),Jr(f,y))}function dF(f){var h=f.memoizedState,y=0;h!==null&&(y=h.retryLane),ST(f,y)}function pF(f,h){var y=0;switch(f.tag){case 13:var b=f.stateNode,E=f.memoizedState;E!==null&&(y=E.retryLane);break;case 19:b=f.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(h),ST(f,y)}var wT;wT=function(f,h,y){if(f!==null)if(f.memoizedProps!==h.pendingProps||fn.current)xi=!0;else{if(!(f.lanes&y)&&!(h.flags&128))return xi=!1,tF(f,h,y);xi=!!(f.flags&131072)}else xi=!1,hn&&h.flags&1048576&&lE(h,fm,h.index);switch(h.lanes=0,h.tag){case 2:var b=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var E=Qt(h,An.current);In(h,y),E=t1(null,h,b,f,E,y);var D=n1();return h.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,nn(b)?(D=!0,Ds(h)):D=!1,h.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Hy(h),E.updater=um,h.stateNode=E,E._reactInternals=h,Wy(h,b,f,y),h=u1(null,h,b,!0,D,y)):(h.tag=0,hn&&D&&jy(h),kr(null,h,E,y),h=h.child),h;case 16:b=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,E=b._init,b=E(b._payload),h.type=b,E=h.tag=gF(b),f=Ur(b,f),E){case 0:h=l1(null,h,b,f,y);break e;case 1:h=$E(null,h,b,f,y);break e;case 11:h=VE(null,h,b,f,y);break e;case 14:h=HE(null,h,b,Ur(b.type,f),y);break e}throw Error(o(306,b,""))}return h;case 0:return b=h.type,E=h.pendingProps,E=h.elementType===b?E:Ur(b,E),l1(f,h,b,E,y);case 1:return b=h.type,E=h.pendingProps,E=h.elementType===b?E:Ur(b,E),$E(f,h,b,E,y);case 3:e:{if(XE(h),f===null)throw Error(o(387));b=h.pendingProps,D=h.memoizedState,E=D.element,tE(f,h),lm(h,b,null,y);var K=h.memoizedState;if(b=K.element,be&&D.isDehydrated)if(D={element:b,isDehydrated:!1,cache:K.cache,transitions:K.transitions},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){E=Error(o(423)),h=YE(f,h,b,y,E);break e}else if(b!==E){E=Error(o(424)),h=YE(f,h,b,y,E);break e}else for(be&&(yi=Yn(h.stateNode.containerInfo),vi=h,hn=!0,ls=null,sh=!1),y=pE(h,null,b,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(ku(),b===E){h=uo(f,h,y);break e}kr(f,h,b,y)}h=h.child}return h;case 5:return mE(h),f===null&&Yy(h),b=h.type,E=h.pendingProps,D=f!==null?f.memoizedProps:null,K=E.children,te(b,E)?K=null:D!==null&&te(b,D)&&(h.flags|=32),jE(f,h),kr(f,h,K,y),h.child;case 6:return f===null&&Yy(h),null;case 13:return qE(f,h,y);case 4:return Ky(h,h.stateNode.containerInfo),b=h.pendingProps,f===null?h.child=Fu(h,null,b,y):kr(f,h,b,y),h.child;case 11:return b=h.type,E=h.pendingProps,E=h.elementType===b?E:Ur(b,E),VE(f,h,b,E,y);case 7:return kr(f,h,h.pendingProps,y),h.child;case 8:return kr(f,h,h.pendingProps.children,y),h.child;case 12:return kr(f,h,h.pendingProps.children,y),h.child;case 10:e:{if(b=h.type._context,E=h.pendingProps,D=h.memoizedProps,K=E.value,om(h,b,K),D!==null)if(mi(D.value,K)){if(D.children===E.children&&!fn.current){h=uo(f,h,y);break e}}else for(D=h.child,D!==null&&(D.return=h);D!==null;){var ae=D.dependencies;if(ae!==null){K=D.child;for(var Ce=ae.firstContext;Ce!==null;){if(Ce.context===b){if(D.tag===1){Ce=so(-1,y&-y),Ce.tag=2;var Ye=D.updateQueue;if(Ye!==null){Ye=Ye.shared;var st=Ye.pending;st===null?Ce.next=Ce:(Ce.next=st.next,st.next=Ce),Ye.pending=Ce}}D.lanes|=y,Ce=D.alternate,Ce!==null&&(Ce.lanes|=y),Nr(D.return,y,h),ae.lanes|=y;break}Ce=Ce.next}}else if(D.tag===10)K=D.type===h.type?null:D.child;else if(D.tag===18){if(K=D.return,K===null)throw Error(o(341));K.lanes|=y,ae=K.alternate,ae!==null&&(ae.lanes|=y),Nr(K,y,h),K=D.sibling}else K=D.child;if(K!==null)K.return=D;else for(K=D;K!==null;){if(K===h){K=null;break}if(D=K.sibling,D!==null){D.return=K.return,K=D;break}K=K.return}D=K}kr(f,h,E.children,y),h=h.child}return h;case 9:return E=h.type,b=h.pendingProps.children,In(h,y),E=On(E),b=b(E),h.flags|=1,kr(f,h,b,y),h.child;case 14:return b=h.type,E=Ur(b,h.pendingProps),E=Ur(b.type,E),HE(f,h,b,E,y);case 15:return GE(f,h,h.type,h.pendingProps,y);case 17:return b=h.type,E=h.pendingProps,E=h.elementType===b?E:Ur(b,E),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,nn(b)?(f=!0,Ds(h)):f=!1,In(h,y),oE(h,b,E),Wy(h,b,E,y),u1(null,h,b,!0,f,y);case 19:return QE(f,h,y);case 22:return WE(f,h,y)}throw Error(o(156,h.tag))};function bT(f,h){return io(f,h)}function mF(f,h,y,b){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(f,h,y,b){return new mF(f,h,y,b)}function L1(f){return f=f.prototype,!(!f||!f.isReactComponent)}function gF(f){if(typeof f=="function")return L1(f)?1:0;if(f!=null){if(f=f.$$typeof,f===_)return 11;if(f===S)return 14}return 2}function ta(f,h){var y=f.alternate;return y===null?(y=Wi(f.tag,h,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=h,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&14680064,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,h=f.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y}function Gm(f,h,y,b,E,D){var K=2;if(b=f,typeof f=="function")L1(f)&&(K=1);else if(typeof f=="string")K=5;else e:switch(f){case c:return vl(y.children,E,D,h);case d:K=8,E|=8;break;case p:return f=Wi(12,y,h,E|2),f.elementType=p,f.lanes=D,f;case x:return f=Wi(13,y,h,E),f.elementType=x,f.lanes=D,f;case v:return f=Wi(19,y,h,E),f.elementType=v,f.lanes=D,f;case M:return Wm(y,E,D,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:K=10;break e;case g:K=9;break e;case _:K=11;break e;case S:K=14;break e;case w:K=16,b=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=Wi(K,y,h,E),h.elementType=f,h.type=b,h.lanes=D,h}function vl(f,h,y,b){return f=Wi(7,f,b,h),f.lanes=y,f}function Wm(f,h,y,b){return f=Wi(22,f,b,h),f.elementType=M,f.lanes=y,f.stateNode={},f}function D1(f,h,y){return f=Wi(6,f,null,h),f.lanes=y,f}function I1(f,h,y){return h=Wi(4,f.children!==null?f.children:[],f.key,h),h.lanes=y,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function vF(f,h,y,b,E){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ie,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lu(0),this.expirationTimes=Lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lu(0),this.identifierPrefix=b,this.onRecoverableError=E,be&&(this.mutableSourceEagerHydrationData=null)}function MT(f,h,y,b,E,D,K,ae,Ce){return f=new vF(f,h,y,ae,Ce),h===1?(h=1,D===!0&&(h|=8)):h=0,D=Wi(3,null,null,h),f.current=D,D.stateNode=f,D.memoizedState={element:b,isDehydrated:y,cache:null,transitions:null},Hy(D),f}function ET(f){if(!f)return Dn;f=f._reactInternals;e:{if(C(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(nn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var y=f.type;if(nn(y))return Ls(f,y,h)}return h}function TT(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=B(h),f===null?null:f.stateNode}function AT(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<h?y:h}}function O1(f,h){AT(f,h),(f=f.alternate)&&AT(f,h)}function yF(f){return f=B(f),f===null?null:f.stateNode}function xF(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var h=Fr();Gi(f,134217728,h),O1(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=Fr(),y=Qo(f);Gi(f,y,h),O1(f,y)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var y=no(h.pendingLanes);y!==0&&(Os(h,y|1),Jr(h,gn()),!(Ut&6)&&(Wu(),Kr()))}break;case 13:var b=Fr();mT(function(){return Gi(f,1,b)}),O1(f,1)}},n.batchedUpdates=function(f,h){var y=Ut;Ut|=1;try{return f(h)}finally{Ut=y,Ut===0&&(Wu(),Us&&Kr())}},n.createComponentSelector=function(f){return{$$typeof:Pm,value:f}},n.createContainer=function(f,h,y,b,E,D,K){return MT(f,h,!1,null,y,b,E,D,K)},n.createHasPseudoClassSelector=function(f){return{$$typeof:Rm,value:f}},n.createHydrationContainer=function(f,h,y,b,E,D,K,ae,Ce){return f=MT(y,b,!0,f,E,D,K,ae,Ce),f.context=ET(null),y=f.current,b=Fr(),E=Qo(y),D=so(b,E),D.callback=h??null,Ko(y,D),f.current.lanes=E,Is(f,E,b),Jr(f,b),f},n.createPortal=function(f,h,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:f,containerInfo:h,implementation:y}},n.createRoleSelector=function(f){return{$$typeof:Lm,value:f}},n.createTestNameSelector=function(f){return{$$typeof:Dm,value:f}},n.createTextSelector=function(f){return{$$typeof:Im,value:f}},n.deferredUpdates=function(f){var h=Nt,y=Un.transition;try{return Un.transition=null,Nt=16,f()}finally{Nt=h,Un.transition=y}},n.discreteUpdates=function(f,h,y,b,E){var D=Nt,K=Un.transition;try{return Un.transition=null,Nt=1,f(h,y,b,E)}finally{Nt=D,Un.transition=K,Ut===0&&Wu()}},n.findAllNodes=_1,n.findBoundingRects=function(f,h){if(!Ne)throw Error(o(363));h=_1(f,h),f=[];for(var y=0;y<h.length;y++)f.push(Ke(h[y]));for(h=f.length-1;0<h;h--){y=f[h];for(var b=y.x,E=b+y.width,D=y.y,K=D+y.height,ae=h-1;0<=ae;ae--)if(h!==ae){var Ce=f[ae],Ye=Ce.x,st=Ye+Ce.width,Tt=Ce.y,vt=Tt+Ce.height;if(b>=Ye&&D>=Tt&&E<=st&&K<=vt){f.splice(h,1);break}else if(b!==Ye||y.width!==Ce.width||vt<D||Tt>K){if(!(D!==Tt||y.height!==Ce.height||st<b||Ye>E)){Ye>b&&(Ce.width+=Ye-b,Ce.x=b),st<E&&(Ce.width=E-Ye),f.splice(h,1);break}}else{Tt>D&&(Ce.height+=Tt-D,Ce.y=D),vt<K&&(Ce.height=K-Tt),f.splice(h,1);break}}}return f},n.findHostInstance=TT,n.findHostInstanceWithNoPortals=function(f){return f=F(f),f=f!==null?G(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return TT(f)},n.flushControlled=function(f){var h=Ut;Ut|=1;var y=Un.transition,b=Nt;try{Un.transition=null,Nt=1,f()}finally{Nt=b,Un.transition=y,Ut=h,Ut===0&&(Wu(),Kr())}},n.flushPassiveEffects=gl,n.flushSync=mT,n.focusWithin=function(f,h){if(!Ne)throw Error(o(363));for(f=v1(f),h=hT(f,h),h=Array.from(h),f=0;f<h.length;){var y=h[f++];if(!O(y)){if(y.tag===5&&Ue(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Nt},n.getFindAllNodesFailureDescription=function(f,h){if(!Ne)throw Error(o(363));var y=0,b=[];f=[v1(f),0];for(var E=0;E<f.length;){var D=f[E++],K=f[E++],ae=h[K];if((D.tag!==5||!O(D))&&(y1(D,ae)&&(b.push(x1(ae)),K++,K>y&&(y=K)),K<h.length))for(D=D.child;D!==null;)f.push(D,K),D=D.sibling}if(y<h.length){for(f=[];y<h.length;y++)f.push(x1(h[y]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return ee(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:yF,findFiberByHostInstance:f.findFiberByHostInstance||xF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{sl=h.inject(f),pi=h}catch{}f=!!h.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,h,y,b){if(!Ne)throw Error(o(363));f=_1(f,h);var E=ge(f,y,b).disconnect;return{disconnect:function(){E()}}},n.registerMutableSourceForHydration=function(f,h){var y=h._getVersion;y=y(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,y]:f.mutableSourceEagerHydrationData.push(h,y)},n.runWithPriority=function(f,h){var y=Nt;try{return Nt=f,h()}finally{Nt=y}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,h,y,b){var E=h.current,D=Fr(),K=Qo(E);return y=ET(y),h.context===null?h.context=y:h.pendingContext=y,h=so(D,K),h.payload={element:f},b=b===void 0?null:b,b!==null&&(h.callback=b),Ko(E,h),f=Gi(E,K,D),f!==null&&am(f,E,K),K},n};dk.exports=m0e;var g0e=dk.exports;const v0e=vp(g0e);var pk={exports:{}},mk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,z){var k=U.length;U.push(z);e:for(;0<k;){var N=k-1>>>1,I=U[N];if(0<i(I,z))U[N]=z,U[k]=I,k=N;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],k=U.pop();if(k!==z){U[0]=k;e:for(var N=0,I=U.length,J=I>>>1;N<J;){var Z=2*(N+1)-1,te=U[Z],ie=Z+1,se=U[ie];if(0>i(te,k))ie<I&&0>i(se,te)?(U[N]=se,U[ie]=k,N=ie):(U[N]=te,U[Z]=k,N=Z);else if(ie<I&&0>i(se,k))U[N]=se,U[ie]=k,N=ie;else break e}}return z}function i(U,z){var k=U.sortIndex-z.sortIndex;return k!==0?k:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=U)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function M(U){if(_=!1,w(U),!g)if(n(l)!==null)g=!0,ee(T);else{var z=n(u);z!==null&&ne(M,z.startTime-U)}}function T(U,z){g=!1,_&&(_=!1,v(L),L=-1),m=!0;var k=p;try{for(w(z),d=n(l);d!==null&&(!(d.expirationTime>z)||U&&!F());){var N=d.callback;if(typeof N=="function"){d.callback=null,p=d.priorityLevel;var I=N(d.expirationTime<=z);z=t.unstable_now(),typeof I=="function"?d.callback=I:d===n(l)&&r(l),w(z)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var Z=n(u);Z!==null&&ne(M,Z.startTime-z),J=!1}return J}finally{d=null,p=k,m=!1}}var A=!1,R=null,L=-1,C=5,P=-1;function F(){return!(t.unstable_now()-P<C)}function B(){if(R!==null){var U=t.unstable_now();P=U;var z=!0;try{z=R(!0,U)}finally{z?W():(A=!1,R=null)}}else A=!1}var W;if(typeof S=="function")W=function(){S(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=B,W=function(){q.postMessage(null)}}else W=function(){x(B,0)};function ee(U){R=U,A||(A=!0,W())}function ne(U,z){L=x(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,ee(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var k=p;p=z;try{return U()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var k=p;p=U;try{return z()}finally{p=k}},t.unstable_scheduleCallback=function(U,z,k){var N=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?N+k:N):k=N,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=k+I,U={id:c++,callback:z,priorityLevel:U,startTime:k,expirationTime:I,sortIndex:-1},k>N?(U.sortIndex=k,e(u,U),n(l)===null&&U===n(u)&&(_?(v(L),L=-1):_=!0,ne(M,k-N))):(U.sortIndex=I,e(l,U),g||m||(g=!0,ee(T))),U},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(U){var z=p;return function(){var k=p;p=z;try{return U.apply(this,arguments)}finally{p=k}}}})(mk);pk.exports=mk;var h4=pk.exports;const y0e=t=>typeof t=="object"&&typeof t.then=="function",o0=[];function x0e(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function _0e(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of o0)if(x0e(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=o0.indexOf(i);s!==-1&&o0.splice(s,1)},promise:(y0e(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(o0.push(i),!n)throw i.promise}const S0e=(t,e,n)=>_0e(t,e,!1,n),JM={},w0e=t=>void Object.assign(JM,t);function b0e(t,e){function n(c,{args:d=[],attach:p,...m},g){let _=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;x=Uc(v,{type:c,root:g,attach:p,primitive:!0})}else{const v=JM[_];if(!v)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Uc(new v(...d),{type:c,root:g,attach:p,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof It?x.__r3f.attach="geometry":x instanceof gr&&(x.__r3f.attach="material")),_!=="inject"&&v_(x,m),x}function r(c,d){let p=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?g_(c,d,d.__r3f.attach):d.isObject3D&&c.isObject3D&&(c.add(d),p=!0),p||(g=c.__r3f)==null||g.objects.push(d),d.__r3f||Uc(d,{}),d.__r3f.parent=c,HS(d),Nc(d)}}function i(c,d,p){let m=!1;if(d){var g,_;if((g=d.__r3f)!=null&&g.attach)g_(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){d.parent=c,d.dispatchEvent({type:"added"});const x=c.children.filter(S=>S!==d),v=x.indexOf(p);c.children=[...x.slice(0,v),d,...x.slice(v)],m=!0}m||(_=c.__r3f)==null||_.objects.push(d),d.__r3f||Uc(d,{}),d.__r3f.parent=c,HS(d),Nc(d)}}function s(c,d,p=!1){c&&[...c].forEach(m=>o(d,m,p))}function o(c,d,p){if(d){var m,g,_;if(d.__r3f&&(d.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==d)),(g=d.__r3f)!=null&&g.attach)v4(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){var x;c.remove(d),(x=d.__r3f)!=null&&x.root&&R0e(d.__r3f.root,d)}const S=(_=d.__r3f)==null?void 0:_.primitive,w=p===void 0?d.dispose!==null&&!S:p;if(!S){var v;s((v=d.__r3f)==null?void 0:v.objects,d,w),s(d.children,d,w)}delete d.__r3f,w&&d.dispose&&d.type!=="Scene"&&h4.unstable_scheduleCallback(h4.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Nc(c)}}function a(c,d,p,m){var g;const _=(g=c.__r3f)==null?void 0:g.parent;if(!_)return;const x=n(d,p,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(x,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(x,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(_,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(_,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:v0e({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,d)=>{if(!d)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,d))},removeChildFromContainer:(c,d)=>{d&&o(c.getState().scene,d)},insertInContainerBefore:(c,d,p)=>{if(!d||!p)return;const m=c.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var d;return!!((d=c==null?void 0:c.__r3f)!=null?d:{}).handlers},prepareUpdate(c,d,p,m){if(c.__r3f.primitive&&m.object&&m.object!==c)return[!0];{const{args:g=[],children:_,...x}=m,{args:v=[],children:S,...w}=p;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((T,A)=>T!==v[A]))return[!0];const M=wk(c,x,w,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[d,p],m,g,_,x){d?a(c,m,_,x):v_(c,p)},commitMount(c,d,p,m){var g;const _=(g=c.__r3f)!=null?g:{};c.raycast&&_.handlers&&_.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Uc(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var d;const{attach:p,parent:m}=(d=c.__r3f)!=null?d:{};p&&m&&v4(m,c,p),c.isObject3D&&(c.visible=!1),Nc(c)},unhideInstance(c,d){var p;const{attach:m,parent:g}=(p=c.__r3f)!=null?p:{};m&&g&&g_(g,c,m),(c.isObject3D&&d.visible==null||d.visible)&&(c.visible=!0),Nc(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():sf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&dn.fun(performance.now)?performance.now:dn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:dn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:dn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:v_}}var d4,p4;const m_=t=>"colorSpace"in t||"outputColorSpace"in t,gk=()=>{var t;return(t=JM.ColorManagement)!=null?t:null},vk=t=>t&&t.isOrthographicCamera,M0e=t=>t&&t.hasOwnProperty("current"),em=typeof window<"u"&&((d4=window.document)!=null&&d4.createElement||((p4=window.navigator)==null?void 0:p4.product)==="ReactNative")?re.useLayoutEffect:re.useEffect;function yk(t){const e=re.useRef(t);return em(()=>void(e.current=t),[t]),e}function E0e({set:t}){return em(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class xk extends re.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}xk.getDerivedStateFromError=()=>({error:!0});const _k="__default",m4=new Map,T0e=t=>t&&!!t.memoized&&!!t.changes;function Sk(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Xh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},dn={obj:t=>t===Object(t)&&!dn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(dn.str(t)||dn.num(t))return t===e;const s=dn.obj(t);if(s&&r==="reference")return t===e;const o=dn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!dn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(dn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function A0e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Uc(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function VS(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const g4=/-\d+$/;function g_(t,e,n){if(dn.str(n)){if(g4.test(n)){const s=n.replace(g4,""),{target:o,key:a}=VS(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=VS(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function v4(t,e,n){var r,i;if(dn.str(n)){const{target:s,key:o}=VS(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function wk(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const d=(c=t==null?void 0:t.__r3f)!=null?c:{},p=Object.entries(i),m=[];if(u){const _=Object.keys(l);for(let x=0;x<_.length;x++)i.hasOwnProperty(_[x])||p.unshift([_[x],_k+"remove"])}p.forEach(([_,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&_==="object"||dn.equ(x,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return m.push([_,x,!0,[]]);let S=[];_.includes("-")&&(S=_.split("-")),m.push([_,x,!1,S]);for(const w in i){const M=i[w];w.startsWith(`${_}-`)&&m.push([w,M,!1,w.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function v_(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=T0e(e)?e:wk(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,g,_,x]=u[p];if(m_(t)){const M="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?M:T):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?M:T)}let v=t,S=v[m];if(x.length&&(S=x.reduce((w,M)=>w[M],t),!(S&&S.set))){const[w,...M]=x.reverse();v=M.reverse().reduce((T,A)=>T[A],t),m=w}if(g===_k+"remove")if(v.constructor){let w=m4.get(v.constructor);w||(w=new v.constructor,m4.set(v.constructor,w)),g=w[m]}else g=0;if(_)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Jl)){if(Array.isArray(g))S.fromArray?S.fromArray(g):S.set(...g);else if(S.copy&&g&&g.constructor&&S.constructor===g.constructor)S.copy(g);else if(g!==void 0){const w=S instanceof et;!w&&S.setScalar?S.setScalar(g):S instanceof Jl&&g instanceof Jl?S.mask=g.mask:S.set(g),!gk()&&!a.linear&&w&&S.convertSRGBToLinear()}}else if(v[m]=g,v[m]instanceof En&&v[m].format===ri&&v[m].type===qs){const w=v[m];m_(w)&&m_(a.gl)?w.colorSpace=a.gl.outputColorSpace:w.encoding=a.gl.outputEncoding}Nc(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&HS(t),t}function Nc(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function HS(t){t.onUpdate==null||t.onUpdate(t)}function C0e(t,e){t.manual||(vk(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function a0(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function P0e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return sf.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return sf.ContinuousEventPriority;default:return sf.DefaultEventPriority}}function bk(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function R0e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{bk(n.capturedMap,e,r,i)})}function L0e(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),d=new Set,p=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let v=0;v<m.length;v++){const S=Xh(m[v]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(v){const S=Xh(v);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var w;S.events.compute==null||S.events.compute(l,S,(w=S.previousRoot)==null?void 0:w.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(v,!0):[]}let _=m.flatMap(g).sort((v,S)=>{const w=Xh(v.object),M=Xh(S.object);return!w||!M?v.distance-S.distance:M.events.priority-w.events.priority||v.distance-S.distance}).filter(v=>{const S=a0(v);return d.has(S)?!1:(d.add(S),!0)});c.events.filter&&(_=c.events.filter(_,c));for(const v of _){let S=v.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&p.push({...v,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let v of c.internal.capturedMap.get(l.pointerId).values())d.has(a0(v.intersection))||p.push(v.intersection);return p}function i(l,u,c,d){const p=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const _=Xh(g.object)||p,{raycaster:x,pointer:v,camera:S,internal:w}=_,M=new j(v.x,v.y,0).unproject(S),T=P=>{var F,B;return(F=(B=w.capturedMap.get(P))==null?void 0:B.has(g.eventObject))!=null?F:!1},A=P=>{const F={intersection:g,target:u.target};w.capturedMap.has(P)?w.capturedMap.get(P).set(g.eventObject,F):w.capturedMap.set(P,new Map([[g.eventObject,F]])),u.target.setPointerCapture(P)},R=P=>{const F=w.capturedMap.get(P);F&&bk(w.capturedMap,g.eventObject,F,P)};let L={};for(let P in u){let F=u[P];typeof F!="function"&&(L[P]=F)}let C={...g,...L,pointer:v,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:x.ray,camera:S,stopPropagation(){const P="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!P||P.has(g.eventObject))&&(C.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(F=>F.eventObject===g.eventObject))){const F=l.slice(0,l.indexOf(g));s([...F,g])}},target:{hasPointerCapture:T,setPointerCapture:A,releasePointerCapture:R},currentTarget:{hasPointerCapture:T,setPointerCapture:A,releasePointerCapture:R},nativeEvent:u};if(d(C),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(d=>d.object===c.object&&d.index===c.index&&d.instanceId===c.instanceId)){const p=c.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(a0(c)),p!=null&&p.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const d=u[c].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(c,m?n:void 0),v=g?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=x.map(w=>w.eventObject)),g&&!x.length&&v<=2&&(o(c,p.interaction),d&&d(c)),m&&s(x);function S(w){const M=w.eventObject,T=M.__r3f,A=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const R=a0(w),L=p.hovered.get(R);L?L.stopped&&w.stopPropagation():(p.hovered.set(R,w),A.onPointerOver==null||A.onPointerOver(w),A.onPointerEnter==null||A.onPointerEnter(w))}A.onPointerMove==null||A.onPointerMove(w)}else{const R=A[l];R?(!g||p.initialHits.includes(M))&&(o(c,p.interaction.filter(L=>!p.initialHits.includes(L))),R(w)):g&&p.initialHits.includes(M)&&o(c,p.interaction.filter(L=>!p.initialHits.includes(L)))}}i(x,c,v,S)}}return{handlePointer:a}}const Mk=t=>!!(t!=null&&t.render),Ek=re.createContext(null),D0e=(t,e)=>{const n=h0e((a,l)=>{const u=new j,c=new j,d=new j;function p(v=l().camera,S=c,w=l().size){const{width:M,height:T,top:A,left:R}=w,L=M/T;S instanceof j?d.copy(S):d.set(...S);const C=v.getWorldPosition(u).distanceTo(d);if(vk(v))return{width:M/v.zoom,height:T/v.zoom,top:A,left:R,factor:1,distance:C,aspect:L};{const P=v.fov*Math.PI/180,F=2*Math.tan(P/2)*C,B=F*(M/T);return{width:B,height:F,top:A,left:R,factor:M/B,distance:C,aspect:L}}}let m;const g=v=>a(S=>({performance:{...S.performance,current:v}})),_=new Oe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,S)=>e(v,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new YM,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(S=>({...S,events:{...S.events,...v}})),setSize:(v,S,w,M,T)=>{const A=l().camera,R={width:v,height:S,top:M||0,left:T||0,updateStyle:w};a(L=>({size:R,viewport:{...L.viewport,...p(A,c,R)}}))},setDpr:v=>a(S=>{const w=Sk(v);return{viewport:{...S.viewport,dpr:w,initialDpr:S.viewport.initialDpr||w}}}),setFrameloop:(v="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,v!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:re.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,S,w)=>{const M=l().internal;return M.priority=M.priority+(S>0?1:0),M.subscribers.push({ref:v,priority:S,store:w}),M.subscribers=M.subscribers.sort((T,A)=>T.priority-A.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(S>0?1:0),T.subscribers=T.subscribers.filter(A=>A.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:d}=n.getState();if(l!==i||u.dpr!==s){var p;i=l,s=u.dpr,C0e(a,l),c.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let l0,I0e=new Set,O0e=new Set,U0e=new Set;function y_(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Yh(t,e){switch(t){case"before":return y_(I0e,e);case"after":return y_(O0e,e);case"tail":return y_(U0e,e)}}let x_,__;function S_(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),x_=e.internal.subscribers,l0=0;l0<x_.length;l0++)__=x_[l0],__.ref.current(__.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function N0e(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,Yh("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=S_(l,i))}if(Yh("after",l),n===0)return Yh("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(d=>o(d.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,d){if(u&&Yh("before",l),c)S_(l,c,d);else for(const p of t.values())S_(l,p.store.getState());u&&Yh("after",l)}return{loop:s,invalidate:o,advance:a}}function Tk(){const t=re.useContext(Ek);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function xo(t=n=>n,e){return Tk()(t,e)}function Ak(t,e=0){const n=Tk(),r=n.getState().internal.subscribe,i=yk(t);return em(()=>r(i,e,n),[e,r,n]),null}const Pf=new Map,{invalidate:y4,advance:x4}=N0e(Pf),{reconciler:Iv,applyProps:mc}=b0e(Pf,P0e),gc={objects:"shallow",strict:!1},k0e=(t,e)=>{const n=typeof t=="function"?t(e):t;return Mk(n)?n:new CM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function F0e(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function B0e(t){const e=Pf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||D0e(y4,x4),o=n||Iv.createContainer(s,sf.ConcurrentRoot,null,!1,null,"",i,null);e||Pf.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:d,size:p,scene:m,events:g,onCreated:_,shadows:x=!1,linear:v=!1,flat:S=!1,legacy:w=!1,orthographic:M=!1,frameloop:T="always",dpr:A=[1,2],performance:R,raycaster:L,camera:C,onPointerMissed:P}=c,F=s.getState(),B=F.gl;F.gl||F.set({gl:B=k0e(d,t)});let W=F.raycaster;W||F.set({raycaster:W=new ck});const{params:G,...q}=L||{};if(dn.equ(q,W,gc)||mc(W,{...q}),dn.equ(G,W.params,gc)||mc(W,{params:{...W.params,...G}}),!F.camera||F.camera===u&&!dn.equ(u,C,gc)){u=C;const N=C instanceof Bp,I=N?C:M?new Na(0,0,0,0,.1,1e3):new Bn(75,0,.1,1e3);N||(I.position.z=5,C&&mc(I,C),!F.camera&&!(C!=null&&C.rotation)&&I.lookAt(0,0,0)),F.set({camera:I})}if(!F.scene){let N;m instanceof Dv?N=m:(N=new Dv,m&&mc(N,m)),F.set({scene:Uc(N)})}if(!F.xr){const N=(Z,te)=>{const ie=s.getState();ie.frameloop!=="never"&&x4(Z,!0,ie,te)},I=()=>{const Z=s.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?N:null),Z.gl.xr.isPresenting||y4(Z)},J={connect(){const Z=s.getState().gl;Z.xr.addEventListener("sessionstart",I),Z.xr.addEventListener("sessionend",I)},disconnect(){const Z=s.getState().gl;Z.xr.removeEventListener("sessionstart",I),Z.xr.removeEventListener("sessionend",I)}};B.xr&&J.connect(),F.set({xr:J})}if(B.shadowMap){const N=B.shadowMap.enabled,I=B.shadowMap.type;if(B.shadowMap.enabled=!!x,dn.boo(x))B.shadowMap.type=_d;else if(dn.str(x)){var ee;const J={basic:hU,percentage:by,soft:_d,variance:ms};B.shadowMap.type=(ee=J[x])!=null?ee:_d}else dn.obj(x)&&Object.assign(B.shadowMap,x);(N!==B.shadowMap.enabled||I!==B.shadowMap.type)&&(B.shadowMap.needsUpdate=!0)}const ne=gk();ne&&("enabled"in ne?ne.enabled=!w:"legacyMode"in ne&&(ne.legacyMode=w)),mc(B,{outputEncoding:v?3e3:3001,toneMapping:S?bs:uM}),F.legacy!==w&&F.set(()=>({legacy:w})),F.linear!==v&&F.set(()=>({linear:v})),F.flat!==S&&F.set(()=>({flat:S})),d&&!dn.fun(d)&&!Mk(d)&&!dn.equ(d,B,gc)&&mc(B,d),g&&!F.events.handlers&&F.set({events:g(s)});const k=F0e(t,p);return dn.equ(k,F.size,gc)||F.setSize(k.width,k.height,k.updateStyle,k.top,k.left),A&&F.viewport.dpr!==Sk(A)&&F.setDpr(A),F.frameloop!==T&&F.setFrameloop(T),F.onPointerMissed||F.set({onPointerMissed:P}),R&&!dn.equ(R,F.performance,gc)&&F.set(N=>({performance:{...N.performance,...R}})),a=_,l=!0,this},render(c){return l||this.configure(),Iv.updateContainer(re.createElement(z0e,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){Ck(t)}}}function z0e({store:t,children:e,onCreated:n,rootElement:r}){return em(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),re.createElement(Ek.Provider,{value:t},e)}function Ck(t,e){const n=Pf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Iv.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),A0e(i),Pf.delete(t),e&&e(t)}catch{}},500)})}}Iv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:re.version});function GS(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}GS.debounce=GS;var V0e=GS;const _4=vp(V0e);function H0e(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=re.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=re.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,d=re.useRef(!1);re.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,g]=re.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:w,top:M,width:T,height:A,bottom:R,right:L,x:C,y:P}=l.current.element.getBoundingClientRect(),F={left:w,top:M,width:T,height:A,bottom:R,right:L,x:C,y:P};l.current.element instanceof HTMLElement&&i&&(F.height=l.current.element.offsetHeight,F.width=l.current.element.offsetWidth),Object.freeze(F),d.current&&!$0e(l.current.lastBounds,F)&&a(l.current.lastBounds=F)};return[S,c?_4(S,c):S,u?_4(S,u):S]},[a,i,u,c]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=S=>{!S||S===l.current.element||(_(),l.current.element=S,l.current.scrollContainers=Pk(S),x())};return W0e(g,!!n),G0e(m),re.useEffect(()=>{_(),x()},[n,g,m]),re.useEffect(()=>_,[]),[v,o,p]}function G0e(t){re.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function W0e(t,e){re.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Pk(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Pk(t.parentElement)]}const j0e=["x","y","top","bottom","left","right","width","height"],$0e=(t,e)=>j0e.every(n=>t[n]===e[n]);var X0e=Object.defineProperty,Y0e=Object.defineProperties,q0e=Object.getOwnPropertyDescriptors,S4=Object.getOwnPropertySymbols,K0e=Object.prototype.hasOwnProperty,Z0e=Object.prototype.propertyIsEnumerable,w4=(t,e,n)=>e in t?X0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b4=(t,e)=>{for(var n in e||(e={}))K0e.call(e,n)&&w4(t,n,e[n]);if(S4)for(var n of S4(e))Z0e.call(e,n)&&w4(t,n,e[n]);return t},J0e=(t,e)=>Y0e(t,q0e(e));function Rk(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=Rk(r,e,n);if(i)return i;r=e?null:r.sibling}}function Lk(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const QM=Lk(re.createContext(null));class Dk extends re.Component{render(){return re.createElement(QM.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:M4,ReactCurrentDispatcher:E4}=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q0e(){const t=re.useContext(QM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=re.useId();return re.useMemo(()=>{for(const r of[M4==null?void 0:M4.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=Rk(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function eve(){var t,e;const n=Q0e(),[r]=re.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==QM&&!r.has(s)&&r.set(s,(e=E4==null?void 0:E4.current)==null?void 0:e.readContext(Lk(s))),i=i.return}return r}function tve(){const t=eve();return re.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>re.createElement(e,null,re.createElement(n.Provider,J0e(b4({},r),{value:t.get(n)}))),e=>re.createElement(Dk,b4({},e))),[t])}const w_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function nve(t){const{handlePointer:e}=L0e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(w_).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=w_[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=w_[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const rve=re.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=nve,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:_,performance:x,raycaster:v,camera:S,onPointerMissed:w,onCreated:M,...T},A){re.useMemo(()=>w0e(u0e),[]);const R=tve(),[L,C]=H0e({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=re.useRef(null),F=re.useRef(null);re.useImperativeHandle(A,()=>P.current);const B=yk(w),[W,G]=re.useState(!1),[q,ee]=re.useState(!1);if(W)throw W;if(q)throw q;const ne=re.useRef(null);em(()=>{const z=P.current;C.width>0&&C.height>0&&z&&(ne.current||(ne.current=B0e(z)),ne.current.configure({gl:s,events:o,shadows:u,linear:c,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:_,performance:x,raycaster:v,camera:S,size:C,onPointerMissed:(...k)=>B.current==null?void 0:B.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(a?M0e(a)?a.current:a:F.current),l&&k.setEvents({compute:(N,I)=>{const J=N[l+"X"],Z=N[l+"Y"];I.pointer.set(J/I.size.width*2-1,-(Z/I.size.height)*2+1),I.raycaster.setFromCamera(I.pointer,I.camera)}}),M==null||M(k)}}),ne.current.render(re.createElement(R,null,re.createElement(xk,{set:ee},re.createElement(re.Suspense,{fallback:re.createElement(E0e,{set:G})},e)))))}),re.useEffect(()=>{const z=P.current;if(z)return()=>Ck(z)},[]);const U=a?"none":"auto";return re.createElement("div",Ef({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...i}},T),re.createElement("div",{ref:L,style:{width:"100%",height:"100%"}},re.createElement("canvas",{ref:P,style:{display:"block"}},n)))}),ive=re.forwardRef(function(e,n){return re.createElement(Dk,null,re.createElement(rve,Ef({},e,{ref:n})))});var sve=Object.defineProperty,ove=(t,e,n)=>e in t?sve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ave=(t,e,n)=>(ove(t,typeof e!="symbol"?e+"":e,n),n);class lve{constructor(){ave(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var uve=Object.defineProperty,cve=(t,e,n)=>e in t?uve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yt=(t,e,n)=>(cve(t,typeof e!="symbol"?e+"":e,n),n);const u0=new Mu,T4=new wo,fve=Math.cos(70*(Math.PI/180)),A4=(t,e)=>(t%e+e)%e;let hve=class extends lve{constructor(e,n){super(),yt(this,"object"),yt(this,"domElement"),yt(this,"enabled",!0),yt(this,"target",new j),yt(this,"minDistance",0),yt(this,"maxDistance",1/0),yt(this,"minZoom",0),yt(this,"maxZoom",1/0),yt(this,"minPolarAngle",0),yt(this,"maxPolarAngle",Math.PI),yt(this,"minAzimuthAngle",-1/0),yt(this,"maxAzimuthAngle",1/0),yt(this,"enableDamping",!1),yt(this,"dampingFactor",.05),yt(this,"enableZoom",!0),yt(this,"zoomSpeed",1),yt(this,"enableRotate",!0),yt(this,"rotateSpeed",1),yt(this,"enablePan",!0),yt(this,"panSpeed",1),yt(this,"screenSpacePanning",!0),yt(this,"keyPanSpeed",7),yt(this,"zoomToCursor",!1),yt(this,"autoRotate",!1),yt(this,"autoRotateSpeed",2),yt(this,"reverseOrbit",!1),yt(this,"reverseHorizontalOrbit",!1),yt(this,"reverseVerticalOrbit",!1),yt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),yt(this,"mouseButtons",{LEFT:Ul.ROTATE,MIDDLE:Ul.DOLLY,RIGHT:Ul.PAN}),yt(this,"touches",{ONE:Nl.ROTATE,TWO:Nl.DOLLY_PAN}),yt(this,"target0"),yt(this,"position0"),yt(this,"zoom0"),yt(this,"_domElementKeyEvents",null),yt(this,"getPolarAngle"),yt(this,"getAzimuthalAngle"),yt(this,"setPolarAngle"),yt(this,"setAzimuthalAngle"),yt(this,"getDistance"),yt(this,"getZoomScale"),yt(this,"listenToKeyEvents"),yt(this,"stopListenToKeyEvents"),yt(this,"saveState"),yt(this,"reset"),yt(this,"update"),yt(this,"connect"),yt(this,"dispose"),yt(this,"dollyIn"),yt(this,"dollyOut"),yt(this,"getScale"),yt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=Y=>{let we=A4(Y,2*Math.PI),Xe=c.phi;Xe<0&&(Xe+=2*Math.PI),we<0&&(we+=2*Math.PI);let Q=Math.abs(we-Xe);2*Math.PI-Q<Q&&(we<Xe?we+=2*Math.PI:Xe+=2*Math.PI),d.phi=we-Xe,r.update()},this.setAzimuthalAngle=Y=>{let we=A4(Y,2*Math.PI),Xe=c.theta;Xe<0&&(Xe+=2*Math.PI),we<0&&(we+=2*Math.PI);let Q=Math.abs(we-Xe);2*Math.PI-Q<Q&&(we<Xe?we+=2*Math.PI:Xe+=2*Math.PI),d.theta=we-Xe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",Ae),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ae),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Y=new j,we=new j(0,1,0),Xe=new Rr().setFromUnitVectors(e.up,we),Q=Xe.clone().invert(),Me=new j,ue=new Rr,Ge=2*Math.PI;return function(){const Qe=r.object.position;Xe.setFromUnitVectors(e.up,we),Q.copy(Xe).invert(),Y.copy(Qe).sub(r.target),Y.applyQuaternion(Xe),c.setFromVector3(Y),r.autoRotate&&l===a.NONE&&G(B()),r.enableDamping?(c.theta+=d.theta*r.dampingFactor,c.phi+=d.phi*r.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let ht=r.minAzimuthAngle,ct=r.maxAzimuthAngle;isFinite(ht)&&isFinite(ct)&&(ht<-Math.PI?ht+=Ge:ht>Math.PI&&(ht-=Ge),ct<-Math.PI?ct+=Ge:ct>Math.PI&&(ct-=Ge),ht<=ct?c.theta=Math.max(ht,Math.min(ct,c.theta)):c.theta=c.theta>(ht+ct)/2?Math.max(ht,c.theta):Math.min(ct,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&C||r.object.isOrthographicCamera?c.radius=J(c.radius):c.radius=J(c.radius*p),Y.setFromSpherical(c),Y.applyQuaternion(Q),Qe.copy(r.target).add(Y),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let lt=!1;if(r.zoomToCursor&&C){let dt=null;if(r.object instanceof Bn&&r.object.isPerspectiveCamera){const Ft=Y.length();dt=J(Ft*p);const Ot=Ft-dt;r.object.position.addScaledVector(R,Ot),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Ft=new j(L.x,L.y,0);Ft.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),lt=!0;const Ot=new j(L.x,L.y,0);Ot.unproject(r.object),r.object.position.sub(Ot).add(Ft),r.object.updateMatrixWorld(),dt=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;dt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(dt).add(r.object.position):(u0.origin.copy(r.object.position),u0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(u0.direction))<fve?e.lookAt(r.target):(T4.setFromNormalAndCoplanarPoint(r.object.up,r.target),u0.intersectPlane(T4,r.target))))}else r.object instanceof Na&&r.object.isOrthographicCamera&&(lt=p!==1,lt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,C=!1,lt||Me.distanceToSquared(r.object.position)>u||8*(1-ue.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Me.copy(r.object.position),ue.copy(r.object.quaternion),lt=!1,!0):!1}})(),this.connect=Y=>{r.domElement=Y,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",de),r.domElement.addEventListener("pointerdown",Ke),r.domElement.addEventListener("pointercancel",O),r.domElement.addEventListener("wheel",ge)},this.dispose=()=>{var Y,we,Xe,Q,Me,ue;r.domElement&&(r.domElement.style.touchAction="auto"),(Y=r.domElement)==null||Y.removeEventListener("contextmenu",de),(we=r.domElement)==null||we.removeEventListener("pointerdown",Ke),(Xe=r.domElement)==null||Xe.removeEventListener("pointercancel",O),(Q=r.domElement)==null||Q.removeEventListener("wheel",ge),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",V),(ue=r.domElement)==null||ue.ownerDocument.removeEventListener("pointerup",O),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ae)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new zS,d=new zS;let p=1;const m=new j,g=new Oe,_=new Oe,x=new Oe,v=new Oe,S=new Oe,w=new Oe,M=new Oe,T=new Oe,A=new Oe,R=new j,L=new Oe;let C=!1;const P=[],F={};function B(){return 2*Math.PI/60/60*r.autoRotateSpeed}function W(){return Math.pow(.95,r.zoomSpeed)}function G(Y){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=Y:d.theta-=Y}function q(Y){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=Y:d.phi-=Y}const ee=(()=>{const Y=new j;return function(Xe,Q){Y.setFromMatrixColumn(Q,0),Y.multiplyScalar(-Xe),m.add(Y)}})(),ne=(()=>{const Y=new j;return function(Xe,Q){r.screenSpacePanning===!0?Y.setFromMatrixColumn(Q,1):(Y.setFromMatrixColumn(Q,0),Y.crossVectors(r.object.up,Y)),Y.multiplyScalar(Xe),m.add(Y)}})(),U=(()=>{const Y=new j;return function(Xe,Q){const Me=r.domElement;if(Me&&r.object instanceof Bn&&r.object.isPerspectiveCamera){const ue=r.object.position;Y.copy(ue).sub(r.target);let Ge=Y.length();Ge*=Math.tan(r.object.fov/2*Math.PI/180),ee(2*Xe*Ge/Me.clientHeight,r.object.matrix),ne(2*Q*Ge/Me.clientHeight,r.object.matrix)}else Me&&r.object instanceof Na&&r.object.isOrthographicCamera?(ee(Xe*(r.object.right-r.object.left)/r.object.zoom/Me.clientWidth,r.object.matrix),ne(Q*(r.object.top-r.object.bottom)/r.object.zoom/Me.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function z(Y){r.object instanceof Bn&&r.object.isPerspectiveCamera||r.object instanceof Na&&r.object.isOrthographicCamera?p=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(Y){z(p/Y)}function N(Y){z(p*Y)}function I(Y){if(!r.zoomToCursor||!r.domElement)return;C=!0;const we=r.domElement.getBoundingClientRect(),Xe=Y.clientX-we.left,Q=Y.clientY-we.top,Me=we.width,ue=we.height;L.x=Xe/Me*2-1,L.y=-(Q/ue)*2+1,R.set(L.x,L.y,1).unproject(r.object).sub(r.object.position).normalize()}function J(Y){return Math.max(r.minDistance,Math.min(r.maxDistance,Y))}function Z(Y){g.set(Y.clientX,Y.clientY)}function te(Y){I(Y),M.set(Y.clientX,Y.clientY)}function ie(Y){v.set(Y.clientX,Y.clientY)}function se(Y){_.set(Y.clientX,Y.clientY),x.subVectors(_,g).multiplyScalar(r.rotateSpeed);const we=r.domElement;we&&(G(2*Math.PI*x.x/we.clientHeight),q(2*Math.PI*x.y/we.clientHeight)),g.copy(_),r.update()}function _e(Y){T.set(Y.clientX,Y.clientY),A.subVectors(T,M),A.y>0?k(W()):A.y<0&&N(W()),M.copy(T),r.update()}function Ie(Y){S.set(Y.clientX,Y.clientY),w.subVectors(S,v).multiplyScalar(r.panSpeed),U(w.x,w.y),v.copy(S),r.update()}function We(Y){I(Y),Y.deltaY<0?N(W()):Y.deltaY>0&&k(W()),r.update()}function Se(Y){let we=!1;switch(Y.code){case r.keys.UP:U(0,r.keyPanSpeed),we=!0;break;case r.keys.BOTTOM:U(0,-r.keyPanSpeed),we=!0;break;case r.keys.LEFT:U(r.keyPanSpeed,0),we=!0;break;case r.keys.RIGHT:U(-r.keyPanSpeed,0),we=!0;break}we&&(Y.preventDefault(),r.update())}function H(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const Y=.5*(P[0].pageX+P[1].pageX),we=.5*(P[0].pageY+P[1].pageY);g.set(Y,we)}}function be(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const Y=.5*(P[0].pageX+P[1].pageX),we=.5*(P[0].pageY+P[1].pageY);v.set(Y,we)}}function he(){const Y=P[0].pageX-P[1].pageX,we=P[0].pageY-P[1].pageY,Xe=Math.sqrt(Y*Y+we*we);M.set(0,Xe)}function Te(){r.enableZoom&&he(),r.enablePan&&be()}function pe(){r.enableZoom&&he(),r.enableRotate&&H()}function Be(Y){if(P.length==1)_.set(Y.pageX,Y.pageY);else{const Xe=De(Y),Q=.5*(Y.pageX+Xe.x),Me=.5*(Y.pageY+Xe.y);_.set(Q,Me)}x.subVectors(_,g).multiplyScalar(r.rotateSpeed);const we=r.domElement;we&&(G(2*Math.PI*x.x/we.clientHeight),q(2*Math.PI*x.y/we.clientHeight)),g.copy(_)}function ye(Y){if(P.length==1)S.set(Y.pageX,Y.pageY);else{const we=De(Y),Xe=.5*(Y.pageX+we.x),Q=.5*(Y.pageY+we.y);S.set(Xe,Q)}w.subVectors(S,v).multiplyScalar(r.panSpeed),U(w.x,w.y),v.copy(S)}function Re(Y){const we=De(Y),Xe=Y.pageX-we.x,Q=Y.pageY-we.y,Me=Math.sqrt(Xe*Xe+Q*Q);T.set(0,Me),A.set(0,Math.pow(T.y/M.y,r.zoomSpeed)),k(A.y),M.copy(T)}function Ne(Y){r.enableZoom&&Re(Y),r.enablePan&&ye(Y)}function me(Y){r.enableZoom&&Re(Y),r.enableRotate&&Be(Y)}function Ke(Y){var we,Xe;r.enabled!==!1&&(P.length===0&&((we=r.domElement)==null||we.ownerDocument.addEventListener("pointermove",V),(Xe=r.domElement)==null||Xe.ownerDocument.addEventListener("pointerup",O)),qe(Y),Y.pointerType==="touch"?Fe(Y):oe(Y))}function V(Y){r.enabled!==!1&&(Y.pointerType==="touch"?ke(Y):Ue(Y))}function O(Y){var we,Xe,Q;je(Y),P.length===0&&((we=r.domElement)==null||we.releasePointerCapture(Y.pointerId),(Xe=r.domElement)==null||Xe.ownerDocument.removeEventListener("pointermove",V),(Q=r.domElement)==null||Q.ownerDocument.removeEventListener("pointerup",O)),r.dispatchEvent(o),l=a.NONE}function oe(Y){let we;switch(Y.button){case 0:we=r.mouseButtons.LEFT;break;case 1:we=r.mouseButtons.MIDDLE;break;case 2:we=r.mouseButtons.RIGHT;break;default:we=-1}switch(we){case Ul.DOLLY:if(r.enableZoom===!1)return;te(Y),l=a.DOLLY;break;case Ul.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enablePan===!1)return;ie(Y),l=a.PAN}else{if(r.enableRotate===!1)return;Z(Y),l=a.ROTATE}break;case Ul.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enableRotate===!1)return;Z(Y),l=a.ROTATE}else{if(r.enablePan===!1)return;ie(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ue(Y){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;se(Y);break;case a.DOLLY:if(r.enableZoom===!1)return;_e(Y);break;case a.PAN:if(r.enablePan===!1)return;Ie(Y);break}}function ge(Y){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),r.dispatchEvent(s),We(Y),r.dispatchEvent(o))}function Ae(Y){r.enabled===!1||r.enablePan===!1||Se(Y)}function Fe(Y){switch(He(Y),P.length){case 1:switch(r.touches.ONE){case Nl.ROTATE:if(r.enableRotate===!1)return;H(),l=a.TOUCH_ROTATE;break;case Nl.PAN:if(r.enablePan===!1)return;be(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Nl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Te(),l=a.TOUCH_DOLLY_PAN;break;case Nl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;pe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ke(Y){switch(He(Y),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Be(Y),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ye(Y),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ne(Y),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;me(Y),r.update();break;default:l=a.NONE}}function de(Y){r.enabled!==!1&&Y.preventDefault()}function qe(Y){P.push(Y)}function je(Y){delete F[Y.pointerId];for(let we=0;we<P.length;we++)if(P[we].pointerId==Y.pointerId){P.splice(we,1);return}}function He(Y){let we=F[Y.pointerId];we===void 0&&(we=new Oe,F[Y.pointerId]=we),we.set(Y.pageX,Y.pageY)}function De(Y){const we=Y.pointerId===P[0].pointerId?P[1]:P[0];return F[we.pointerId]}this.dollyIn=(Y=W())=>{N(Y),r.update()},this.dollyOut=(Y=W())=>{k(Y),r.update()},this.getScale=()=>p,this.setScale=Y=>{z(Y),r.update()},this.getZoomScale=()=>W(),n!==void 0&&this.connect(n),this.update()}};function dve(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(p){return p&&p.isWorkerModule&&(e(p,function(m){if(m instanceof Error)throw m}),p=t[p.id].value),p}),u=r("<"+a+">.init",u),c&&(c=r("<"+a+">.getTransferables",c));var d=null;typeof u=="function"?d=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:d,getTransferables:c},s(d)}catch(p){p&&p.noLog||console.error(p),s(p)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(d){return s(d instanceof Error?d:new Error(""+d))}):c(u)}catch(d){s(d)}function c(d){try{var p=t[a].getTransferables&&t[a].getTransferables(d);(!p||!Array.isArray(p)||!p.length)&&(p=void 0),s(d,p)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function pve(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var Ik=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return Ik=function(){return t},t},mve=0,gve=0,b_=!1,Td=Object.create(null),Ad=Object.create(null),WS=Object.create(null);function Zf(t){if((!t||typeof t.init!="function")&&!b_)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,s=pve(t);i==null&&(i="#default");var o="workerModule"+ ++mve,a=t.name||o,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(b_=!0,c=Zf({workerId:i,name:"<"+a+"> function dependency: "+c.name,init:`function(){return (
`+N0(c)+`
)}`}),b_=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];if(!Ik())return s.apply(void 0,c);if(!l){l=C4(i,"registerModule",u.workerModuleData);var p=function(){l=null,Ad[i].delete(p)};(Ad[i]||(Ad[i]=new Set)).add(p)}return l.then(function(m){var g=m.isCallable;if(g)return C4(i,"callModule",{id:o,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:o,name:a,dependencies:e,init:N0(n),getTransferables:r&&N0(r)},u.onMainThread=s,u}function vve(t){Ad[t]&&Ad[t].forEach(function(e){e()}),Td[t]&&(Td[t].terminate(),delete Td[t])}function N0(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function yve(t){var e=Td[t];if(!e){var n=N0(dve);e=Td[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=WS[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete WS[s],o(i)}}return e}function C4(t,e,n){return new Promise(function(r,i){var s=++gve;WS[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},yve(t).postMessage({messageId:s,action:e,data:n})})}function Ok(){var t=function(e){function n(z,k,N,I,J,Z,te,ie){var se=1-te;ie.x=se*se*z+2*se*te*N+te*te*J,ie.y=se*se*k+2*se*te*I+te*te*Z}function r(z,k,N,I,J,Z,te,ie,se,_e){var Ie=1-se;_e.x=Ie*Ie*Ie*z+3*Ie*Ie*se*N+3*Ie*se*se*J+se*se*se*te,_e.y=Ie*Ie*Ie*k+3*Ie*Ie*se*I+3*Ie*se*se*Z+se*se*se*ie}function i(z,k){for(var N=/([MLQCZ])([^MLQCZ]*)/g,I,J,Z,te,ie;I=N.exec(z);){var se=I[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(_e){return parseFloat(_e)});switch(I[1]){case"M":te=J=se[0],ie=Z=se[1];break;case"L":(se[0]!==te||se[1]!==ie)&&k("L",te,ie,te=se[0],ie=se[1]);break;case"Q":{k("Q",te,ie,te=se[2],ie=se[3],se[0],se[1]);break}case"C":{k("C",te,ie,te=se[4],ie=se[5],se[0],se[1],se[2],se[3]);break}case"Z":(te!==J||ie!==Z)&&k("L",te,ie,J,Z);break}}}function s(z,k,N){N===void 0&&(N=16);var I={x:0,y:0};i(z,function(J,Z,te,ie,se,_e,Ie,We,Se){switch(J){case"L":k(Z,te,ie,se);break;case"Q":{for(var H=Z,be=te,he=1;he<N;he++)n(Z,te,_e,Ie,ie,se,he/(N-1),I),k(H,be,I.x,I.y),H=I.x,be=I.y;break}case"C":{for(var Te=Z,pe=te,Be=1;Be<N;Be++)r(Z,te,_e,Ie,We,Se,ie,se,Be/(N-1),I),k(Te,pe,I.x,I.y),Te=I.x,pe=I.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(z,k){var N=z.getContext?z.getContext("webgl",u):z,I=l.get(N);if(!I){let Te=function(me){var Ke=Z[me];if(!Ke&&(Ke=Z[me]=N.getExtension(me),!Ke))throw new Error(me+" not supported");return Ke},pe=function(me,Ke){var V=N.createShader(Ke);return N.shaderSource(V,me),N.compileShader(V),V},Be=function(me,Ke,V,O){if(!te[me]){var oe={},Ue={},ge=N.createProgram();N.attachShader(ge,pe(Ke,N.VERTEX_SHADER)),N.attachShader(ge,pe(V,N.FRAGMENT_SHADER)),N.linkProgram(ge),te[me]={program:ge,transaction:function(Fe){N.useProgram(ge),Fe({setUniform:function(de,qe){for(var je=[],He=arguments.length-2;He-- >0;)je[He]=arguments[He+2];var De=Ue[qe]||(Ue[qe]=N.getUniformLocation(ge,qe));N["uniform"+de].apply(N,[De].concat(je))},setAttribute:function(de,qe,je,He,De){var Y=oe[de];Y||(Y=oe[de]={buf:N.createBuffer(),loc:N.getAttribLocation(ge,de),data:null}),N.bindBuffer(N.ARRAY_BUFFER,Y.buf),N.vertexAttribPointer(Y.loc,qe,N.FLOAT,!1,0,0),N.enableVertexAttribArray(Y.loc),J?N.vertexAttribDivisor(Y.loc,He):Te("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Y.loc,He),De!==Y.data&&(N.bufferData(N.ARRAY_BUFFER,De,je),Y.data=De)}})}}}te[me].transaction(O)},ye=function(me,Ke){se++;try{N.activeTexture(N.TEXTURE0+se);var V=ie[me];V||(V=ie[me]=N.createTexture(),N.bindTexture(N.TEXTURE_2D,V),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.NEAREST),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST)),N.bindTexture(N.TEXTURE_2D,V),Ke(V,se)}finally{se--}},Re=function(me,Ke,V){var O=N.createFramebuffer();_e.push(O),N.bindFramebuffer(N.FRAMEBUFFER,O),N.activeTexture(N.TEXTURE0+Ke),N.bindTexture(N.TEXTURE_2D,me),N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,me,0);try{V(O)}finally{N.deleteFramebuffer(O),N.bindFramebuffer(N.FRAMEBUFFER,_e[--_e.length-1]||null)}},Ne=function(){Z={},te={},ie={},se=-1,_e.length=0};var Ie=Te,We=pe,Se=Be,H=ye,be=Re,he=Ne,J=typeof WebGL2RenderingContext<"u"&&N instanceof WebGL2RenderingContext,Z={},te={},ie={},se=-1,_e=[];N.canvas.addEventListener("webglcontextlost",function(me){Ne(),me.preventDefault()},!1),l.set(N,I={gl:N,isWebGL2:J,getExtension:Te,withProgram:Be,withTexture:ye,withTextureFramebuffer:Re,handleContextLoss:Ne})}k(I)}function d(z,k,N,I,J,Z,te,ie){te===void 0&&(te=15),ie===void 0&&(ie=null),c(z,function(se){var _e=se.gl,Ie=se.withProgram,We=se.withTexture;We("copy",function(Se,H){_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,J,Z,0,_e.RGBA,_e.UNSIGNED_BYTE,k),Ie("copy",o,a,function(be){var he=be.setUniform,Te=be.setAttribute;Te("aUV",2,_e.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),he("1i","image",H),_e.bindFramebuffer(_e.FRAMEBUFFER,ie||null),_e.disable(_e.BLEND),_e.colorMask(te&8,te&4,te&2,te&1),_e.viewport(N,I,J,Z),_e.scissor(N,I,J,Z),_e.drawArrays(_e.TRIANGLES,0,3)})})})}function p(z,k,N){var I=z.width,J=z.height;c(z,function(Z){var te=Z.gl,ie=new Uint8Array(I*J*4);te.readPixels(0,0,I,J,te.RGBA,te.UNSIGNED_BYTE,ie),z.width=k,z.height=N,d(te,ie,0,0,I,J)})}var m=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:d,resizeWebGLCanvasWithoutClearing:p});function g(z,k,N,I,J,Z){Z===void 0&&(Z=1);var te=new Uint8Array(z*k),ie=I[2]-I[0],se=I[3]-I[1],_e=[];s(N,function(Te,pe,Be,ye){_e.push({x1:Te,y1:pe,x2:Be,y2:ye,minX:Math.min(Te,Be),minY:Math.min(pe,ye),maxX:Math.max(Te,Be),maxY:Math.max(pe,ye)})}),_e.sort(function(Te,pe){return Te.maxX-pe.maxX});for(var Ie=0;Ie<z;Ie++)for(var We=0;We<k;We++){var Se=be(I[0]+ie*(Ie+.5)/z,I[1]+se*(We+.5)/k),H=Math.pow(1-Math.abs(Se)/J,Z)/2;Se<0&&(H=1-H),H=Math.max(0,Math.min(255,Math.round(H*255))),te[We*z+Ie]=H}return te;function be(Te,pe){for(var Be=1/0,ye=1/0,Re=_e.length;Re--;){var Ne=_e[Re];if(Ne.maxX+ye<=Te)break;if(Te+ye>Ne.minX&&pe-ye<Ne.maxY&&pe+ye>Ne.minY){var me=v(Te,pe,Ne.x1,Ne.y1,Ne.x2,Ne.y2);me<Be&&(Be=me,ye=Math.sqrt(Be))}}return he(Te,pe)&&(ye=-ye),ye}function he(Te,pe){for(var Be=0,ye=_e.length;ye--;){var Re=_e[ye];if(Re.maxX<=Te)break;var Ne=Re.y1>pe!=Re.y2>pe&&Te<(Re.x2-Re.x1)*(pe-Re.y1)/(Re.y2-Re.y1)+Re.x1;Ne&&(Be+=Re.y1<Re.y2?1:-1)}return Be!==0}}function _(z,k,N,I,J,Z,te,ie,se,_e){Z===void 0&&(Z=1),ie===void 0&&(ie=0),se===void 0&&(se=0),_e===void 0&&(_e=0),x(z,k,N,I,J,Z,te,null,ie,se,_e)}function x(z,k,N,I,J,Z,te,ie,se,_e,Ie){Z===void 0&&(Z=1),se===void 0&&(se=0),_e===void 0&&(_e=0),Ie===void 0&&(Ie=0);for(var We=g(z,k,N,I,J,Z),Se=new Uint8Array(We.length*4),H=0;H<We.length;H++)Se[H*4+Ie]=We[H];d(te,Se,se,_e,z,k,1<<3-Ie,ie)}function v(z,k,N,I,J,Z){var te=J-N,ie=Z-I,se=te*te+ie*ie,_e=se?Math.max(0,Math.min(1,((z-N)*te+(k-I)*ie)/se)):0,Ie=z-(N+_e*te),We=k-(I+_e*ie);return Ie*Ie+We*We}var S=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:_,generateIntoFramebuffer:x}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",T="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",A=new Float32Array([0,0,2,0,0,2]),R=null,L=!1,C={},P=new WeakMap;function F(z){if(!L&&!q(z))throw new Error("WebGL generation not supported")}function B(z,k,N,I,J,Z,te){if(Z===void 0&&(Z=1),te===void 0&&(te=null),!te&&(te=R,!te)){var ie=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ie)throw new Error("OffscreenCanvas or DOM canvas not supported");te=R=ie.getContext("webgl",{depth:!1})}F(te);var se=new Uint8Array(z*k*4);c(te,function(Se){var H=Se.gl,be=Se.withTexture,he=Se.withTextureFramebuffer;be("readable",function(Te,pe){H.texImage2D(H.TEXTURE_2D,0,H.RGBA,z,k,0,H.RGBA,H.UNSIGNED_BYTE,null),he(Te,pe,function(Be){G(z,k,N,I,J,Z,H,Be,0,0,0),H.readPixels(0,0,z,k,H.RGBA,H.UNSIGNED_BYTE,se)})})});for(var _e=new Uint8Array(z*k),Ie=0,We=0;Ie<se.length;Ie+=4)_e[We++]=se[Ie];return _e}function W(z,k,N,I,J,Z,te,ie,se,_e){Z===void 0&&(Z=1),ie===void 0&&(ie=0),se===void 0&&(se=0),_e===void 0&&(_e=0),G(z,k,N,I,J,Z,te,null,ie,se,_e)}function G(z,k,N,I,J,Z,te,ie,se,_e,Ie){Z===void 0&&(Z=1),se===void 0&&(se=0),_e===void 0&&(_e=0),Ie===void 0&&(Ie=0),F(te);var We=[];s(N,function(Se,H,be,he){We.push(Se,H,be,he)}),We=new Float32Array(We),c(te,function(Se){var H=Se.gl,be=Se.isWebGL2,he=Se.getExtension,Te=Se.withProgram,pe=Se.withTexture,Be=Se.withTextureFramebuffer,ye=Se.handleContextLoss;if(pe("rawDistances",function(Re,Ne){(z!==Re._lastWidth||k!==Re._lastHeight)&&H.texImage2D(H.TEXTURE_2D,0,H.RGBA,Re._lastWidth=z,Re._lastHeight=k,0,H.RGBA,H.UNSIGNED_BYTE,null),Te("main",w,M,function(me){var Ke=me.setAttribute,V=me.setUniform,O=!be&&he("ANGLE_instanced_arrays"),oe=!be&&he("EXT_blend_minmax");Ke("aUV",2,H.STATIC_DRAW,0,A),Ke("aLineSegment",4,H.DYNAMIC_DRAW,1,We),V.apply(void 0,["4f","uGlyphBounds"].concat(I)),V("1f","uMaxDistance",J),V("1f","uExponent",Z),Be(Re,Ne,function(Ue){H.enable(H.BLEND),H.colorMask(!0,!0,!0,!0),H.viewport(0,0,z,k),H.scissor(0,0,z,k),H.blendFunc(H.ONE,H.ONE),H.blendEquationSeparate(H.FUNC_ADD,be?H.MAX:oe.MAX_EXT),H.clear(H.COLOR_BUFFER_BIT),be?H.drawArraysInstanced(H.TRIANGLES,0,3,We.length/4):O.drawArraysInstancedANGLE(H.TRIANGLES,0,3,We.length/4)})}),Te("post",o,T,function(me){me.setAttribute("aUV",2,H.STATIC_DRAW,0,A),me.setUniform("1i","tex",Ne),H.bindFramebuffer(H.FRAMEBUFFER,ie),H.disable(H.BLEND),H.colorMask(Ie===0,Ie===1,Ie===2,Ie===3),H.viewport(se,_e,z,k),H.scissor(se,_e,z,k),H.drawArrays(H.TRIANGLES,0,3)})}),H.isContextLost())throw ye(),new Error("webgl context lost")})}function q(z){var k=!z||z===R?C:z.canvas||z,N=P.get(k);if(N===void 0){L=!0;var I=null;try{var J=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Z=B(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,z);N=Z&&J.length===Z.length&&Z.every(function(te,ie){return te===J[ie]}),N||(I="bad trial run results",console.info(J,Z))}catch(te){N=!1,I=te.message}I&&console.warn("WebGL SDF generation not supported:",I),L=!1,P.set(k,N)}return N}var ee=Object.freeze({__proto__:null,generate:B,generateIntoCanvas:W,generateIntoFramebuffer:G,isSupported:q});function ne(z,k,N,I,J,Z){J===void 0&&(J=Math.max(I[2]-I[0],I[3]-I[1])/2),Z===void 0&&(Z=1);try{return B.apply(ee,arguments)}catch(te){return console.info("WebGL SDF generation failed, falling back to JS",te),g.apply(S,arguments)}}function U(z,k,N,I,J,Z,te,ie,se,_e){J===void 0&&(J=Math.max(I[2]-I[0],I[3]-I[1])/2),Z===void 0&&(Z=1),ie===void 0&&(ie=0),se===void 0&&(se=0),_e===void 0&&(_e=0);try{return W.apply(ee,arguments)}catch(Ie){return console.info("WebGL SDF generation failed, falling back to JS",Ie),_.apply(S,arguments)}}return e.forEachPathCommand=i,e.generate=ne,e.generateIntoCanvas=U,e.javascript=S,e.pathToLineSegments=s,e.webgl=ee,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function xve(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ye,Re){r[ye]=1<<Re+1,i[r[ye]]=ye}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,c=null;function d(){if(!c){c=new Map;var ye=function(Ne){if(n.hasOwnProperty(Ne)){var me=0;n[Ne].split(",").forEach(function(Ke){var V=Ke.split("+"),O=V[0],oe=V[1];O=parseInt(O,36),oe=oe?parseInt(oe,36):0,c.set(me+=O,r[Ne]);for(var Ue=0;Ue<oe;Ue++)c.set(++me,r[Ne])})}};for(var Re in n)ye(Re)}}function p(ye){return d(),c.get(ye.codePointAt(0))||r.L}function m(ye){return i[p(ye)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function _(ye,Re){var Ne=36,me=0,Ke=new Map,V=Re&&new Map,O;return ye.split(",").forEach(function oe(Ue){if(Ue.indexOf("+")!==-1)for(var ge=+Ue;ge--;)oe(O);else{O=Ue;var Ae=Ue.split(">"),Fe=Ae[0],ke=Ae[1];Fe=String.fromCodePoint(me+=parseInt(Fe,Ne)),ke=String.fromCodePoint(me+=parseInt(ke,Ne)),Ke.set(Fe,ke),Re&&V.set(ke,Fe)}}),{map:Ke,reverseMap:V}}var x,v,S;function w(){if(!x){var ye=_(g.pairs,!0),Re=ye.map,Ne=ye.reverseMap;x=Re,v=Ne,S=_(g.canonical,!1).map}}function M(ye){return w(),x.get(ye)||null}function T(ye){return w(),v.get(ye)||null}function A(ye){return w(),S.get(ye)||null}var R=r.L,L=r.R,C=r.EN,P=r.ES,F=r.ET,B=r.AN,W=r.CS,G=r.B,q=r.S,ee=r.ON,ne=r.BN,U=r.NSM,z=r.AL,k=r.LRO,N=r.RLO,I=r.LRE,J=r.RLE,Z=r.PDF,te=r.LRI,ie=r.RLI,se=r.FSI,_e=r.PDI;function Ie(ye,Re){for(var Ne=125,me=new Uint32Array(ye.length),Ke=0;Ke<ye.length;Ke++)me[Ke]=p(ye[Ke]);var V=new Map;function O(sr,Nr){var In=me[sr];me[sr]=Nr,V.set(In,V.get(In)-1),In&a&&V.set(a,V.get(a)-1),V.set(Nr,(V.get(Nr)||0)+1),Nr&a&&V.set(a,(V.get(a)||0)+1)}for(var oe=new Uint8Array(ye.length),Ue=new Map,ge=[],Ae=null,Fe=0;Fe<ye.length;Fe++)Ae||ge.push(Ae={start:Fe,end:ye.length-1,level:Re==="rtl"?1:Re==="ltr"?0:Ou(Fe,!1)}),me[Fe]&G&&(Ae.end=Fe,Ae=null);for(var ke=J|I|N|k|s|_e|Z|G,de=function(sr){return sr+(sr&1?1:2)},qe=function(sr){return sr+(sr&1?2:1)},je=0;je<ge.length;je++){Ae=ge[je];var He=[{_level:Ae.level,_override:0,_isolate:0}],De=void 0,Y=0,we=0,Xe=0;V.clear();for(var Q=Ae.start;Q<=Ae.end;Q++){var Me=me[Q];if(De=He[He.length-1],V.set(Me,(V.get(Me)||0)+1),Me&a&&V.set(a,(V.get(a)||0)+1),Me&ke)if(Me&(J|I)){oe[Q]=De._level;var ue=(Me===J?qe:de)(De._level);ue<=Ne&&!Y&&!we?He.push({_level:ue,_override:0,_isolate:0}):Y||we++}else if(Me&(N|k)){oe[Q]=De._level;var Ge=(Me===N?qe:de)(De._level);Ge<=Ne&&!Y&&!we?He.push({_level:Ge,_override:Me&N?L:R,_isolate:0}):Y||we++}else if(Me&s){Me&se&&(Me=Ou(Q+1,!0)===1?ie:te),oe[Q]=De._level,De._override&&O(Q,De._override);var ze=(Me===ie?qe:de)(De._level);ze<=Ne&&Y===0&&we===0?(Xe++,He.push({_level:ze,_override:0,_isolate:1,_isolInitIndex:Q})):Y++}else if(Me&_e){if(Y>0)Y--;else if(Xe>0){for(we=0;!He[He.length-1]._isolate;)He.pop();var Qe=He[He.length-1]._isolInitIndex;Qe!=null&&(Ue.set(Qe,Q),Ue.set(Q,Qe)),He.pop(),Xe--}De=He[He.length-1],oe[Q]=De._level,De._override&&O(Q,De._override)}else Me&Z?(Y===0&&(we>0?we--:!De._isolate&&He.length>1&&(He.pop(),De=He[He.length-1])),oe[Q]=De._level):Me&G&&(oe[Q]=Ae.level);else oe[Q]=De._level,De._override&&Me!==ne&&O(Q,De._override)}for(var ht=[],ct=null,lt=Ae.start;lt<=Ae.end;lt++){var dt=me[lt];if(!(dt&l)){var Ft=oe[lt],Ot=dt&s,cn=dt===_e;ct&&Ft===ct._level?(ct._end=lt,ct._endsWithIsolInit=Ot):ht.push(ct={_start:lt,_end:lt,_level:Ft,_startsWithPDI:cn,_endsWithIsolInit:Ot})}}for(var vr=[],fi=0;fi<ht.length;fi++){var tr=ht[fi];if(!tr._startsWithPDI||tr._startsWithPDI&&!Ue.has(tr._start)){for(var hi=[ct=tr],nr=void 0;ct&&ct._endsWithIsolInit&&(nr=Ue.get(ct._end))!=null;)for(var Yr=fi+1;Yr<ht.length;Yr++)if(ht[Yr]._start===nr){hi.push(ct=ht[Yr]);break}for(var Yn=[],os=0;os<hi.length;os++)for(var Pu=hi[os],$=Pu._start;$<=Pu._end;$++)Yn.push($);for(var ve=oe[Yn[0]],Pe=Ae.level,fe=Yn[0]-1;fe>=0;fe--)if(!(me[fe]&l)){Pe=oe[fe];break}var Le=Yn[Yn.length-1],rt=oe[Le],pt=Ae.level;if(!(me[Le]&s)){for(var mt=Le+1;mt<=Ae.end;mt++)if(!(me[mt]&l)){pt=oe[mt];break}}vr.push({_seqIndices:Yn,_sosType:Math.max(Pe,ve)%2?L:R,_eosType:Math.max(pt,rt)%2?L:R})}}for(var xt=0;xt<vr.length;xt++){var Et=vr[xt],Ve=Et._seqIndices,gt=Et._sosType,Yt=Et._eosType,Gt=oe[Ve[0]]&1?L:R;if(V.get(U))for(var rr=0;rr<Ve.length;rr++){var yr=Ve[rr];if(me[yr]&U){for(var qt=gt,St=rr-1;St>=0;St--)if(!(me[Ve[St]]&l)){qt=me[Ve[St]];break}O(yr,qt&(s|_e)?ee:qt)}}if(V.get(C))for(var zt=0;zt<Ve.length;zt++){var wt=Ve[zt];if(me[wt]&C)for(var Dn=zt-1;Dn>=-1;Dn--){var An=Dn===-1?gt:me[Ve[Dn]];if(An&o){An===z&&O(wt,B);break}}}if(V.get(z))for(var fn=0;fn<Ve.length;fn++){var qr=Ve[fn];me[qr]&z&&O(qr,L)}if(V.get(P)||V.get(W))for(var Qt=1;Qt<Ve.length-1;Qt++){var nn=Ve[Qt];if(me[nn]&(P|W)){for(var Dr=0,zn=0,Ls=Qt-1;Ls>=0&&(Dr=me[Ve[Ls]],!!(Dr&l));Ls--);for(var Ds=Qt+1;Ds<Ve.length&&(zn=me[Ve[Ds]],!!(zn&l));Ds++);Dr===zn&&(me[nn]===P?Dr===C:Dr&(C|B))&&O(nn,Dr)}}if(V.get(C))for(var xr=0;xr<Ve.length;xr++){var di=Ve[xr];if(me[di]&C){for(var Ru=xr-1;Ru>=0&&me[Ve[Ru]]&(F|l);Ru--)O(Ve[Ru],C);for(xr++;xr<Ve.length&&me[Ve[xr]]&(F|l|C);xr++)me[Ve[xr]]!==C&&O(Ve[xr],C)}}if(V.get(F)||V.get(P)||V.get(W))for(var nl=0;nl<Ve.length;nl++){var tm=Ve[nl];if(me[tm]&(F|P|W)){O(tm,ee);for(var eo=nl-1;eo>=0&&me[Ve[eo]]&l;eo--)O(Ve[eo],ee);for(var to=nl+1;to<Ve.length&&me[Ve[to]]&l;to++)O(Ve[to],ee)}}if(V.get(C))for(var no=0,rl=gt;no<Ve.length;no++){var nm=Ve[no],Jf=me[nm];Jf&C?rl===R&&O(nm,R):Jf&o&&(rl=Jf)}if(V.get(a)){var ro=L|C|B,Lu=ro|R,Is=[];{for(var Xo=[],Os=0;Os<Ve.length;Os++)if(me[Ve[Os]]&a){var Nt=ye[Ve[Os]],Qf=void 0;if(M(Nt)!==null)if(Xo.length<63)Xo.push({char:Nt,seqIndex:Os});else break;else if((Qf=T(Nt))!==null)for(var io=Xo.length-1;io>=0;io--){var Du=Xo[io].char;if(Du===Qf||Du===T(A(Nt))||M(A(Du))===Nt){Is.push([Xo[io].seqIndex,Os]),Xo.length=io;break}}}Is.sort(function(sr,Nr){return sr[0]-Nr[0]})}for(var eh=0;eh<Is.length;eh++){for(var rm=Is[eh],gn=rm[0],il=rm[1],im=!1,Ir=0,th=gn+1;th<il;th++){var sl=Ve[th];if(me[sl]&Lu){im=!0;var pi=me[sl]&ro?L:R;if(pi===Gt){Ir=pi;break}}}if(im&&!Ir){Ir=gt;for(var nh=gn-1;nh>=0;nh--){var sm=Ve[nh];if(me[sm]&Lu){var mi=me[sm]&ro?L:R;mi!==Gt?Ir=mi:Ir=Gt;break}}}if(Ir){if(me[Ve[gn]]=me[Ve[il]]=Ir,Ir!==Gt){for(var Or=gn+1;Or<Ve.length;Or++)if(!(me[Ve[Or]]&l)){p(ye[Ve[Or]])&U&&(me[Ve[Or]]=Ir);break}}if(Ir!==Gt){for(var Us=il+1;Us<Ve.length;Us++)if(!(me[Ve[Us]]&l)){p(ye[Ve[Us]])&U&&(me[Ve[Us]]=Ir);break}}}}for(var Fi=0;Fi<Ve.length;Fi++)if(me[Ve[Fi]]&a){for(var rh=Fi,ih=Fi,Kr=gt,ol=Fi-1;ol>=0;ol--)if(me[Ve[ol]]&l)rh=ol;else{Kr=me[Ve[ol]]&ro?L:R;break}for(var al=Yt,ll=Fi+1;ll<Ve.length;ll++)if(me[Ve[ll]]&(a|l))ih=ll;else{al=me[Ve[ll]]&ro?L:R;break}for(var Ur=rh;Ur<=ih;Ur++)me[Ve[Ur]]=Kr===al?Kr:Gt;Fi=ih}}}for(var ir=Ae.start;ir<=Ae.end;ir++){var Iu=oe[ir],as=me[ir];if(Iu&1?as&(R|C|B)&&oe[ir]++:as&L?oe[ir]++:as&(B|C)&&(oe[ir]+=2),as&l&&(oe[ir]=ir===0?Ae.level:oe[ir-1]),ir===Ae.end||p(ye[ir])&(q|G))for(var Yo=ir;Yo>=0&&p(ye[Yo])&u;Yo--)oe[Yo]=Ae.level}}return{levels:oe,paragraphs:ge};function Ou(sr,Nr){for(var In=sr;In<ye.length;In++){var On=me[In];if(On&(L|z))return 1;if(On&(G|R)||Nr&&On===_e)return 0;if(On&s){var gi=om(In);In=gi===-1?ye.length:gi}}return 0}function om(sr){for(var Nr=1,In=sr+1;In<ye.length;In++){var On=me[In];if(On&G)break;if(On&_e){if(--Nr===0)return In}else On&s&&Nr++}return-1}}var We="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Se;function H(){if(!Se){var ye=_(We,!0),Re=ye.map,Ne=ye.reverseMap;Ne.forEach(function(me,Ke){Re.set(Ke,me)}),Se=Re}}function be(ye){return H(),Se.get(ye)||null}function he(ye,Re,Ne,me){var Ke=ye.length;Ne=Math.max(0,Ne==null?0:+Ne),me=Math.min(Ke-1,me==null?Ke-1:+me);for(var V=new Map,O=Ne;O<=me;O++)if(Re[O]&1){var oe=be(ye[O]);oe!==null&&V.set(O,oe)}return V}function Te(ye,Re,Ne,me){var Ke=ye.length;Ne=Math.max(0,Ne==null?0:+Ne),me=Math.min(Ke-1,me==null?Ke-1:+me);var V=[];return Re.paragraphs.forEach(function(O){var oe=Math.max(Ne,O.start),Ue=Math.min(me,O.end);if(oe<Ue){for(var ge=Re.levels.slice(oe,Ue+1),Ae=Ue;Ae>=oe&&p(ye[Ae])&u;Ae--)ge[Ae]=O.level;for(var Fe=O.level,ke=1/0,de=0;de<ge.length;de++){var qe=ge[de];qe>Fe&&(Fe=qe),qe<ke&&(ke=qe|1)}for(var je=Fe;je>=ke;je--)for(var He=0;He<ge.length;He++)if(ge[He]>=je){for(var De=He;He+1<ge.length&&ge[He+1]>=je;)He++;He>De&&V.push([De+oe,He+oe])}}}),V}function pe(ye,Re,Ne,me){var Ke=Be(ye,Re,Ne,me),V=[].concat(ye);return Ke.forEach(function(O,oe){V[oe]=(Re.levels[O]&1?be(ye[O]):null)||ye[O]}),V.join("")}function Be(ye,Re,Ne,me){for(var Ke=Te(ye,Re,Ne,me),V=[],O=0;O<ye.length;O++)V[O]=O;return Ke.forEach(function(oe){for(var Ue=oe[0],ge=oe[1],Ae=V.slice(Ue,ge+1),Fe=Ae.length;Fe--;)V[ge-Fe]=Ae[Fe]}),V}return e.closingToOpeningBracket=T,e.getBidiCharType=p,e.getBidiCharTypeName=m,e.getCanonicalBracket=A,e.getEmbeddingLevels=Ie,e.getMirroredCharacter=be,e.getMirroredCharactersMap=he,e.getReorderSegments=Te,e.getReorderedIndices=Be,e.getReorderedString=pe,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const Uk=/\bvoid\s+main\s*\(\s*\)\s*{/g;function jS(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=Pt[i];return s?jS(s):r}return t.replace(e,n)}const hr=[];for(let t=0;t<256;t++)hr[t]=(t<16?"0":"")+t.toString(16);function _ve(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(hr[t&255]+hr[t>>8&255]+hr[t>>16&255]+hr[t>>24&255]+"-"+hr[e&255]+hr[e>>8&255]+"-"+hr[e>>16&15|64]+hr[e>>24&255]+"-"+hr[n&63|128]+hr[n>>8&255]+"-"+hr[n>>16&255]+hr[n>>24&255]+hr[r&255]+hr[r>>8&255]+hr[r>>16&255]+hr[r>>24&255]).toUpperCase()}const Cl=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sve=Date.now(),P4=new WeakMap,R4=new Map;let wve=1e10;function $S(t,e){const n=Tve(e);let r=P4.get(t);if(r||P4.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,c){t.onBeforeCompile.call(this,u,c);const d=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let p=R4[d];if(!p){const m=bve(this,u,e,n);p=R4[d]=m}u.vertexShader=p.vertexShader,u.fragmentShader=p.fragmentShader,Cl(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Sve}}),this[i]&&this[i](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:wve++}),c.uuid=_ve(),c.uniforms=Cl({},u.uniforms,e.uniforms),c.defines=Cl({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Cl({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Cl(this.extensions,u.extensions),Cl(this.defines,u.defines),Cl(this.uniforms,TM.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=$S(t.isDerivedMaterial?t.getDepthMaterial():new Ry({depthPacking:xM}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=$S(t.isDerivedMaterial?t.getDistanceMaterial():new Ly,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function bve(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:d,fragmentColorTransform:p,customRewriter:m,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",d=d||"",(l||m)&&(e=jS(e)),(p||m)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=jS(n)),m){let _=m({vertexShader:e,fragmentShader:n});e=_.vertexShader,n=_.fragmentShader}if(p){let _=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(_.push(x),"")),d=`${p}
${_.join(`
`)}
${d}`}if(g){const _=`
uniform float ${g};
`;s=_+s,u=_+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(_,x,v,S)=>/\battribute\s+vec[23]\s+$/.test(S.substr(0,v))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=L4(e,i,s,o,a),n=L4(n,i,u,c,d),{vertexShader:e,fragmentShader:n}}function L4(t,e,n,r,i){return(r||i||n)&&(t=t.replace(Uk,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Mve(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Eve=0;const D4=new Map;function Tve(t){const e=JSON.stringify(t,Mve);let n=D4.get(e);return n==null&&D4.set(e,n=++Eve),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Ave(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var d=s.readUint(o,a);a+=4,u.push(e._readFont(o,d))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:a},d={},p=0;p<l;p++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var _=o.readUint(i,s);s+=4,d[m]={offset:g,length:_}}for(p=0;p<u.length;p++){var x=u[p];d[x]&&(c[x.trim()]=e[x.trim()].parse(i,d[x].offset,d[x].length,c))}return c},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var d=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var p=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,d==s)return p}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,c={},d=s;u.readFixed(i,s),s+=4;var p=u.readUshort(i,s);s+=2;var m=u.readUshort(i,s);s+=2;var g=u.readUshort(i,s);return s+=2,c.scriptList=e._lctf.readScriptList(i,d+p),c.featureList=e._lctf.readFeatureList(i,d+m),c.lookupList=e._lctf.readLookupList(i,d+g,l),c},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(i,s);s+=2;for(var d=0;d<c;d++){var p=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+p,o);u.push(m)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var d=u.ltype,p=0;p<c;p++){var m=a.readUshort(i,s);s+=2;var g=o(i,d,l+m,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var c=o.readUshort(i,s);s+=2;for(var d=0;d<c;d++)a.push(u+d),a.push(u+d),a.push(o.readUshort(i,s)),s+=2}if(l==2){var p=o.readUshort(i,s);for(s+=2,d=0;d<p;d++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+p);m.tag=d.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(i,s);s+=2,l.tab=[];for(var d=0;d<c;d++)l.tab.push(o.readUshort(i,s+2*d));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(i,a+p)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,a+u));var c=o.readUshort(i,s);s+=2;for(var d=0;d<c;d++){var p=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[p.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(i,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(i,s,d);var p=[];for(c=0;c<d.length-1;c++)p.push(e.CFF.readDict(i,s+d[c],s+d[c+1]));s+=d[d.length-1];var m=p[0],g=[];s=e.CFF.readIndex(i,s,g);var _=[];for(c=0;c<g.length-1;c++)_.push(a.readASCII(i,s+g[c],g[c+1]-g[c]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var x=[];for(c=0;c<g.length-1;c++)x.push(a.readBytes(i,s+g[c],g[c+1]-g[c]));m.CharStrings=x}if(m.ROS){s=m.FDArray;var v=[];for(s=e.CFF.readIndex(i,s,v),m.FDArray=[],c=0;c<v.length-1;c++){var S=e.CFF.readDict(i,s+v[c],s+v[c+1]);e.CFF._readFDict(i,S,_),m.FDArray.push(S)}s+=v[v.length-1],s=m.FDSelect,m.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var M=a.readUshort(i,s);for(s+=2,c=0;c<M+1;c++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,_),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var d=0;d<l.length-1;d++)o.Subrs.push(a.readBytes(i,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var c=0;c<u;c++)a.push(i[s+c]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var c=0;c<o;c++){var d=a.readUshort(i,s);s+=2,l.push(d)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){d=a.readUshort(i,s),s+=2;var p=0;for(u==1?(p=i[s],s++):(p=a.readUshort(i,s),s+=2),c=0;c<=p;c++)l.push(d),d++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(i[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(i,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(i,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var c=1,d=null,p=null;l<=20&&(d=l,c=1),l==12&&(d=100*l+u,c=2),21<=l&&l<=27&&(d=l,c=1),l==28&&(p=a.readShort(i,s+1),c=3),29<=l&&l<=31&&(d=l,c=1),32<=l&&l<=246&&(p=l-139,c=1),247<=l&&l<=250&&(p=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(p=256*-(l-251)-u-108,c=2),l==255&&(p=a.readInt(i,s+1)/65535,c=5),o.val=p??"o"+d,o.size=c},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,m=null,g=null;c<=20&&(m=c,p=1),c==12&&(m=100*c+d,p=2),c!=19&&c!=20||(m=c,p=2),21<=c&&c<=27&&(m=c,p=1),c==28&&(g=l.readShort(i,s+1),p=3),29<=c&&c<=31&&(m=c,p=1),32<=c&&c<=246&&(g=c-139,p=1),247<=c&&c<=250&&(g=256*(c-247)+d+108,p=2),251<=c&&c<=254&&(g=256*-(c-251)-d-108,p=2),c==255&&(g=l.readInt(i,s+1)/65535,p=5),u.push(g??"o"+m),s+=p}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,m=null,g=null;if(c==28&&(g=a.readShort(i,s+1),p=3),c==29&&(g=a.readInt(i,s+1),p=5),32<=c&&c<=246&&(g=c-139,p=1),247<=c&&c<=250&&(g=256*(c-247)+d+108,p=2),251<=c&&c<=254&&(g=256*-(c-251)-d-108,p=2),c==255)throw g=a.readInt(i,s+1)/65535,p=5,"unknown number";if(c==30){var _=[];for(p=1;;){var x=i[s+p];p++;var v=x>>4,S=15&x;if(v!=15&&_.push(v),S!=15&&_.push(S),S==15)break}for(var w="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],T=0;T<_.length;T++)w+=M[_[T]];g=parseFloat(w)}c<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],p=1,c==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],p=2)),m!=null?(l[m]=u.length==1?u[0]:u,u=[]):u.push(g),s+=p}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var c=[];l.tables=[];for(var d=0;d<u;d++){var p=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var _="p"+p+"e"+m,x=c.indexOf(g);if(x==-1){var v;x=l.tables.length,c.push(g);var S=a.readUshort(i,g);S==0?v=e.cmap.parse0(i,g):S==4?v=e.cmap.parse4(i,g):S==6?v=e.cmap.parse6(i,g):S==12?v=e.cmap.parse12(i,g):console.debug("unknown format: "+S,p,m,g),l.tables.push(v)}if(l[_]!=null)throw"multiple tables for one platform+encoding";l[_]=x}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var d=c/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,d),s+=2*d,s+=2,l.startCount=o.readUshorts(i,s,d),s+=2*d,l.idDelta=[];for(var p=0;p<d;p++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,d),s+=2*d,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,d=o.readUint(i,c+0),p=o.readUint(i,c+4),m=o.readUint(i,c+8);a.groups.push([d,p,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var d=o.readUshort(a,l);if(l+=2,a.length-l<d)return null;u.instructions=o.readBytes(a,l,d),l+=d;var p=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<p;c++){var m=a[l];if(l++,u.flags.push(m),(8&m)!=0){var g=a[l];l++;for(var _=0;_<g;_++)u.flags.push(m),c++}}for(u.xs=[],c=0;c<p;c++){var x=(2&u.flags[c])!=0,v=(16&u.flags[c])!=0;x?(u.xs.push(v?a[l]:-a[l]),l++):v?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<p;c++)x=(4&u.flags[c])!=0,v=(32&u.flags[c])!=0,x?(u.ys.push(v?a[l]:-a[l]),l++):v?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var S=0,w=0;for(c=0;c<p;c++)S+=u.xs[c],w+=u.ys[c],u.xs[c]=S,u.ys[c]=w}else{var M;u.parts=[];do{M=o.readUshort(a,l),l+=2;var T={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(T),T.glyphIndex=o.readUshort(a,l),l+=2,1&M){var A=o.readShort(a,l);l+=2;var R=o.readShort(a,l);l+=2}else A=o.readInt8(a,l),l++,R=o.readInt8(a,l),l++;2&M?(T.m.tx=A,T.m.ty=R):(T.p1=A,T.p2=R),8&M?(T.m.a=T.m.d=o.readF2dot14(a,l),l+=2):64&M?(T.m.a=o.readF2dot14(a,l),l+=2,T.m.d=o.readF2dot14(a,l),l+=2):128&M&&(T.m.a=o.readF2dot14(a,l),l+=2,T.m.b=o.readF2dot14(a,l),l+=2,T.m.c=o.readF2dot14(a,l),l+=2,T.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var L=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<L;c++)u.instr.push(a[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,s,o,a){var l=s;s+=4;var u=e._bin.readUshort(i,s);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var d=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,d+u)}if(s==1&&c.fmt==1){var p=l.readUshort(i,o);o+=2,p!=0&&(c.pos=e.GPOS.readValueRecord(i,o,p))}else if(s==2&&c.fmt>=1&&c.fmt<=2){p=l.readUshort(i,o),o+=2;var m=l.readUshort(i,o);o+=2;var g=e._lctf.numOfOnes(p),_=e._lctf.numOfOnes(m);if(c.fmt==1){c.pairsets=[];var x=l.readUshort(i,o);o+=2;for(var v=0;v<x;v++){var S=u+l.readUshort(i,o);o+=2;var w=l.readUshort(i,S);S+=2;for(var M=[],T=0;T<w;T++){var A=l.readUshort(i,S);S+=2,p!=0&&(B=e.GPOS.readValueRecord(i,S,p),S+=2*g),m!=0&&(W=e.GPOS.readValueRecord(i,S,m),S+=2*_),M.push({gid2:A,val1:B,val2:W})}c.pairsets.push(M)}}if(c.fmt==2){var R=l.readUshort(i,o);o+=2;var L=l.readUshort(i,o);o+=2;var C=l.readUshort(i,o);o+=2;var P=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+R),c.classDef2=e._lctf.readClassDef(i,u+L),c.matrix=[],v=0;v<C;v++){var F=[];for(T=0;T<P;T++){var B=null,W=null;p!=0&&(B=e.GPOS.readValueRecord(i,o,p),o+=2*g),m!=0&&(W=e.GPOS.readValueRecord(i,o,m),o+=2*_),F.push({val1:B,val2:W})}c.matrix.push(F)}}}else if(s==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else if(s==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else{if(s==9&&c.fmt==1){var G=l.readUshort(i,o);o+=2;var q=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=G;else if(a.ltype!=G)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+q)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,s,o){var a=e._bin,l=[],u=s,c=a.readUshort(i,s);s+=2;for(var d=0;d<c;d++){for(var p=[],m=0;m<o;m++)p.push(e.GPOS.readAnchorRecord(i,u+a.readUshort(i,s))),s+=2;l.push(p)}return l},e.GPOS.readMarkArray=function(i,s){var o=e._bin,a=[],l=s,u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var d=e.GPOS.readAnchorRecord(i,o.readUshort(i,s+2)+l);d.markClass=o.readUshort(i,s),a.push(d),s+=4}return a},e.GPOS.readAnchorRecord=function(i,s){var o=e._bin,a={};return a.fmt=o.readUshort(i,s),a.x=o.readShort(i,s+2),a.y=o.readShort(i,s+4),a},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var d=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+d)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var p=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,p),o+=2*c.newg.length}}else if(s==2&&c.fmt==1){p=l.readUshort(i,o),o+=2,c.seqs=[];for(var m=0;m<p;m++){var g=l.readUshort(i,o)+u;o+=2;var _=l.readUshort(i,g);c.seqs.push(l.readUshorts(i,g+2,_))}}else if(s==4)for(c.vals=[],p=l.readUshort(i,o),o+=2,m=0;m<p;m++){var x=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+x))}else if(s==5&&c.fmt==2){if(c.fmt==2){var v=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+v),c.scset=[];var S=l.readUshort(i,o);for(o+=2,m=0;m<S;m++){var w=l.readUshort(i,o);o+=2,c.scset.push(w==0?null:e.GSUB.readSubClassSet(i,u+w))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(m=0;m<3;m++){p=l.readUshort(i,o),o+=2;for(var M=[],T=0;T<p;T++)M.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*T)));o+=2*p,m==0&&(c.backCvg=M),m==1&&(c.inptCvg=M),m==2&&(c.ahedCvg=M)}p=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,p)}}else{if(s==7&&c.fmt==1){var A=l.readUshort(i,o);o+=2;var R=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=A;else if(a.ltype!=A)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+R)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var c=0;c<u;c++){var d=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+d))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+d))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(i,s,c),s+=2*a[l[u]].length}return c=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+d))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,d=0,p=0;p<a.maxp.numGlyphs;p++)p<a.hhea.numberOfHMetrics&&(c=l.readUshort(i,s),s+=2,d=l.readShort(i,s),s+=2),u.aWidth.push(c),u.lsBearing.push(d);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var c=l.readUshort(i,s);s+=2;for(var d={glyph1:[],rval:[]},p=0;p<c;p++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var g=m>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,d)}return d},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var c={glyph1:[],rval:[]},d=0;d<u;d++){l.readUint(i,s),s+=4;var p=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=p>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,c)}return c},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=0;c<u;c++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,d!=l&&(o.glyph1.push(d),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(p),g.vals.push(m),l=d}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,d=a.maxp.numGlyphs+1;if(c==0)for(var p=0;p<d;p++)u.push(l.readUshort(i,s+(p<<1))<<1);if(c==1)for(p=0;p<d;p++)u.push(l.readUint(i,s+(p<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var c,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],p=s+=2,m=0;m<u;m++){var g=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var M,T=d[v],A=p+12*u+w;if(g==0)M=a.readUnicode(i,A,S/2);else if(g==3&&_==0)M=a.readUnicode(i,A,S/2);else if(_==0)M=a.readASCII(i,A,S);else if(_==1)M=a.readUnicode(i,A,S/2);else if(_==3)M=a.readUnicode(i,A,S/2);else{if(g!=1)throw"unknown encoding "+_+", platformID: "+g;M=a.readASCII(i,A,S),console.debug("reading unknown MAC encoding "+_+" as ASCII")}var R="p"+g+","+x.toString(16);l[R]==null&&(l[R]={}),l[R][T!==void 0?T:v]=M,l[R]._lang=x}for(var L in l)if(l[L].postScriptName!=null&&l[L]._lang==1033)return l[L];for(var L in l)if(l[L].postScriptName!=null&&l[L]._lang==0)return l[L];for(var L in l)if(l[L].postScriptName!=null&&l[L]._lang==3084)return l[L];for(var L in l)if(l[L].postScriptName!=null)return l[L];for(var L in l){c=L;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var d=l.groups[c];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var d=0;u.FDSelect[d+2]<=s;)d+=2;c=u.FDArray[u.FDSelect[d+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,c,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,d=u==l?a:u+1,p=1&i.flags[u],m=1&i.flags[c],g=1&i.flags[d],_=i.xs[u],x=i.ys[u];if(u==a)if(p){if(!m){e.U.P.moveTo(s,_,x);continue}e.U.P.moveTo(s,i.xs[c],i.ys[c])}else m?e.U.P.moveTo(s,i.xs[c],i.ys[c]):e.U.P.moveTo(s,(i.xs[c]+_)/2,(i.ys[c]+x)/2);p?m&&e.U.P.lineTo(s,_,x):g?e.U.P.qcurveTo(s,_,x,i.xs[d],i.ys[d]):e.U.P.qcurveTo(s,_,x,(_+i.xs[d])/2,(x+i.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,d=0;d<l.crds.length;d+=2){var p=l.crds[d],m=l.crds[d+1];o.crds.push(p*c.a+m*c.b+c.tx),o.crds.push(p*c.c+m*c.d+c.ty)}for(d=0;d<l.cmds.length;d++)o.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,d=o.tabs[u];if(!d.coverage||(c=e._lctf.coverageIndex(d.coverage,i[s]))!=-1){if(o.ltype==1)i[s],d.fmt==1?i[s]=i[s]+d.delta:i[s]=d.newg[c];else if(o.ltype==4)for(var p=d.vals[c],m=0;m<p.length;m++){var g=p[m],_=g.chain.length;if(!(_>l)){for(var x=!0,v=0,S=0;S<_;S++){for(;i[s+v+(1+S)]==-1;)v++;g.chain[S]!=i[s+v+(1+S)]&&(x=!1)}if(x){for(i[s]=g.nglyph,S=0;S<_+v;S++)i[s+S+1]=-1;break}}}else if(o.ltype==5&&d.fmt==2)for(var w=e._lctf.getInterval(d.cDef,i[s]),M=d.cDef[w+2],T=d.scset[M],A=0;A<T.length;A++){var R=T[A],L=R.input;if(!(L.length>l)){for(x=!0,S=0;S<L.length;S++){var C=e._lctf.getInterval(d.cDef,i[s+1+S]);if(w==-1&&d.cDef[C+2]!=L[S]){x=!1;break}}if(x){var P=R.substLookupRecords;for(m=0;m<P.length;m+=2)P[m],P[m+1]}}}else if(o.ltype==6&&d.fmt==3){if(!e.U._glsCovered(i,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(i,d.inptCvg,s)||!e.U._glsCovered(i,d.ahedCvg,s+d.inptCvg.length))continue;var F=d.lookupRec;for(A=0;A<F.length;A+=2){w=F[A];var B=a[F[A+1]];e.U._applySubs(i,s+w,B,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var d=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,p=e.U.glyphToPath(i,c),m=0;m<p.crds.length;m+=2)a.crds.push(p.crds[m]+l),a.crds.push(p.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<p.cmds.length;m++)a.cmds.push(p.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(i,c,d))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,c){i.cmds.push("C"),i.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,c=s.nStems,d=s.haveWidth,p=s.width,m=s.open,g=0,_=s.x,x=s.y,v=0,S=0,w=0,M=0,T=0,A=0,R=0,L=0,C=0,P=0,F={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,F);var B=F.val;if(g+=F.size,B=="o1"||B=="o18")u.length%2!=0&&!d&&(p=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,d=!0;else if(B=="o3"||B=="o23")u.length%2!=0&&!d&&(p=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,d=!0;else if(B=="o4")u.length>1&&!d&&(p=u.shift()+a.nominalWidthX,d=!0),m&&e.U.P.closePath(l),x+=u.pop(),e.U.P.moveTo(l,_,x),m=!0;else if(B=="o5")for(;u.length>0;)_+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,_,x);else if(B=="o6"||B=="o7")for(var W=u.length,G=B=="o6",q=0;q<W;q++){var ee=u.shift();G?_+=ee:x+=ee,G=!G,e.U.P.lineTo(l,_,x)}else if(B=="o8"||B=="o24"){W=u.length;for(var ne=0;ne+6<=W;)v=_+u.shift(),S=x+u.shift(),w=v+u.shift(),M=S+u.shift(),_=w+u.shift(),x=M+u.shift(),e.U.P.curveTo(l,v,S,w,M,_,x),ne+=6;B=="o24"&&(_+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,_,x))}else{if(B=="o11")break;if(B=="o1234"||B=="o1235"||B=="o1236"||B=="o1237")B=="o1234"&&(S=x,w=(v=_+u.shift())+u.shift(),P=M=S+u.shift(),A=M,L=x,_=(R=(T=(C=w+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,v,S,w,M,C,P),e.U.P.curveTo(l,T,A,R,L,_,x)),B=="o1235"&&(v=_+u.shift(),S=x+u.shift(),w=v+u.shift(),M=S+u.shift(),C=w+u.shift(),P=M+u.shift(),T=C+u.shift(),A=P+u.shift(),R=T+u.shift(),L=A+u.shift(),_=R+u.shift(),x=L+u.shift(),u.shift(),e.U.P.curveTo(l,v,S,w,M,C,P),e.U.P.curveTo(l,T,A,R,L,_,x)),B=="o1236"&&(v=_+u.shift(),S=x+u.shift(),w=v+u.shift(),P=M=S+u.shift(),A=M,R=(T=(C=w+u.shift())+u.shift())+u.shift(),L=A+u.shift(),_=R+u.shift(),e.U.P.curveTo(l,v,S,w,M,C,P),e.U.P.curveTo(l,T,A,R,L,_,x)),B=="o1237"&&(v=_+u.shift(),S=x+u.shift(),w=v+u.shift(),M=S+u.shift(),C=w+u.shift(),P=M+u.shift(),T=C+u.shift(),A=P+u.shift(),R=T+u.shift(),L=A+u.shift(),Math.abs(R-_)>Math.abs(L-x)?_=R+u.shift():x=L+u.shift(),e.U.P.curveTo(l,v,S,w,M,C,P),e.U.P.curveTo(l,T,A,R,L,_,x));else if(B=="o14"){if(u.length>0&&!d&&(p=u.shift()+o.nominalWidthX,d=!0),u.length==4){var U=u.shift(),z=u.shift(),k=u.shift(),N=u.shift(),I=e.CFF.glyphBySE(o,k),J=e.CFF.glyphBySE(o,N);e.U._drawCFF(o.CharStrings[I],s,o,a,l),s.x=U,s.y=z,e.U._drawCFF(o.CharStrings[J],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(B=="o19"||B=="o20")u.length%2!=0&&!d&&(p=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,d=!0,g+=c+7>>3;else if(B=="o21")u.length>2&&!d&&(p=u.shift()+a.nominalWidthX,d=!0),x+=u.pop(),_+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,_,x),m=!0;else if(B=="o22")u.length>1&&!d&&(p=u.shift()+a.nominalWidthX,d=!0),_+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,_,x),m=!0;else if(B=="o25"){for(;u.length>6;)_+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,_,x);v=_+u.shift(),S=x+u.shift(),w=v+u.shift(),M=S+u.shift(),_=w+u.shift(),x=M+u.shift(),e.U.P.curveTo(l,v,S,w,M,_,x)}else if(B=="o26")for(u.length%2&&(_+=u.shift());u.length>0;)v=_,S=x+u.shift(),_=w=v+u.shift(),x=(M=S+u.shift())+u.shift(),e.U.P.curveTo(l,v,S,w,M,_,x);else if(B=="o27")for(u.length%2&&(x+=u.shift());u.length>0;)S=x,w=(v=_+u.shift())+u.shift(),M=S+u.shift(),_=w+u.shift(),x=M,e.U.P.curveTo(l,v,S,w,M,_,x);else if(B=="o10"||B=="o29"){var Z=B=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var te=u.pop(),ie=Z.Subrs[te+Z.Bias];s.x=_,s.y=x,s.nStems=c,s.haveWidth=d,s.width=p,s.open=m,e.U._drawCFF(ie,s,o,a,l),_=s.x,x=s.y,c=s.nStems,d=s.haveWidth,p=s.width,m=s.open}}else if(B=="o30"||B=="o31"){var se=u.length,_e=(ne=0,B=="o31");for(ne+=se-(W=-3&se);ne<W;)_e?(S=x,w=(v=_+u.shift())+u.shift(),x=(M=S+u.shift())+u.shift(),W-ne==5?(_=w+u.shift(),ne++):_=w,_e=!1):(v=_,S=x+u.shift(),w=v+u.shift(),M=S+u.shift(),_=w+u.shift(),W-ne==5?(x=M+u.shift(),ne++):x=M,_e=!0),e.U.P.curveTo(l,v,S,w,M,_,x),ne+=4}else{if((B+"").charAt(0)=="o")throw console.debug("Unknown operation: "+B,i),B;u.push(B)}}}s.x=_,s.y=x,s.nStems=c,s.haveWidth=d,s.width=p,s.open=m};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Cve(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(B,W){for(var G=new n(31),q=0;q<31;++q)G[q]=W+=1<<B[q-1];var ee=new r(G[30]);for(q=1;q<30;++q)for(var ne=G[q];ne<G[q+1];++ne)ee[ne]=ne-G[q]<<5|q;return[G,ee]},l=a(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var d=a(s,0)[0],p=new n(32768),m=0;m<32768;++m){var g=(43690&m)>>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,p[m]=((65280&g)>>>8|(255&g)<<8)>>>1}var _=function(B,W,G){for(var q=B.length,ee=0,ne=new n(W);ee<q;++ee)++ne[B[ee]-1];var U,z=new n(W);for(ee=0;ee<W;++ee)z[ee]=z[ee-1]+ne[ee-1]<<1;if(G){U=new n(1<<W);var k=15-W;for(ee=0;ee<q;++ee)if(B[ee])for(var N=ee<<4|B[ee],I=W-B[ee],J=z[B[ee]-1]++<<I,Z=J|(1<<I)-1;J<=Z;++J)U[p[J]>>>k]=N}else for(U=new n(q),ee=0;ee<q;++ee)B[ee]&&(U[ee]=p[z[B[ee]-1]++]>>>15-B[ee]);return U},x=new e(288);for(m=0;m<144;++m)x[m]=8;for(m=144;m<256;++m)x[m]=9;for(m=256;m<280;++m)x[m]=7;for(m=280;m<288;++m)x[m]=8;var v=new e(32);for(m=0;m<32;++m)v[m]=5;var S=_(x,9,1),w=_(v,5,1),M=function(B){for(var W=B[0],G=1;G<B.length;++G)B[G]>W&&(W=B[G]);return W},T=function(B,W,G){var q=W/8|0;return(B[q]|B[q+1]<<8)>>(7&W)&G},A=function(B,W){var G=W/8|0;return(B[G]|B[G+1]<<8|B[G+2]<<16)>>(7&W)},R=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],L=function(B,W,G){var q=new Error(W||R[B]);if(q.code=B,Error.captureStackTrace&&Error.captureStackTrace(q,L),!G)throw q;return q},C=function(B,W,G){var q=B.length;if(!q||G&&!G.l&&q<5)return W||new e(0);var ee=!W||G,ne=!G||G.i;G||(G={}),W||(W=new e(3*q));var U,z=function(De){var Y=W.length;if(De>Y){var we=new e(Math.max(2*Y,De));we.set(W),W=we}},k=G.f||0,N=G.p||0,I=G.b||0,J=G.l,Z=G.d,te=G.m,ie=G.n,se=8*q;do{if(!J){G.f=k=T(B,N,1);var _e=T(B,N+1,3);if(N+=3,!_e){var Ie=B[(Ne=((U=N)/8|0)+(7&U&&1)+4)-4]|B[Ne-3]<<8,We=Ne+Ie;if(We>q){ne&&L(0);break}ee&&z(I+Ie),W.set(B.subarray(Ne,We),I),G.b=I+=Ie,G.p=N=8*We;continue}if(_e==1)J=S,Z=w,te=9,ie=5;else if(_e==2){var Se=T(B,N,31)+257,H=T(B,N+10,15)+4,be=Se+T(B,N+5,31)+1;N+=14;for(var he=new e(be),Te=new e(19),pe=0;pe<H;++pe)Te[o[pe]]=T(B,N+3*pe,7);N+=3*H;var Be=M(Te),ye=(1<<Be)-1,Re=_(Te,Be,1);for(pe=0;pe<be;){var Ne,me=Re[T(B,N,ye)];if(N+=15&me,(Ne=me>>>4)<16)he[pe++]=Ne;else{var Ke=0,V=0;for(Ne==16?(V=3+T(B,N,3),N+=2,Ke=he[pe-1]):Ne==17?(V=3+T(B,N,7),N+=3):Ne==18&&(V=11+T(B,N,127),N+=7);V--;)he[pe++]=Ke}}var O=he.subarray(0,Se),oe=he.subarray(Se);te=M(O),ie=M(oe),J=_(O,te,1),Z=_(oe,ie,1)}else L(1);if(N>se){ne&&L(0);break}}ee&&z(I+131072);for(var Ue=(1<<te)-1,ge=(1<<ie)-1,Ae=N;;Ae=N){var Fe=(Ke=J[A(B,N)&Ue])>>>4;if((N+=15&Ke)>se){ne&&L(0);break}if(Ke||L(2),Fe<256)W[I++]=Fe;else{if(Fe==256){Ae=N,J=null;break}var ke=Fe-254;if(Fe>264){var de=i[pe=Fe-257];ke=T(B,N,(1<<de)-1)+u[pe],N+=de}var qe=Z[A(B,N)&ge],je=qe>>>4;if(qe||L(3),N+=15&qe,oe=d[je],je>3&&(de=s[je],oe+=A(B,N)&(1<<de)-1,N+=de),N>se){ne&&L(0);break}ee&&z(I+131072);for(var He=I+ke;I<He;I+=4)W[I]=W[I-oe],W[I+1]=W[I+1-oe],W[I+2]=W[I+2-oe],W[I+3]=W[I+3-oe];I=He}}G.l=J,G.p=Ae,G.b=I,J&&(k=1,G.m=te,G.d=Z,G.n=ie)}while(!k);return I==W.length?W:function(De,Y,we){(Y==null||Y<0)&&(Y=0),(we==null||we>De.length)&&(we=De.length);var Xe=new(De instanceof n?n:De instanceof r?r:e)(we-Y);return Xe.set(De.subarray(Y,we)),Xe}(W,0,I)},P=new e(0),F=typeof TextDecoder<"u"&&new TextDecoder;try{F.decode(P,{stream:!0})}catch{}return t.convert_streams=function(B){var W=new DataView(B),G=0;function q(){var Se=W.getUint16(G);return G+=2,Se}function ee(){var Se=W.getUint32(G);return G+=4,Se}function ne(Se){Ie.setUint16(We,Se),We+=2}function U(Se){Ie.setUint32(We,Se),We+=4}for(var z={signature:ee(),flavor:ee(),length:ee(),numTables:q(),reserved:q(),totalSfntSize:ee(),majorVersion:q(),minorVersion:q(),metaOffset:ee(),metaLength:ee(),metaOrigLength:ee(),privOffset:ee(),privLength:ee()},k=0;Math.pow(2,k)<=z.numTables;)k++;k--;for(var N=16*Math.pow(2,k),I=16*z.numTables-N,J=12,Z=[],te=0;te<z.numTables;te++)Z.push({tag:ee(),offset:ee(),compLength:ee(),origLength:ee(),origChecksum:ee()}),J+=16;var ie,se=new Uint8Array(12+16*Z.length+Z.reduce(function(Se,H){return Se+H.origLength+4},0)),_e=se.buffer,Ie=new DataView(_e),We=0;return U(z.flavor),ne(z.numTables),ne(N),ne(k),ne(I),Z.forEach(function(Se){U(Se.tag),U(Se.origChecksum),U(J),U(Se.origLength),Se.outOffset=J,(J+=Se.origLength)%4!=0&&(J+=4-J%4)}),Z.forEach(function(Se){var H,be=B.slice(Se.offset,Se.offset+Se.compLength);if(Se.compLength!=Se.origLength){var he=new Uint8Array(Se.origLength);H=new Uint8Array(be,2),C(H,he)}else he=new Uint8Array(be);se.set(he,Se.outOffset);var Te=0;(J=Se.outOffset+Se.origLength)%4!=0&&(Te=4-J%4),se.set(new Uint8Array(Te).buffer,Se.outOffset+Se.origLength),ie=J+Te}),_e.slice(0,ie)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function Pve(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let c;function d(R){if(!c){const L={R:s,L:i,D:o,C:l,U:u,T:a};c=new Map;for(let C in r){let P=0;r[C].split(",").forEach(F=>{let[B,W]=F.split("+");B=parseInt(B,36),W=W?parseInt(W,36):0,c.set(P+=B,L[C]);for(let G=W;G--;)c.set(++P,L[C])})}}return c.get(R)||u}const p=1,m=2,g=3,_=4,x=[null,"isol","init","fina","medi"];function v(R){const L=new Uint8Array(R.length);let C=u,P=p,F=-1;for(let B=0;B<R.length;B++){const W=R.codePointAt(B);let G=d(W)|0,q=p;G&a||(C&(i|o|l)?G&(s|o|l)?(q=g,(P===p||P===g)&&L[F]++):G&(i|u)&&(P===m||P===_)&&L[F]--:C&(s|u)&&(P===m||P===_)&&L[F]--,P=L[B]=q,C=G,F=B,W>65535&&B++)}return L}function S(R,L){const C=[];for(let F=0;F<L.length;F++){const B=L.codePointAt(F);B>65535&&F++,C.push(t.U.codeToGlyph(R,B))}const P=R.GSUB;if(P){const{lookupList:F,featureList:B}=P;let W;const G=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,q=[];B.forEach(ee=>{if(G.test(ee.tag))for(let ne=0;ne<ee.tab.length;ne++){if(q[ee.tab[ne]])continue;q[ee.tab[ne]]=!0;const U=F[ee.tab[ne]],z=/^(isol|init|fina|medi)$/.test(ee.tag);z&&!W&&(W=v(L));for(let k=0;k<C.length;k++)(!W||!z||x[W[k]]===ee.tag)&&t.U._applySubs(C,k,U,F)}})}return C}function w(R,L){const C=new Int16Array(L.length*3);let P=0;for(;P<L.length;P++){const G=L[P];if(G===-1)continue;C[P*3+2]=R.hmtx.aWidth[G];const q=R.GPOS;if(q){const ee=q.lookupList;for(let ne=0;ne<ee.length;ne++){const U=ee[ne];for(let z=0;z<U.tabs.length;z++){const k=U.tabs[z];if(U.ltype===1){if(t._lctf.coverageIndex(k.coverage,G)!==-1&&k.pos){W(k.pos,P);break}}else if(U.ltype===2){let N=null,I=F();if(I!==-1){const J=t._lctf.coverageIndex(k.coverage,L[I]);if(J!==-1){if(k.fmt===1){const Z=k.pairsets[J];for(let te=0;te<Z.length;te++)Z[te].gid2===G&&(N=Z[te])}else if(k.fmt===2){const Z=t.U._getGlyphClass(L[I],k.classDef1),te=t.U._getGlyphClass(G,k.classDef2);N=k.matrix[Z][te]}if(N){N.val1&&W(N.val1,I),N.val2&&W(N.val2,P);break}}}}else if(U.ltype===4){const N=t._lctf.coverageIndex(k.markCoverage,G);if(N!==-1){const I=F(B),J=I===-1?-1:t._lctf.coverageIndex(k.baseCoverage,L[I]);if(J!==-1){const Z=k.markArray[N],te=k.baseArray[J][Z.markClass];C[P*3]=te.x-Z.x+C[I*3]-C[I*3+2],C[P*3+1]=te.y-Z.y+C[I*3+1];break}}}else if(U.ltype===6){const N=t._lctf.coverageIndex(k.mark1Coverage,G);if(N!==-1){const I=F();if(I!==-1){const J=L[I];if(M(R,J)===3){const Z=t._lctf.coverageIndex(k.mark2Coverage,J);if(Z!==-1){const te=k.mark1Array[N],ie=k.mark2Array[Z][te.markClass];C[P*3]=ie.x-te.x+C[I*3]-C[I*3+2],C[P*3+1]=ie.y-te.y+C[I*3+1];break}}}}}}}}else if(R.kern&&!R.cff){const ee=F();if(ee!==-1){const ne=R.kern.glyph1.indexOf(L[ee]);if(ne!==-1){const U=R.kern.rval[ne].glyph2.indexOf(G);U!==-1&&(C[ee*3+2]+=R.kern.rval[ne].vals[U])}}}}return C;function F(G){for(let q=P-1;q>=0;q--)if(L[q]!==-1&&(!G||G(L[q])))return q;return-1}function B(G){return M(R,G)===1}function W(G,q){for(let ee=0;ee<3;ee++)C[q*3+ee]+=G[ee]||0}}function M(R,L){const C=R.GDEF&&R.GDEF.glyphClassDef;return C?t.U._getGlyphClass(L,C):0}function T(...R){for(let L=0;L<R.length;L++)if(typeof R[L]=="number")return R[L]}function A(R){const L=Object.create(null),C=R["OS/2"],P=R.hhea,F=R.head.unitsPerEm,B=T(C&&C.sTypoAscender,P&&P.ascender,F),W={unitsPerEm:F,ascender:B,descender:T(C&&C.sTypoDescender,P&&P.descender,0),capHeight:T(C&&C.sCapHeight,B),xHeight:T(C&&C.sxHeight,B),lineGap:T(C&&C.sTypoLineGap,P&&P.lineGap),supportsCodePoint(G){return t.U.codeToGlyph(R,G)>0},forEachGlyph(G,q,ee,ne){let U=0;const z=1/W.unitsPerEm*q,k=S(R,G);let N=0;const I=w(R,k);return k.forEach((J,Z)=>{if(J!==-1){let te=L[J];if(!te){const{cmds:ie,crds:se}=t.U.glyphToPath(R,J);let _e="",Ie=0;for(let he=0,Te=ie.length;he<Te;he++){const pe=n[ie[he]];_e+=ie[he];for(let Be=1;Be<=pe;Be++)_e+=(Be>1?",":"")+se[Ie++]}let We,Se,H,be;if(se.length){We=Se=1/0,H=be=-1/0;for(let he=0,Te=se.length;he<Te;he+=2){let pe=se[he],Be=se[he+1];pe<We&&(We=pe),Be<Se&&(Se=Be),pe>H&&(H=pe),Be>be&&(be=Be)}}else We=H=Se=be=0;te=L[J]={index:J,advanceWidth:R.hmtx.aWidth[J],xMin:We,yMin:Se,xMax:H,yMax:be,path:_e}}ne.call(null,te,U+I[Z*3]*z,I[Z*3+1]*z,N),U+=I[Z*3+2]*z,ee&&(U+=ee*q)}N+=G.codePointAt(N)>65535?2:1}),U}};return W}return function(L){const C=new Uint8Array(L,0,4),P=t._bin.readASCII(C,0,4);if(P==="wOFF")L=e(L);else if(P==="wOF2")throw new Error("woff2 fonts not supported");return A(t.parse(L)[0])}}const Rve=Zf({name:"Typr Font Parser",dependencies:[Ave,Cve,Pve],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Lve(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var M=w>>5;this.buckets.set(M,(this.buckets.get(M)||0)|1<<(31&w))},e.prototype.has=function(w){var M=this.buckets.get(w>>5);return M!==void 0&&(M&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(M,T){w.push((+T).toString(36)+":"+M.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var M=this;this.buckets.clear(),w.split(",").forEach(function(T){var A=T.split(":");M.buckets.set(parseInt(A[0],36),parseInt(A[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function s(w){var M=function(A){return A&i}(w).toString(16),T=function(A){return(A&i)+n-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+M+"-"+T+".json"}function o(w,M){var T=w&r,A=M.codePointAt(T/6|0);return((A=(A||48)-48)&1<<T%6)!=0}function a(w,M){var T;(T=w,T.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(A){return A.split("-").map(function(R){return parseInt(R.trim(),16)})})).forEach(function(A){var R=A[0],L=A[1];L===void 0&&(L=R),M(R,L)})}function l(w,M){a(w,function(T,A){for(var R=T;R<=A;R++)M(R)})}var u={},c={},d=new WeakMap,p="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(w){var M=d.get(w);return M||(M=new e,l(w.ranges,function(T){return M.add(T)}),d.set(w,M)),M}var g,_=new Map;function x(w,M,T){return w[M]?M:w[T]?T:function(A){for(var R in A)return R}(w)}function v(w,M){var T=M;if(!w.includes(T)){T=1/0;for(var A=0;A<w.length;A++)Math.abs(w[A]-M)<Math.abs(T-M)&&(T=w[A])}return T}function S(w){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(M){g.add(M)})),g.has(w)}return t.CodePointSet=e,t.clearCache=function(){u={},c={}},t.getFontsForString=function(w,M){M===void 0&&(M={});var T,A=M.lang;A===void 0&&(A=/\p{Script=Hangul}/u.test(T=w)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(T)?"ja":"en");var R=M.category;R===void 0&&(R="sans-serif");var L=M.style;L===void 0&&(L="normal");var C=M.weight;C===void 0&&(C=400);var P=(M.dataUrl||p).replace(/\/$/g,""),F=new Map,B=new Uint8Array(w.length),W={},G={},q=new Array(w.length),ee=new Map,ne=!1;function U(N){var I=_.get(N);return I||(I=fetch(P+"/"+N).then(function(J){if(!J.ok)throw new Error(J.statusText);return J.json().then(function(Z){if(!Array.isArray(Z)||Z[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Z[0]);return Z[1]})}).catch(function(J){if(P!==p)return ne||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+P+'", trying default CDN. '+J.message),ne=!0),P=p,_.delete(N),U(N);throw J}),_.set(N,I)),I}for(var z=function(N){var I=w.codePointAt(N),J=s(I);q[N]=J,u[J]||ee.has(J)||ee.set(J,U(J).then(function(Z){u[J]=Z})),I>65535&&(N++,k=N)},k=0;k<w.length;k++)z(k);return Promise.all(ee.values()).then(function(){ee.clear();for(var N=function(J){var Z=w.codePointAt(J),te=null,ie=u[q[J]],se=void 0;for(var _e in ie){var Ie=G[_e];if(Ie===void 0&&(Ie=G[_e]=new RegExp(_e).test(A||"en")),Ie){for(var We in se=_e,ie[_e])if(o(Z,ie[_e][We])){te=We;break}break}}if(!te){e:for(var Se in ie)if(Se!==se){for(var H in ie[Se])if(o(Z,ie[Se][H])){te=H;break e}}}te||(console.debug("No font coverage for U+"+Z.toString(16)),te="latin"),q[J]=te,c[te]||ee.has(te)||ee.set(te,U("font-meta/"+te+".json").then(function(be){c[te]=be})),Z>65535&&(J++,I=J)},I=0;I<w.length;I++)N(I);return Promise.all(ee.values())}).then(function(){for(var N,I=null,J=0;J<w.length;J++){var Z=w.codePointAt(J);if(I&&(S(Z)||m(I).has(Z)))B[J]=B[J-1];else{I=c[q[J]];var te=W[I.id];if(!te){var ie=I.typeforms,se=x(ie,R,"sans-serif"),_e=x(ie[se],L,"normal"),Ie=v((N=ie[se])===null||N===void 0?void 0:N[_e],C);te=W[I.id]=P+"/font-files/"+I.id+"/"+se+"."+_e+"."+Ie+".woff"}var We=F.get(te);We==null&&(We=F.size,F.set(te,We)),B[J]=We}Z>65535&&(J++,B[J]=B[J-1])}return{fontUrls:Array.from(F.keys()),chars:B}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function Dve(t,e){const n=Object.create(null),r=Object.create(null);function i(o,a){const l=u=>{console.error(`Failure loading font ${o}`,u)};try{const u=new XMLHttpRequest;u.open("get",o,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=t(u.response);c.src=o,a(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function s(o,a){let l=n[o];l?a(l):r[o]?r[o].push(a):(r[o]=[a],i(o,u=>{u.src=o,n[o]=u,r[o].forEach(c=>c(u)),delete r[o]}))}return function(o,a,{lang:l,fonts:u=[],style:c="normal",weight:d="normal",unicodeFontsURL:p}={}){const m=new Uint8Array(o.length),g=[];o.length||S();const _=new Map,x=[];if(c!=="italic"&&(c="normal"),typeof d!="number"&&(d=d==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(M=>!M.lang||M.lang.test(l)).reverse(),u.length){let R=0;(function L(C=0){for(let P=C,F=o.length;P<F;P++){const B=o.codePointAt(P);if(R===1&&g[m[P-1]].supportsCodePoint(B)||P>0&&/\s/.test(o[P]))m[P]=m[P-1],R===2&&(x[x.length-1][1]=P);else for(let W=m[P],G=u.length;W<=G;W++)if(W===G){const q=R===2?x[x.length-1]:x[x.length]=[P,P];q[1]=P,R=2}else{m[P]=W;const{src:q,unicodeRange:ee}=u[W];if(!ee||w(B,ee)){const ne=n[q];if(!ne){s(q,()=>{L(P)});return}if(ne.supportsCodePoint(B)){let U=_.get(ne);typeof U!="number"&&(U=g.length,g.push(ne),_.set(ne,U)),m[P]=U,R=1;break}}}B>65535&&P+1<F&&(m[P+1]=m[P],P++,R===2&&(x[x.length-1][1]=P))}v()})()}else x.push([0,o.length-1]),v();function v(){if(x.length){const M=x.map(T=>o.substring(T[0],T[1]+1)).join(`
`);e.getFontsForString(M,{lang:l||void 0,style:c,weight:d,dataUrl:p}).then(({fontUrls:T,chars:A})=>{const R=g.length;let L=0;x.forEach(P=>{for(let F=0,B=P[1]-P[0];F<=B;F++)m[P[0]+F]=A[L++]+R;L++});let C=0;T.forEach((P,F)=>{s(P,B=>{g[F+R]=B,++C===T.length&&S()})})})}else S()}function S(){a({chars:m,fonts:g})}function w(M,T){for(let A=0;A<T.length;A++){const[R,L=R]=T[A];if(R<=M&&M<=L)return!0}return!1}}}const Ive=Zf({name:"FontResolver",dependencies:[Dve,Rve,Lve],init(t,e,n){return t(e,n())}});function Ove(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:g,lang:_,fonts:x,style:v,weight:S,preResolvedFonts:w,unicodeFontsURL:M},T){const A=({chars:R,fonts:L})=>{let C,P;const F=[];for(let B=0;B<R.length;B++)R[B]!==P?(P=R[B],F.push(C={start:B,end:B,fontObj:L[R[B]]})):C.end=B;T(F)};w?A(w):t(g,A,{lang:_,fonts:x,style:v,weight:S,unicodeFontsURL:M})}function a({text:g="",font:_,lang:x,sdfGlyphSize:v=64,fontSize:S=400,fontWeight:w=1,fontStyle:M="normal",letterSpacing:T=0,lineHeight:A="normal",maxWidth:R=1/0,direction:L,textAlign:C="left",textIndent:P=0,whiteSpace:F="normal",overflowWrap:B="normal",anchorX:W=0,anchorY:G=0,metricsOnly:q=!1,unicodeFontsURL:ee,preResolvedFonts:ne=null,includeCaretPositions:U=!1,chunkedBoundsSize:z=8192,colorRanges:k=null},N){const I=d(),J={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),S=+S,T=+T,R=+R,A=A||"normal",P=+P,o({text:g,lang:x,style:M,weight:w,fonts:typeof _=="string"?[{src:_}]:_,unicodeFontsURL:ee,preResolvedFonts:ne},Z=>{J.fontLoad=d()-I;const te=isFinite(R);let ie=null,se=null,_e=null,Ie=null,We=null,Se=null,H=null,be=null,he=0,Te=0,pe=F!=="nowrap";const Be=new Map,ye=d();let Re=P,Ne=0,me=new p;const Ke=[me];Z.forEach(ge=>{const{fontObj:Ae}=ge,{ascender:Fe,descender:ke,unitsPerEm:de,lineGap:qe,capHeight:je,xHeight:He}=Ae;let De=Be.get(Ae);if(!De){const Me=S/de,ue=A==="normal"?(Fe-ke+qe)*Me:A*S,Ge=(ue-(Fe-ke)*Me)/2,ze=Math.min(ue,(Fe-ke)*Me),Qe=(Fe+ke)/2*Me+ze/2;De={index:Be.size,src:Ae.src,fontObj:Ae,fontSizeMult:Me,unitsPerEm:de,ascender:Fe*Me,descender:ke*Me,capHeight:je*Me,xHeight:He*Me,lineHeight:ue,baseline:-Ge-Fe*Me,caretTop:Qe,caretBottom:Qe-ze},Be.set(Ae,De)}const{fontSizeMult:Y}=De,we=g.slice(ge.start,ge.end+1);let Xe,Q;Ae.forEachGlyph(we,S,T,(Me,ue,Ge,ze)=>{ue+=Ne,ze+=ge.start,Xe=ue,Q=Me;const Qe=g.charAt(ze),ht=Me.advanceWidth*Y,ct=me.count;let lt;if("isEmpty"in Me||(Me.isWhitespace=!!Qe&&new RegExp(i).test(Qe),Me.canBreakAfter=!!Qe&&s.test(Qe),Me.isEmpty=Me.xMin===Me.xMax||Me.yMin===Me.yMax||r.test(Qe)),!Me.isWhitespace&&!Me.isEmpty&&Te++,pe&&te&&!Me.isWhitespace&&ue+ht+Re>R&&ct){if(me.glyphAt(ct-1).glyphObj.canBreakAfter)lt=new p,Re=-ue;else for(let Ft=ct;Ft--;)if(Ft===0&&B==="break-word"){lt=new p,Re=-ue;break}else if(me.glyphAt(Ft).glyphObj.canBreakAfter){lt=me.splitAt(Ft+1);const Ot=lt.glyphAt(0).x;Re-=Ot;for(let cn=lt.count;cn--;)lt.glyphAt(cn).x-=Ot;break}lt&&(me.isSoftWrapped=!0,me=lt,Ke.push(me),he=R)}let dt=me.glyphAt(me.count);dt.glyphObj=Me,dt.x=ue+Re,dt.y=Ge,dt.width=ht,dt.charIndex=ze,dt.fontData=De,Qe===`
`&&(me=new p,Ke.push(me),Re=-(ue+ht+T*S)+P)}),Ne=Xe+Q.advanceWidth*Y+T*S});let V=0;Ke.forEach(ge=>{let Ae=!0;for(let Fe=ge.count;Fe--;){const ke=ge.glyphAt(Fe);Ae&&!ke.glyphObj.isWhitespace&&(ge.width=ke.x+ke.width,ge.width>he&&(he=ge.width),Ae=!1);let{lineHeight:de,capHeight:qe,xHeight:je,baseline:He}=ke.fontData;de>ge.lineHeight&&(ge.lineHeight=de);const De=He-ge.baseline;De<0&&(ge.baseline+=De,ge.cap+=De,ge.ex+=De),ge.cap=Math.max(ge.cap,ge.baseline+qe),ge.ex=Math.max(ge.ex,ge.baseline+je)}ge.baseline-=V,ge.cap-=V,ge.ex-=V,V+=ge.lineHeight});let O=0,oe=0;if(W&&(typeof W=="number"?O=-W:typeof W=="string"&&(O=-he*(W==="left"?0:W==="center"?.5:W==="right"?1:u(W)))),G&&(typeof G=="number"?oe=-G:typeof G=="string"&&(oe=G==="top"?0:G==="top-baseline"?-Ke[0].baseline:G==="top-cap"?-Ke[0].cap:G==="top-ex"?-Ke[0].ex:G==="middle"?V/2:G==="bottom"?V:G==="bottom-baseline"?-Ke[Ke.length-1].baseline:u(G)*V)),!q){const ge=e.getEmbeddingLevels(g,L);ie=new Uint16Array(Te),se=new Uint8Array(Te),_e=new Float32Array(Te*2),Ie={},H=[1/0,1/0,-1/0,-1/0],be=[],U&&(Se=new Float32Array(g.length*4)),k&&(We=new Uint8Array(Te*3));let Ae=0,Fe=-1,ke=-1,de,qe;if(Ke.forEach((je,He)=>{let{count:De,width:Y}=je;if(De>0){let we=0;for(let ze=De;ze--&&je.glyphAt(ze).glyphObj.isWhitespace;)we++;let Xe=0,Q=0;if(C==="center")Xe=(he-Y)/2;else if(C==="right")Xe=he-Y;else if(C==="justify"&&je.isSoftWrapped){let ze=0;for(let Qe=De-we;Qe--;)je.glyphAt(Qe).glyphObj.isWhitespace&&ze++;Q=(he-Y)/ze}if(Q||Xe){let ze=0;for(let Qe=0;Qe<De;Qe++){let ht=je.glyphAt(Qe);const ct=ht.glyphObj;ht.x+=Xe+ze,Q!==0&&ct.isWhitespace&&Qe<De-we&&(ze+=Q,ht.width+=Q)}}const Me=e.getReorderSegments(g,ge,je.glyphAt(0).charIndex,je.glyphAt(je.count-1).charIndex);for(let ze=0;ze<Me.length;ze++){const[Qe,ht]=Me[ze];let ct=1/0,lt=-1/0;for(let dt=0;dt<De;dt++)if(je.glyphAt(dt).charIndex>=Qe){let Ft=dt,Ot=dt;for(;Ot<De;Ot++){let cn=je.glyphAt(Ot);if(cn.charIndex>ht)break;Ot<De-we&&(ct=Math.min(ct,cn.x),lt=Math.max(lt,cn.x+cn.width))}for(let cn=Ft;cn<Ot;cn++){const vr=je.glyphAt(cn);vr.x=lt-(vr.x+vr.width-ct)}break}}let ue;const Ge=ze=>ue=ze;for(let ze=0;ze<De;ze++){const Qe=je.glyphAt(ze);ue=Qe.glyphObj;const ht=ue.index,ct=ge.levels[Qe.charIndex]&1;if(ct){const lt=e.getMirroredCharacter(g[Qe.charIndex]);lt&&Qe.fontData.fontObj.forEachGlyph(lt,0,0,Ge)}if(U){const{charIndex:lt,fontData:dt}=Qe,Ft=Qe.x+O,Ot=Qe.x+Qe.width+O;Se[lt*4]=ct?Ot:Ft,Se[lt*4+1]=ct?Ft:Ot,Se[lt*4+2]=je.baseline+dt.caretBottom+oe,Se[lt*4+3]=je.baseline+dt.caretTop+oe;const cn=lt-Fe;cn>1&&c(Se,Fe,cn),Fe=lt}if(k){const{charIndex:lt}=Qe;for(;lt>ke;)ke++,k.hasOwnProperty(ke)&&(qe=k[ke])}if(!ue.isWhitespace&&!ue.isEmpty){const lt=Ae++,{fontSizeMult:dt,src:Ft,index:Ot}=Qe.fontData,cn=Ie[Ft]||(Ie[Ft]={});cn[ht]||(cn[ht]={path:ue.path,pathBounds:[ue.xMin,ue.yMin,ue.xMax,ue.yMax]});const vr=Qe.x+O,fi=Qe.y+je.baseline+oe;_e[lt*2]=vr,_e[lt*2+1]=fi;const tr=vr+ue.xMin*dt,hi=fi+ue.yMin*dt,nr=vr+ue.xMax*dt,Yr=fi+ue.yMax*dt;tr<H[0]&&(H[0]=tr),hi<H[1]&&(H[1]=hi),nr>H[2]&&(H[2]=nr),Yr>H[3]&&(H[3]=Yr),lt%z===0&&(de={start:lt,end:lt,rect:[1/0,1/0,-1/0,-1/0]},be.push(de)),de.end++;const Yn=de.rect;if(tr<Yn[0]&&(Yn[0]=tr),hi<Yn[1]&&(Yn[1]=hi),nr>Yn[2]&&(Yn[2]=nr),Yr>Yn[3]&&(Yn[3]=Yr),ie[lt]=ht,se[lt]=Ot,k){const os=lt*3;We[os]=qe>>16&255,We[os+1]=qe>>8&255,We[os+2]=qe&255}}}}}),Se){const je=g.length-Fe;je>1&&c(Se,Fe,je)}}const Ue=[];Be.forEach(({index:ge,src:Ae,unitsPerEm:Fe,ascender:ke,descender:de,lineHeight:qe,capHeight:je,xHeight:He})=>{Ue[ge]={src:Ae,unitsPerEm:Fe,ascender:ke,descender:de,lineHeight:qe,capHeight:je,xHeight:He}}),J.typesetting=d()-ye,N({glyphIds:ie,glyphFontIndices:se,glyphPositions:_e,glyphData:Ie,fontData:Ue,caretPositions:Se,glyphColors:We,chunkedBounds:be,fontSize:S,topBaseline:oe+Ke[0].baseline,blockBounds:[O,oe-V,O+he,oe],visibleBounds:H,timings:J})})}function l(g,_){a({...g,metricsOnly:!0},x=>{const[v,S,w,M]=x.blockBounds;_({width:w-v,height:M-S})})}function u(g){let _=g.match(/^([\d.]+)%$/),x=_?parseFloat(_[1]):NaN;return isNaN(x)?0:x/100}function c(g,_,x){const v=g[_*4],S=g[_*4+1],w=g[_*4+2],M=g[_*4+3],T=(S-v)/x;for(let A=0;A<x;A++){const R=(_+A)*4;g[R]=v+T*A,g[R+1]=v+T*(A+1),g[R+2]=w,g[R+3]=M}}function d(){return(self.performance||Date).now()}function p(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return p.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(g){let _=p.flyweight;return _.data=this.data,_.index=g,_},splitAt(g){let _=new p;return _.data=this.data.splice(g*m.length),_}},p.flyweight=m.reduce((g,_,x,v)=>(Object.defineProperty(g,_,{get(){return this.data[this.index*m.length+x]},set(S){this.data[this.index*m.length+x]=S}}),g),{data:null,index:0}),{typeset:a,measure:l}}const eu=()=>(self.performance||Date).now(),Vy=Ok();let I4;function Uve(t,e,n,r,i,s,o,a,l,u,c=!0){return c?kve(t,e,n,r,i,s,o,a,l,u).then(null,d=>(I4||(console.warn("WebGL SDF generation failed, falling back to JS",d),I4=!0),U4(t,e,n,r,i,s,o,a,l,u))):U4(t,e,n,r,i,s,o,a,l,u)}const k0=[],Nve=5;let XS=0;function Nk(){const t=eu();for(;k0.length&&eu()-t<Nve;)k0.shift()();XS=k0.length?setTimeout(Nk,0):0}const kve=(...t)=>new Promise((e,n)=>{k0.push(()=>{const r=eu();try{Vy.webgl.generateIntoCanvas(...t),e({timing:eu()-r})}catch(i){n(i)}}),XS||(XS=setTimeout(Nk,0))}),Fve=4,Bve=2e3,O4={};let zve=0;function U4(t,e,n,r,i,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+zve++%Fve;let d=O4[c];return d||(d=O4[c]={workerModule:Zf({name:c,workerId:c,dependencies:[Ok,eu],init(p,m){const g=p().javascript.generate;return function(..._){const x=m();return{textureData:g(..._),timing:m()-x}}},getTransferables(p){return[p.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(t,e,n,r,i,s).then(({textureData:p,timing:m})=>{const g=eu(),_=new Uint8Array(p.length*4);for(let x=0;x<p.length;x++)_[x*4+u]=p[x];return Vy.webglUtils.renderImageData(o,_,a,l,t,e,1<<3-u),m+=eu()-g,--d.requests===0&&(d.idleTimer=setTimeout(()=>{vve(c)},Bve)),{timing:m}})}function Vve(t){t._warm||(Vy.webgl.isSupported(t),t._warm=!0)}const Hve=Vy.webglUtils.resizeWebGLCanvasWithoutClearing,kc={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Gve=new et;function vc(){return(self.performance||Date).now()}const N4=Object.create(null);function kk(t,e){t=$ve({},t);const n=vc(),{defaultFontURL:r}=kc,i=[];if(r&&i.push({label:"default",src:k4(r)}),t.font&&i.push({label:"user",src:k4(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||kc.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||kc.unicodeFontsURL,t.colorRanges!=null){let m={};for(let g in t.colorRanges)if(t.colorRanges.hasOwnProperty(g)){let _=t.colorRanges[g];typeof _!="number"&&(_=Gve.set(_).getHex()),m[g]=_}t.colorRanges=m}Object.freeze(t);const{textureWidth:s,sdfExponent:o}=kc,{sdfGlyphSize:a}=t,l=s/a*4;let u=N4[a];if(!u){const m=document.createElement("canvas");m.width=s,m.height=a*256/l,u=N4[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:m,sdfTexture:new En(m,void 0,void 0,void 0,_n,_n),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,Wve(u)}const{sdfTexture:c,sdfCanvas:d}=u;zk(t).then(m=>{const{glyphIds:g,glyphFontIndices:_,fontData:x,glyphPositions:v,fontSize:S,timings:w}=m,M=[],T=new Float32Array(g.length*4);let A=0,R=0;const L=vc(),C=x.map(G=>{let q=u.glyphsByFont.get(G.src);return q||u.glyphsByFont.set(G.src,q=new Map),q});g.forEach((G,q)=>{const ee=_[q],{src:ne,unitsPerEm:U}=x[ee];let z=C[ee].get(G);if(!z){const{path:Z,pathBounds:te}=m.glyphData[ne][G],ie=Math.max(te[2]-te[0],te[3]-te[1])/a*(kc.sdfMargin*a+.5),se=u.glyphCount++,_e=[te[0]-ie,te[1]-ie,te[2]+ie,te[3]+ie];C[ee].set(G,z={path:Z,atlasIndex:se,sdfViewBox:_e}),M.push(z)}const{sdfViewBox:k}=z,N=v[R++],I=v[R++],J=S/U;T[A++]=N+k[0]*J,T[A++]=I+k[1]*J,T[A++]=N+k[2]*J,T[A++]=I+k[3]*J,g[q]=z.atlasIndex}),w.quads=(w.quads||0)+(vc()-L);const P=vc();w.sdf={};const F=d.height,B=Math.ceil(u.glyphCount/l),W=Math.pow(2,Math.ceil(Math.log2(B*a)));W>F&&(console.info(`Increasing SDF texture size ${F}->${W}`),Hve(d,s,W),c.dispose()),Promise.all(M.map(G=>Fk(G,u,t.gpuAccelerateSDF).then(({timing:q})=>{w.sdf[G.atlasIndex]=q}))).then(()=>{M.length&&!u.contextLost&&(Bk(u),c.needsUpdate=!0),w.sdfTotal=vc()-P,w.total=vc()-n,e(Object.freeze({parameters:t,sdfTexture:c,sdfGlyphSize:a,sdfExponent:o,glyphBounds:T,glyphAtlasIndices:g,glyphColors:m.glyphColors,caretPositions:m.caretPositions,chunkedBounds:m.chunkedBounds,ascender:m.ascender,descender:m.descender,lineHeight:m.lineHeight,capHeight:m.capHeight,xHeight:m.xHeight,topBaseline:m.topBaseline,blockBounds:m.blockBounds,visibleBounds:m.visibleBounds,timings:m.timings}))})}),Promise.resolve().then(()=>{u.contextLost||Vve(d)})}function Fk({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=kc,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),d=c%(a/r)*r,p=Math.floor(c/(a/r))*r,m=e%4;return Uve(r,r,t,n,u,l,i,d,p,m,o)}function Wve(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(Fk(s,t,!0))})}),Promise.all(r).then(()=>{Bk(t),t.sdfTexture.needsUpdate=!0})})}function jve({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;kk({font:t,sdfGlyphSize:n,text:i},r)}function $ve(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let c0;function k4(t){return c0||(c0=typeof document>"u"?{}:document.createElement("a")),c0.href=t,c0.href}function Bk(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const Xve=Zf({name:"Typesetter",dependencies:[Ove,Ive,xve],init(t,e,n){return t(e,n())}}),zk=Zf({name:"Typesetter",dependencies:[Xve],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});zk.onMainThread;const F4={};function Yve(t){let e=F4[t];return e||(e=F4[t]=new jo(1,1,t,t).translate(.5,.5,0)),e}const qve="aTroikaGlyphBounds",B4="aTroikaGlyphIndex",Kve="aTroikaGlyphColor";class Zve extends $M{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ss,this.boundingBox=new is}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Yve(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){this.updateAttributeData(qve,e,4),this.updateAttributeData(B4,n,1),this.updateAttributeData(Kve,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=i/2,d=i*2,p=Math.abs(n),m=e[0]/p,g=e[2]/p,_=s((m+c)/d)!==s((g+c)/d)?-p:o(l(m)*p,l(g)*p),x=s((m-c)/d)!==s((g-c)/d)?p:a(l(m)*p,l(g)*p),v=s((m+i)/d)!==s((g+i)/d)?p*2:a(p-u(m)*p,p-u(g)*p);r.min.set(_,e[1],n<0?-v:0),r.max.set(x,e[3],n<0?0:v)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(B4).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new uu(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Jve=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Qve=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,eye=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,tye=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function nye(t){const e=$S(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Oe},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Kt(0,0,0,0)},uTroikaClipRect:{value:new Kt(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Oe},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new et},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Rt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Jve,vertexTransform:Qve,fragmentDefs:eye,fragmentColorTransform:tye,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(Uk,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const eE=new Wo({color:16777215,side:xs,transparent:!0}),z4=8421504,V4=new Mt,f0=new j,M_=new j,qh=[],rye=new j,E_="+x+y";function H4(t){return Array.isArray(t)?t[0]:t}let Vk=()=>{const t=new $n(new jo(1,1),eE);return Vk=()=>t,t},Hk=()=>{const t=new $n(new jo(1,1,32,1),eE);return Hk=()=>t,t};const iye={type:"syncstart"},sye={type:"synccomplete"},Gk=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],oye=Gk.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Wk=class extends $n{constructor(){const e=new Zve;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=z4,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=E_,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(iye),kk({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(sye),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return nye(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=eE.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return H4(this.material).getDepthMaterial()}get customDistanceMaterial(){return H4(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,d=0,p,m,g,_=0,x=0;if(n){let{outlineWidth:S,outlineOffsetX:w,outlineOffsetY:M,outlineBlur:T,outlineOpacity:A}=this;u=this._parsePercent(S)||0,c=Math.max(0,this._parsePercent(T)||0),p=A,_=this._parsePercent(w)||0,x=this._parsePercent(M)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??z4),m=this.strokeOpacity,m==null&&(m=1)),p=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(_,x),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=d,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=p??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let v=this.clipRect;if(v&&Array.isArray(v)&&v.length===4)r.uTroikaClipRect.value.fromArray(v);else{const S=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-S,l[1]-S,l[2]+S,l[3]+S)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new et;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||E_;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==E_&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,d,p]=l;f0.set(0,0,0)[c]=u==="-"?1:-1,M_.set(0,0,0)[p]=d==="-"?-1:1,V4.lookAt(rye,f0.cross(M_),M_),a.setFromMatrix4(V4)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Oe){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new Oe){return f0.copy(e),this.localPositionToTextCoords(this.worldToLocal(f0),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?Hk():Vk(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let d=s[0]+u.getX(c)*(s[2]-s[0]);const p=s[1]+u.getY(c)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(d/i)*i,d=Math.sin(d/i)*i),l.setXYZ(c,d,p,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,qh.length=0,o.raycast(e,qh);for(let c=0;c<qh.length;c++)qh[c].object=this,n.push(qh[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,oye.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};Gk.forEach(t=>{const e="_private_"+t;Object.defineProperty(Wk.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new is;new et;const aye=re.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const c=xo(({invalidate:g})=>g),[d]=re.useState(()=>new Wk),[p,m]=re.useMemo(()=>{const g=[];let _="";return re.Children.forEach(s,x=>{typeof x=="string"||typeof x=="number"?_+=x:g.push(x)}),[g,_]},[s]);return S0e(()=>new Promise(g=>jve({font:r,characters:o},g)),["troika-text",r,o]),re.useLayoutEffect(()=>void d.sync(()=>{c(),a&&a(d)})),re.useEffect(()=>()=>d.dispose(),[d]),re.createElement("primitive",Ef({object:d,ref:u,font:r,text:m,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),p)}),lye=re.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},c)=>{const d=xo(A=>A.invalidate),p=xo(A=>A.camera),m=xo(A=>A.gl),g=xo(A=>A.events),_=xo(A=>A.setEvents),x=xo(A=>A.set),v=xo(A=>A.get),S=xo(A=>A.performance),w=e||p,M=r||g.connected||m.domElement,T=re.useMemo(()=>new hve(w),[w]);return Ak(()=>{T.enabled&&T.update()},-1),re.useEffect(()=>(s&&T.connect(s===!0?M:s),T.connect(M),()=>void T.dispose()),[s,M,n,T,d]),re.useEffect(()=>{const A=C=>{d(),n&&S.regress(),o&&o(C)},R=C=>{a&&a(C)},L=C=>{l&&l(C)};return T.addEventListener("change",A),T.addEventListener("start",R),T.addEventListener("end",L),()=>{T.removeEventListener("start",R),T.removeEventListener("end",L),T.removeEventListener("change",A)}},[o,a,l,T,d,_]),re.useEffect(()=>{if(t){const A=v().controls;return x({controls:T}),()=>x({controls:A})}},[t,T]),re.createElement("primitive",Ef({ref:c,object:T,enableDamping:i},u))}),uye=()=>{const t=re.useRef(),{darkMode:e,lightBG:n,darkBG:r}=Za(Ii);console.log(e,n,r),Ak(a=>{t.current.position.x=Math.sin(a.clock.elapsedTime)*2});const i=new et().setStyle(r),s="#ffffff",o=new et().setStyle(n);return le.jsxs("mesh",{children:[le.jsx("boxGeometry",{args:[2,2,2]}),le.jsx("meshStandardMaterial",{color:i}),le.jsx(aye,{ref:t,fontSize:.8,color:s,position:[0,0,1],anchorX:"center",anchorY:"middle",outlineWidth:.1,outlineColor:o,children:"Hi! I am Ashutosh.."})]})},cye=()=>le.jsx("div",{style:{width:"800px"},className:"h-[150px] sm:h-[400px]  ",children:le.jsx(ive,{camera:{position:[0,0,5],fov:60},children:le.jsxs(re.Suspense,{fallback:null,children:[le.jsx("ambientLight",{intensity:.5}),le.jsx("directionalLight",{position:[5,5,5],intensity:.8}),le.jsx(uye,{}),le.jsx(lye,{enableZoom:!1,autoRotate:!0})]})})}),G4=()=>{const{darkMode:t,lightBG:e,darkBG:n}=Za(Ii),r=cD();return le.jsxs($t.div,{className:`flex font-sans h-full ${t?"bg-slate-800":"bg-gray-100"} flex-col-reverse sm:flex-row items-center overflow-hidden `,...sue,initial:{opacity:0,y:-100},animate:{opacity:1,y:0},transition:{duration:.8},children:[le.jsxs($t.div,{className:"flex-auto p-6 w-full sm:w-1/2",...iue,children:[le.jsxs("div",{className:"flex flex-wrap",children:[le.jsx($t.h1,{className:`flex-auto font-medium ${t?"text-slate-400":"text-slate-900"}`,...NP("up"),children:"Ashutosh koli"}),le.jsx($t.div,{className:`w-full flex-none mt-2 order-1 text-3xl font-bold ${t?"text-cyan-500":"text-violet-500"}`,...Ix,style:{color:e},children:"Web Developer"})]}),le.jsx("div",{className:"flex flex-col sm:flex-row items-baseline mt-4 mb-1 pb-6",children:le.jsxs("div",{className:"space-x-2 flex text-sm font-bold",children:[le.jsx("span",{className:`text-violet-400 ${t?"text-white":"text-slate-700"}`,...Ix,style:{color:e},children:"Location:"}),le.jsx("span",{className:`text-slate-700 ${t?"text-white":"text-slate-700"}`,...Ix,children:"Maharashtra, India"})]})}),le.jsx("div",{className:"flex space-x-4 mb-3 text-sm font-medium",children:le.jsxs("div",{className:"flex-auto flex space-x-4",children:[le.jsx($t.button,{onClick:()=>r("/contact"),className:`h-10 px-3 sm:px-6 font-semibold rounded-full ${t?"bg-cyan-400 text-slate-100":"bg-violet-600 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.3},style:{backgroundColor:e},children:"Contact Me"}),le.jsx($t.button,{onClick:()=>r("/projects"),className:`h-10 px-3 sm:px-6 font-semibold rounded-full  border ${t?"border-cyan-400 text-cyan-400":"border-slate-200 text-slate-900"}`,whileHover:{scale:1.1},whileTap:{scale:.3},style:{borderColor:e,color:e},children:"View Projects"})]})}),le.jsx($t.p,{className:`text-sm text-justify ${t?"text-slate-200":"text-slate-500"}`,variants:NP("up"),children:"A Computer engineering graduate deeply passionate about web development, I am actively seeking web developer as well as software engineer positions in the MERN stack, with the goal of advancing my skills and making meaningful contributions to impactful projects."})]}),le.jsx(cye,{})]})};function fye(t){return Jt({tag:"svg",attr:{t:"1569683742680",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]})(t)}const hye=({darkMode:t,lightBG:e,darkBG:n})=>{const[r,i]=re.useState(""),[s,o]=re.useState([]),a=re.useRef(null);re.useEffect(()=>{l()},[s]);const l=()=>{var c;(c=a.current)==null||c.scrollIntoView({behavior:"smooth"})},u=c=>{if(c.preventDefault(),r.trim()==="")return;const d={text:r,sender:"user"};o(m=>[...m,d]),i("");let p;r.toLowerCase().includes("name")?p={text:"My name is Ashutosh.",sender:"bot"}:r.toLowerCase().includes("age")?p={text:"I am 23 years old",sender:"bot"}:r.toLowerCase().includes("location")?p={text:"I live in Jalgaon, Maharashtra, India",sender:"bot"}:r.toLowerCase().includes("education")?p={text:"I have completed my gratuation in computer engineering from DBATU, lonere university",sender:"bot"}:r.toLowerCase().includes("hobbies")?p={text:"Some of my hobbies include watching web series, coding and reading",sender:"bot"}:r.toLowerCase().includes("skills")?p={text:"I have skills in programming languages like JavaScript,MongoDB, Java, HTML, CSS and much more",sender:"bot"}:p={text:"I'm sorry, I cannot answer that question.",sender:"bot"},o(m=>[...m,p])};return le.jsxs("div",{className:"flex flex-row w-full",children:[le.jsxs("div",{className:"flex-grow p-4",children:[le.jsx($t.div,{className:"text-3xl font-bold mb-4 ",style:{color:n},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:"What do you want to know about me?"}),le.jsxs("div",{className:"overflow-y-auto h-full",children:[s.map((c,d)=>le.jsx($t.div,{className:`flex mb-4 ${c.sender==="user"?"justify-end":"justify-start"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:le.jsx("div",{className:`rounded-lg p-2 ${c.sender==="user"?" text-white":"bg-gray-200 text-gray-800"}`,style:{backgroundColor:c.sender==="user"?n:"rgb(229 231 235)"},children:c.text})},d)),le.jsx("div",{ref:a})]})]}),le.jsx("form",{onSubmit:u,className:`fixed bottom-12 sm:bottom-4 pb-2 sm:pb-16 w-full sm:w-[92%] ${t?"bg-slate-800":"bg-gray-100"}`,children:le.jsxs("div",{className:"flex items-center border-t p-4",style:{borderColor:t?n:""},children:[le.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),className:"flex-grow outline-none px-4 py-2 border border-gray-300 rounded-full mr-4",placeholder:"Ask me anything..."}),le.jsx("button",{type:"submit",className:"flex items-center justify-center  text-white rounded-full p-2 hover:bg-blue-600",style:{backgroundColor:n},children:le.jsx(fye,{className:"w-5 h-5"})})]})})]})},dye=()=>{const{darkMode:t,lightBG:e,darkBG:n,activeLink:r,setActiveLink:i}=Za(Ii),[s,o]=re.useState(!1);return le.jsxs("div",{className:"flex h-screen flex-col-reverse sm:flex-row ",style:{color:t?n:e,backgroundColor:t?"rgb(30 41 59)":"rgb(243 244 246)"},children:[le.jsxs("div",{className:"flex-none p-4",children:[le.jsx(Vle,{}),le.jsxs($t.div,{className:"show fixed z-20 right-1 bottom-36 sm:hidden",children:[s&&r==6&&le.jsx(ble,{onClick:()=>o(!s)}),!s&&r==6&&le.jsx(wle,{onClick:()=>o(!s)})]}),le.jsxs("div",{className:`flex flex-row justify-around sm:flex-col sm:space-y-8 items-center py-0 sm:py-4 ${s&&r==6?"pb-14":""}`,children:[le.jsx($t.div,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(1),children:le.jsx($u,{to:"/home",className:`flex items-center py-3 px-3  mb-6 sm:mb-0 rounded-[50%] ${t?"hover:text-white":"hover:text-slate-500"}`,style:{color:t||r==1?n:e,border:r==1&&`2px solid ${n}`},children:le.jsx(Ple,{className:"h-5 w-5"})})}),le.jsx($t.div,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(2),children:le.jsx($u,{to:"/about",className:"flex items-center py-3 px-3  mb-6 sm:mb-0 rounded-[50%]",style:{color:t?n:e,border:r==2&&`2px solid ${n}`},children:le.jsx(Nle,{className:"h-5 w-5"})})}),le.jsx($t.div,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(3),children:le.jsx($u,{to:"/projects",className:"flex items-center py-3 px-3  mb-6 sm:mb-0 rounded-[50%]",style:{color:t?n:e,border:r==3&&`2px solid ${n}`},children:le.jsx(Ale,{className:"h-5 w-5"})})}),le.jsx($t.div,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(4),children:le.jsx($u,{to:"/contact",className:"flex items-center py-3 px-3  mb-6 sm:mb-0 rounded-[50%]",style:{color:t?n:e,border:r==4&&`2px solid ${n}`},children:le.jsx(uU,{className:"h-5 w-5"})})}),le.jsx($t.div,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(5),children:le.jsx($u,{to:"/skills",className:"flex items-center py-3 px-3  mb-6 sm:mb-0 rounded-[50%] ",style:{color:t?n:e,border:r==5&&`2px solid ${n}`},children:le.jsx(Rle,{className:"h-5 w-5"})})}),le.jsx($t.div,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(6),children:le.jsx($u,{to:"/chat",className:"flex items-center py-3 px-3  mb-6 sm:mb-0 rounded-[50%] ",style:{color:t?n:e,border:r==6&&`2px solid ${n}`},children:le.jsx(vle,{className:"h-5 w-5"})})})]}),le.jsx(Fle,{})]}),le.jsxs("div",{className:"flex-auto p-3",children:[le.jsxs(N8,{children:[le.jsx(ua,{path:"/",element:le.jsx(G4,{})}),le.jsx(ua,{path:"/home",element:le.jsx(G4,{})}),le.jsx(ua,{path:"/about",element:le.jsx(tue,{})}),le.jsx(ua,{path:"/projects",element:le.jsx(Jle,{})}),le.jsx(ua,{path:"/skills",element:le.jsx(qle,{})}),le.jsx(ua,{path:"/chat",element:le.jsx(hye,{darkMode:t,darkBG:n,lightBG:e})}),le.jsx(ua,{path:"/contact",element:le.jsx(nue,{darkMode:t,darkBG:n,lightBG:e})})]}),le.jsx(rue,{darkBG:n,lightBG:e,darkMode:t})]})]})},pye=()=>{const{darkMode:t,lightBG:e,darkBG:n}=Za(Ii);return le.jsx(le.Fragment,{children:le.jsx($t.div,{style:{backgroundColor:t?n:e},children:le.jsx(H8,{children:le.jsx($t.div,{children:le.jsx(dye,{})})})})})};T_.createRoot(document.getElementById("root")).render(le.jsx(X.StrictMode,{children:le.jsx(pye,{})}))});export default mye();
